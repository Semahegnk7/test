!function(){"use strict";var Ue=function(e){if(null===e)return"null";if(void 0===e)return"undefined";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},jn=function(e){return{eq:e}},zn=jn(function(e,t){return e===t}),p=function(e){return jn(function(t,n){if(t.length!==n.length)return!1;for(var r=t.length,o=0;o<r;o++)if(!e.eq(t[o],n[o]))return!1;return!0})},kn=function(e){return jn(function(t,n){var l,u,f,r=Object.keys(t),o=Object.keys(n);if(!(l=zn,u=p(l),f=function(u){return Array.prototype.slice.call(u).sort(void 0)},jn(function(m,b){return u.eq(f(m),f(b))})).eq(r,o))return!1;for(var i=r.length,a=0;a<i;a++){var s=r[a];if(!e.eq(t[s],n[s]))return!1}return!0})},Jn=jn(function(e,t){if(e===t)return!0;var n=Ue(e);return n===Ue(t)&&(-1!==["undefined","boolean","number","string","function","xml","null"].indexOf(n)?e===t:"array"===n?p(Jn).eq(e,t):"object"===n&&kn(Jn).eq(e,t))});const Jt=Object.getPrototypeOf,ao=(e,t,n)=>{var r;return!!n(e,t.prototype)||(null===(r=e.constructor)||void 0===r?void 0:r.name)===t.name},Io=e=>t=>(n=>{const r=typeof n;return null===n?"null":"object"===r&&Array.isArray(n)?"array":"object"===r&&ao(n,String,(o,i)=>i.isPrototypeOf(o))?"string":r})(t)===e,Xo=e=>t=>typeof t===e,Si=e=>t=>e===t,Ti=(e,t)=>ut(e)&&ao(e,t,(n,r)=>Jt(n)===r),We=Io("string"),ut=Io("object"),Dt=e=>Ti(e,Object),zt=Io("array"),ye=Si(null),Tr=Xo("boolean"),sn=Si(void 0),qt=e=>null==e,Ne=e=>!qt(e),Ft=Xo("function"),T=Xo("number"),Po=(e,t)=>{if(zt(e)){for(let n=0,r=e.length;n<r;++n)if(!t(e[n]))return!1;return!0}return!1},Ke=()=>{},Ur=(e,t)=>(...n)=>e(t.apply(null,n)),Ki=(e,t)=>n=>e(t(n)),Ae=e=>()=>e,At=e=>e,Mo=(e,t)=>e===t;function Re(e,...t){return(...n)=>{const r=t.concat(n);return e.apply(null,r)}}const so=e=>t=>!e(t),Vr=e=>()=>{throw new Error(e)},No=e=>e(),wr=e=>{e()},Ut=Ae(!1),tn=Ae(!0);class O{constructor(t,n){this.tag=t,this.value=n}static some(t){return new O(!0,t)}static none(){return O.singletonNone}fold(t,n){return this.tag?n(this.value):t()}isSome(){return this.tag}isNone(){return!this.tag}map(t){return this.tag?O.some(t(this.value)):O.none()}bind(t){return this.tag?t(this.value):O.none()}exists(t){return this.tag&&t(this.value)}forall(t){return!this.tag||t(this.value)}filter(t){return!this.tag||t(this.value)?this:O.none()}getOr(t){return this.tag?this.value:t}or(t){return this.tag?this:t}getOrThunk(t){return this.tag?this.value:t()}orThunk(t){return this.tag?this:t()}getOrDie(t){if(this.tag)return this.value;throw new Error(t??"Called getOrDie on None")}static from(t){return Ne(t)?O.some(t):O.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(t){this.tag&&t(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}O.singletonNone=new O(!1);const wi=Array.prototype.slice,Bo=Array.prototype.indexOf,Yi=Array.prototype.push,ma=(e,t)=>Bo.call(e,t),Bt=(e,t)=>ma(e,t)>-1,Zt=(e,t)=>{for(let n=0,r=e.length;n<r;n++)if(t(e[n],n))return!0;return!1},wt=(e,t)=>{const n=e.length,r=new Array(n);for(let o=0;o<n;o++)r[o]=t(e[o],o);return r},de=(e,t)=>{for(let n=0,r=e.length;n<r;n++)t(e[n],n)},_s=(e,t)=>{for(let n=e.length-1;n>=0;n--)t(e[n],n)},qn=(e,t)=>{const n=[],r=[];for(let o=0,i=e.length;o<i;o++){const a=e[o];(t(a,o)?n:r).push(a)}return{pass:n,fail:r}},tt=(e,t)=>{const n=[];for(let r=0,o=e.length;r<o;r++){const i=e[r];t(i,r)&&n.push(i)}return n},Fo=(e,t,n)=>(_s(e,(r,o)=>{n=t(n,r,o)}),n),yn=(e,t,n)=>(de(e,(r,o)=>{n=t(n,r,o)}),n),Ir=(e,t,n)=>{for(let r=0,o=e.length;r<o;r++){const i=e[r];if(t(i,r))return O.some(i);if(n(i,r))break}return O.none()},Gt=(e,t)=>Ir(e,t,Ut),vn=(e,t)=>{for(let n=0,r=e.length;n<r;n++)if(t(e[n],n))return O.some(n);return O.none()},wn=e=>{const t=[];for(let n=0,r=e.length;n<r;++n){if(!zt(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);Yi.apply(t,e[n])}return t},vr=(e,t)=>wn(wt(e,t)),jo=(e,t)=>{for(let n=0,r=e.length;n<r;++n)if(!0!==t(e[n],n))return!1;return!0},br=e=>{const t=wi.call(e,0);return t.reverse(),t},Ho=(e,t)=>tt(e,n=>!Bt(t,n)),Jo=(e,t)=>{const n={};for(let r=0,o=e.length;r<o;r++){const i=e[r];n[String(i)]=t(i,r)}return n},st=(e,t)=>{const n=wi.call(e,0);return n.sort(t),n},Wn=(e,t)=>t>=0&&t<e.length?O.some(e[t]):O.none(),En=e=>Wn(e,0),Zo=e=>Wn(e,e.length-1),_r=Ft(Array.from)?Array.from:e=>wi.call(e),ei=(e,t)=>{for(let n=0;n<e.length;n++){const r=t(e[n],n);if(r.isSome())return r}return O.none()},Zn=Object.keys,lo=Object.hasOwnProperty,xt=(e,t)=>{const n=Zn(e);for(let r=0,o=n.length;r<o;r++){const i=n[r];t(e[i],i)}},sr=(e,t)=>Ao(e,(n,r)=>({k:r,v:t(n,r)})),Ao=(e,t)=>{const n={};return xt(e,(r,o)=>{const i=t(r,o);n[i.k]=i.v}),n},$a=e=>(t,n)=>{e[n]=t},Qi=(e,t,n,r)=>{xt(e,(o,i)=>{(t(o,i)?n:r)(o,i)})},Ni=(e,t)=>{const n={};return Qi(e,t,$a(n),Ke),n},Ai=(e,t)=>{const n=[];return xt(e,(r,o)=>{n.push(t(r,o))}),n},Ua=e=>Ai(e,At),Pt=(e,t)=>nt(e,t)?O.from(e[t]):O.none(),nt=(e,t)=>lo.call(e,t),$o=(e,t)=>nt(e,t)&&null!=e[t],Va=e=>{const t={};return de(e,n=>{t[n]={}}),Zn(t)},Nr=e=>void 0!==e.length,Kn=Array.isArray,xi=(e,t,n)=>{if(!e)return!1;if(n=n||e,Nr(e)){for(let r=0,o=e.length;r<o;r++)if(!1===t.call(n,e[r],r,e))return!1}else for(const r in e)if(nt(e,r)&&!1===t.call(n,e[r],r,e))return!1;return!0},ga=(e,t)=>{const n=[];return xi(e,(r,o)=>{n.push(t(r,o,e))}),n},Oi=(e,t)=>{const n=[];return xi(e,(r,o)=>{t&&!t(r,o,e)||n.push(r)}),n},Gi=(e,t,n,r)=>{let o=sn(n)?e[0]:n;for(let i=0;i<e.length;i++)o=t.call(r,o,e[i],i);return o},ti=(e,t,n)=>{for(let r=0,o=e.length;r<o;r++)if(t.call(n,e[r],r,e))return r;return-1},Nn=e=>e[e.length-1],Ar=e=>{let t,n=!1;return(...r)=>(n||(n=!0,t=e.apply(null,r)),t)},ni=()=>va(0,0),va=(e,t)=>({major:e,minor:t}),Xi={nu:va,detect:(e,t)=>{const n=String(t).toLowerCase();return 0===e.length?ni():((r,o)=>{const i=((s,l)=>{for(let d=0;d<s.length;d++){const u=s[d];if(u.test(l))return u}})(r,o);if(!i)return{major:0,minor:0};const a=s=>Number(o.replace(i,"$"+s));return va(a(1),a(2))})(e,n)},unknown:ni},ys=(e,t)=>{const n=String(t).toLowerCase();return Gt(e,r=>r.search(n))},za=(e,t,n)=>""===t||e.length>=t.length&&e.substr(n,n+t.length)===t,ba=(e,t)=>un(e,t)?e.substring(t.length):e,Cn=(e,t,n=0,r)=>{const o=e.indexOf(t,n);return-1!==o&&(!!sn(r)||o+t.length<=r)},un=(e,t)=>za(e,t,0),zr=(e,t)=>za(e,t,e.length-t.length),Hn=e=>t=>t.replace(e,""),qr=Hn(/^\s+|\s+$/g),co=Hn(/^\s+/g),Uo=Hn(/\s+$/g),lr=e=>e.length>0,ri=e=>!lr(e),uo=(e,t=10)=>{const n=parseInt(e,t);return isNaN(n)?O.none():O.some(n)},Pr=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,$n=e=>t=>Cn(t,e),Vo=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>Cn(e,"edge/")&&Cn(e,"chrome")&&Cn(e,"safari")&&Cn(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Pr],search:e=>Cn(e,"chrome")&&!Cn(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>Cn(e,"msie")||Cn(e,"trident")},{name:"Opera",versionRegexes:[Pr,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:$n("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:$n("firefox")},{name:"Safari",versionRegexes:[Pr,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(Cn(e,"safari")||Cn(e,"mobile/"))&&Cn(e,"applewebkit")}],_a=[{name:"Windows",search:$n("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>Cn(e,"iphone")||Cn(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:$n("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:$n("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:$n("linux"),versionRegexes:[]},{name:"Solaris",search:$n("sunos"),versionRegexes:[]},{name:"FreeBSD",search:$n("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:$n("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],qa={browsers:Ae(Vo),oses:Ae(_a)},ya="Chromium",Cs="Firefox",fo=e=>{const t=e.current,r=o=>()=>t===o;return{current:t,version:e.version,isEdge:r("Edge"),isChromium:r(ya),isIE:r("IE"),isOpera:r("Opera"),isFirefox:r(Cs),isSafari:r("Safari")}},Ri=()=>fo({current:void 0,version:Xi.unknown()}),Zi=fo,An=(Ae("Edge"),Ae(ya),Ae("IE"),Ae("Opera"),Ae(Cs),Ae("Safari"),"Windows"),xr="Android",po="Solaris",mo="FreeBSD",ki="ChromeOS",oi=e=>{const t=e.current,r=o=>()=>t===o;return{current:t,version:e.version,isWindows:r(An),isiOS:r("iOS"),isAndroid:r(xr),isMacOS:r("macOS"),isLinux:r("Linux"),isSolaris:r(po),isFreeBSD:r(mo),isChromeOS:r(ki)}},Ka=()=>oi({current:void 0,version:Xi.unknown()}),xo=oi,ea=(Ae(An),Ae("iOS"),Ae(xr),Ae("Linux"),Ae("macOS"),Ae(po),Ae(mo),Ae(ki),e=>window.matchMedia(e).matches);let er=Ar(()=>((e,t,n)=>{const r=qa.browsers(),o=qa.oses(),i=t.bind(l=>{return d=r,ei(l.brands,f=>{const m=f.brand.toLowerCase();return Gt(d,b=>{var g;return m===(null===(g=b.brand)||void 0===g?void 0:g.toLowerCase())}).map(b=>({current:b.name,version:Xi.nu(parseInt(f.version,10),0)}))});var d}).orThunk(()=>{return ys(r,d=e).map(u=>{const f=Xi.detect(u.versionRegexes,d);return{current:u.name,version:f}});var d}).fold(Ri,Zi),a=(l=o,d=e,ys(l,d).map(u=>{const f=Xi.detect(u.versionRegexes,d);return{current:u.name,version:f}})).fold(Ka,xo),s=((l,d,u,f)=>{const m=l.isiOS()&&!0===/ipad/i.test(u),b=l.isiOS()&&!m,g=l.isiOS()||l.isAndroid(),E=g||f("(pointer:coarse)"),v=m||!b&&g&&f("(min-device-width:768px)"),C=b||g&&!v,w=d.isSafari()&&l.isiOS()&&!1===/safari/i.test(u),A=!C&&!v&&!w;return{isiPad:Ae(m),isiPhone:Ae(b),isTablet:Ae(v),isPhone:Ae(C),isTouch:Ae(E),isAndroid:l.isAndroid,isiOS:l.isiOS,isWebView:Ae(w),isDesktop:Ae(A)}})(a,i,e,n);var l,d;return{browser:i,os:a,deviceType:s}})(navigator.userAgent,O.from(navigator.userAgentData),ea));const dr=()=>er(),Di=navigator.userAgent,qo=dr(),Dn=qo.browser,bn=qo.os,Or=qo.deviceType,Li=-1!==Di.indexOf("Windows Phone"),Et={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:Dn.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!Dn.isIE(),windowsPhone:Li,browser:{current:Dn.current,version:Dn.version,isChromium:Dn.isChromium,isEdge:Dn.isEdge,isFirefox:Dn.isFirefox,isIE:Dn.isIE,isOpera:Dn.isOpera,isSafari:Dn.isSafari},os:{current:bn.current,version:bn.version,isAndroid:bn.isAndroid,isChromeOS:bn.isChromeOS,isFreeBSD:bn.isFreeBSD,isiOS:bn.isiOS,isLinux:bn.isLinux,isMacOS:bn.isMacOS,isSolaris:bn.isSolaris,isWindows:bn.isWindows},deviceType:{isDesktop:Or.isDesktop,isiPad:Or.isiPad,isiPhone:Or.isiPhone,isPhone:Or.isPhone,isTablet:Or.isTablet,isTouch:Or.isTouch,isWebView:Or.isWebView}},cr=/^\s*|\s*$/g,Ya=e=>qt(e)?"":(""+e).replace(cr,""),ta=function(e,t,n,r){r=r||this,e&&(n&&(e=e[n]),xi(e,(o,i)=>!1!==t.call(r,o,i,n)&&(ta(o,t,n,r),!0)))},Se={trim:Ya,isArray:Kn,is:(e,t)=>t?!("array"!==t||!Kn(e))||typeof e===t:void 0!==e,toArray:e=>{if(Kn(e))return e;{const t=[];for(let n=0,r=e.length;n<r;n++)t[n]=e[n];return t}},makeMap:(e,t,n={})=>{const r=We(e)?e.split(t||","):e||[];let o=r.length;for(;o--;)n[r[o]]={};return n},each:xi,map:ga,grep:Oi,inArray:(e,t)=>{if(e)for(let n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},hasOwn:nt,extend:(e,...t)=>{for(let n=0;n<t.length;n++){const r=t[n];for(const o in r)if(nt(r,o)){const i=r[o];void 0!==i&&(e[o]=i)}}return e},walk:ta,resolve:(e,t=window)=>{const n=e.split(".");for(let r=0,o=n.length;r<o&&(t=t[n[r]]);r++);return t},explode:(e,t)=>zt(e)?e:""===e?[]:ga(e.split(t||","),Ya),_addCacheSuffix:e=>{const t=Et.cacheSuffix;return t&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e}},go=(e,t,n=Mo)=>e.exists(r=>n(r,t)),Ss=(e,t,n=Mo)=>Ln(e,t,n).getOr(e.isNone()&&t.isNone()),Ln=(e,t,n)=>e.isSome()&&t.isSome()?O.some(n(e.getOrDie(),t.getOrDie())):O.none(),Wr=(e,t)=>e?O.some(t):O.none(),Mr=typeof window<"u"?window:Function("return this;")(),Kr=(e,t)=>((n,r)=>{let o=r??Mr;for(let i=0;i<n.length&&null!=o;++i)o=o[n[i]];return o})(e.split("."),t),Ea=Object.getPrototypeOf,Nt=e=>e.dom.nodeName.toLowerCase(),Ga=e=>e.dom.nodeType,na=e=>t=>Ga(t)===e,Ii=e=>Un(e)&&(e=>{const t=Kr("ownerDocument.defaultView",e);return ut(e)&&((n=t,((r,o)=>{const i=Kr(r,o);if(null==i)throw new Error(r+" not available on this browser");return i})("HTMLElement",n)).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Ea(e).constructor.name));var n})(e.dom),Un=na(1),In=na(3),Pi=na(9),Wo=na(11),Oo=e=>t=>Un(t)&&Nt(t)===e,Ca=(e,t,n)=>{if(!(We(n)||Tr(n)||T(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},on=(e,t,n)=>{Ca(e.dom,t,n)},Yr=(e,t)=>{const n=e.dom;xt(t,(r,o)=>{Ca(n,o,r)})},Yn=(e,t)=>{const n=e.dom.getAttribute(t);return null===n?void 0:n},Br=(e,t)=>O.from(Yn(e,t)),Mi=(e,t)=>{const n=e.dom;return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},nn=(e,t)=>{e.dom.removeAttribute(t)},Qr=e=>yn(e.dom.attributes,(t,n)=>(t[n.name]=n.value,t),{}),Gr=(e,t)=>{const n=Yn(e,t);return void 0===n||""===n?[]:n.split(" ")},ii=e=>void 0!==e.dom.classList,Sa=e=>Gr(e,"class"),Xa=(e,t)=>((n,r,o)=>{const i=Gr(n,r).concat([o]);return on(n,r,i.join(" ")),!0})(e,"class",t),c=(e,t)=>((n,r,o)=>{const i=tt(Gr(n,r),a=>a!==o);return i.length>0?on(n,r,i.join(" ")):nn(n,r),!1})(e,"class",t),h=(e,t)=>{ii(e)?e.dom.classList.add(t):Xa(e,t)},y=e=>{0===(ii(e)?e.dom.classList:Sa(e)).length&&nn(e,"class")},S=(e,t)=>{ii(e)?e.dom.classList.remove(t):c(e,t),y(e)},R=(e,t)=>ii(e)&&e.dom.classList.contains(t),D=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},B=(e,t)=>{const n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){const r="HTML does not have a single root node";throw console.error(r,e),new Error(r)}return D(n.childNodes[0])},z=(e,t)=>{const n=(t||document).createElement(e);return D(n)},V=(e,t)=>{const n=(t||document).createTextNode(e);return D(n)},k=D,Te=(e,t)=>{const n=[],r=i=>(n.push(i),t(i));let o=t(e);do{o=o.bind(r)}while(o.isSome());return n},ae=(e,t)=>{const n=e.dom;if(1!==n.nodeType)return!1;{const r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},ke=e=>1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount,Fe=(e,t)=>e.dom===t.dom,Ot=(e,t)=>{const n=e.dom,r=t.dom;return n!==r&&n.contains(r)},Rt=e=>k(e.dom.ownerDocument),an=e=>Pi(e)?e:Rt(e),rn=e=>k(an(e).dom.defaultView),en=e=>O.from(e.dom.parentNode).map(k),yr=e=>O.from(e.dom.parentElement).map(k),jt=(e,t)=>{const n=Ft(t)?t:Ut;let r=e.dom;const o=[];for(;null!=r.parentNode;){const i=r.parentNode,a=k(i);if(o.push(a),!0===n(a))break;r=i}return o},Pn=e=>O.from(e.dom.previousSibling).map(k),Lt=e=>O.from(e.dom.nextSibling).map(k),ln=e=>br(Te(e,Pn)),Bi=e=>Te(e,Lt),fn=e=>wt(e.dom.childNodes,k),ur=(e,t)=>O.from(e.dom.childNodes[t]).map(k),Xr=e=>ur(e,0),Qn=e=>ur(e,e.dom.childNodes.length-1),tr=e=>e.dom.childNodes.length,Er=e=>Wo(e)&&Ne(e.dom.host),Sn=Ft(Element.prototype.attachShadow)&&Ft(Node.prototype.getRootNode),Jr=Ae(Sn),xn=Sn?e=>k(e.dom.getRootNode()):an,Zr=e=>Er(e)?e:(t=>{const n=t.dom.head;if(null==n)throw new Error("Head is not available yet");return k(n)})(an(e)),ra=e=>k(e.dom.host),Ja=e=>{if(Jr()&&Ne(e.target)){const t=k(e.target);if(Un(t)&&Ts(t)&&e.composed&&e.composedPath){const n=e.composedPath();if(n)return En(n)}}return O.from(e.target)},Ts=e=>Ne(e.dom.shadowRoot),Ht=e=>{const t=In(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const n=t.ownerDocument;return(r=>{const o=xn(r);return Er(o)?O.some(o):O.none()})(k(t)).fold(()=>n.body.contains(t),Ki(Ht,ra))};var ai=(e,t,n,r,o)=>e(n,r)?O.some(n):Ft(o)&&o(n)?O.none():t(n,r,o);const Mn=(e,t,n)=>{let r=e.dom;const o=Ft(n)?n:Ut;for(;r.parentNode;){r=r.parentNode;const i=k(r);if(t(i))return O.some(i);if(o(i))break}return O.none()},Fr=(e,t,n)=>ai((r,o)=>o(r),Mn,e,t,n),oa=(e,t)=>{const n=r=>{for(let o=0;o<r.childNodes.length;o++){const i=k(r.childNodes[o]);if(t(i))return O.some(i);const a=n(r.childNodes[o]);if(a.isSome())return a}return O.none()};return n(e.dom)},fr=(e,t,n)=>Mn(e,r=>ae(r,t),n),Fi=(e,t)=>((n,r)=>{const o=void 0===r?document:r.dom;return ke(o)?O.none():O.from(o.querySelector(n)).map(k)})(t,e),Rr=(e,t,n)=>ai((r,o)=>ae(r,o),fr,e,t,n),eo=(e,t=!1)=>{return Ht(e)?e.dom.isContentEditable:(n=e,Rr(n,"[contenteditable]")).fold(Ae(t),r=>"true"===vo(r));var n},vo=e=>e.dom.contentEditable,si=e=>void 0!==e.style&&Ft(e.style.getPropertyValue),Ko=(e,t,n)=>{if(!We(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);si(e)&&e.style.setProperty(t,n)},ji=(e,t,n)=>{Ko(e.dom,t,n)},bo=(e,t)=>{const n=e.dom;xt(t,(r,o)=>{Ko(n,o,r)})},nr=(e,t)=>{const n=e.dom,r=window.getComputedStyle(n).getPropertyValue(t);return""!==r||Ht(e)?r:Za(n,t)},Za=(e,t)=>si(e)?e.style.getPropertyValue(t):"",Ro=(e,t)=>{const r=Za(e.dom,t);return O.from(r).filter(o=>o.length>0)},Hi=e=>{const t={},n=e.dom;if(si(n))for(let r=0;r<n.style.length;r++){const o=n.style.item(r);t[o]=n.style[o]}return t},ia=(e,t)=>{var n,r;r=t,si(n=e.dom)&&n.style.removeProperty(r),go(Br(e,"style").map(qr),"")&&nn(e,"style")},Vn=(e,t)=>{en(e).each(n=>{n.dom.insertBefore(t.dom,e.dom)})},hr=(e,t)=>{Lt(e).fold(()=>{en(e).each(n=>{$(n,t)})},n=>{Vn(n,t)})},_o=(e,t)=>{Xr(e).fold(()=>{$(e,t)},n=>{e.dom.insertBefore(t.dom,n.dom)})},$=(e,t)=>{e.dom.appendChild(t.dom)},te=(e,t)=>{Vn(e,t),$(t,e)},se=(e,t)=>{de(t,n=>{$(e,n)})},fe=e=>{e.dom.textContent="",de(fn(e),t=>{ce(t)})},ce=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},Be=e=>{const t=fn(e);var n,r;t.length>0&&(n=e,de(r=t,(o,i)=>{hr(0===i?n:r[i-1],o)})),ce(e)},Ge=e=>wt(e,k),dt=e=>e.dom.innerHTML,ze=(e,t)=>{const n=Rt(e).dom,r=k(n.createDocumentFragment()),o=((i,a)=>{const s=(a||document).createElement("div");return s.innerHTML=i,fn(k(s))})(t,n);se(r,o),fe(e),$(e,r)},pt=(e,t,n,r)=>{e.dom.removeEventListener(t,n,r)},gt=(e,t)=>({left:e,top:t,translate:(n,r)=>gt(e+n,t+r)}),kt=gt,ft=(e,t)=>void 0!==e?e:void 0!==t?t:0,Mt=e=>{const t=e.dom,n=t.ownerDocument.body;return n===t?kt(n.offsetLeft,n.offsetTop):Ht(e)?(r=>{const o=r.getBoundingClientRect();return kt(o.left,o.top)})(t):kt(0,0)},On=e=>{const t=void 0!==e?e.dom:document;return kt(t.body.scrollLeft||t.documentElement.scrollLeft,t.body.scrollTop||t.documentElement.scrollTop)},pe=(e,t,n)=>{const r=(void 0!==n?n.dom:document).defaultView;r&&r.scrollTo(e,t)},be=(e,t)=>{dr().browser.isSafari()&&Ft(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},ve=(e,t,n,r)=>({x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}),j=e=>{const t=void 0===e?window:e,r=On(k(t.document));return(o=>{const i=void 0===o?window:o;return dr().browser.isFirefox()?O.none():O.from(i.visualViewport)})(t).fold(()=>{const o=t.document.documentElement;return ve(r.left,r.top,o.clientWidth,o.clientHeight)},o=>ve(Math.max(o.pageLeft,r.left),Math.max(o.pageTop,r.top),o.width,o.height))},X=(e,t)=>{let n=[];return de(fn(e),r=>{t(r)&&(n=n.concat([r])),n=n.concat(X(r,t))}),n},le=(e,t)=>((n,r)=>{const o=void 0===r?document:r.dom;return ke(o)?[]:wt(o.querySelectorAll(n),k)})(t,e),Ee=(e,t,n)=>fr(e,t,n).isSome();class De{constructor(t,n){this.node=t,this.rootNode=n,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node}prev(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node}prev2(t){return this.node=this.findPreviousNode(this.node,t),this.node}findSibling(t,n,r,o){if(t){if(!o&&t[n])return t[n];if(t!==this.rootNode){let i=t[r];if(i)return i;for(let a=t.parentNode;a&&a!==this.rootNode;a=a.parentNode)if(i=a[r],i)return i}}}findPreviousNode(t,n){if(t){const r=t.previousSibling;if(this.rootNode&&r===this.rootNode)return;if(r){if(!n)for(let i=r.lastChild;i;i=i.lastChild)if(!i.lastChild)return i;return r}const o=t.parentNode;if(o&&o!==this.rootNode)return o}}}const vt=e=>t=>!!t&&t.nodeType===e,Vt=e=>!!e&&!Object.getPrototypeOf(e),Le=vt(1),rr=e=>Le(e)&&Ii(k(e)),kr=e=>{const t=e.toLowerCase();return n=>Ne(n)&&n.nodeName.toLowerCase()===t},to=e=>{const t=e.map(n=>n.toLowerCase());return n=>{if(n&&n.nodeName){const r=n.nodeName.toLowerCase();return Bt(t,r)}return!1}},aa=(e,t)=>{const n=t.toLowerCase().split(" ");return r=>{if(Le(r)){const o=r.ownerDocument.defaultView;if(o)for(let i=0;i<n.length;i++){const a=o.getComputedStyle(r,null);if((a?a.getPropertyValue(e):null)===n[i])return!0}}return!1}},yd=e=>t=>Le(t)&&t.hasAttribute(e),sa=e=>Le(e)&&e.hasAttribute("data-mce-bogus"),$i=e=>Le(e)&&"TABLE"===e.tagName,$c=e=>t=>!(!rr(t)||t.contentEditable!==e&&t.getAttribute("data-mce-contenteditable")!==e),Rl=to(["textarea","input"]),Ce=vt(3),$f=vt(4),Uf=vt(7),Ta=vt(8),Ks=vt(9),kl=vt(11),dn=kr("br"),Dl=kr("img"),Yo=$c("true"),Wt=$c("false"),Ll=to(["td","th"]),Vf=to(["td","th","caption"]),Ui=to(["video","audio","object","embed"]),zf=kr("li"),Ed=kr("details"),qf=kr("summary"),hn="\xa0",Cd=e=>"\ufeff"===e,Ns=((e,t)=>{const n=r=>e(r)?O.from(r.dom.nodeValue):O.none();return{get:r=>{if(!e(r))throw new Error("Can only get text value of a text node");return n(r).getOr("")},getOption:n,set:(r,o)=>{if(!e(r))throw new Error("Can only set raw text value of a text node");r.dom.nodeValue=o}}})(In),yo=e=>Ns.get(e),Uc=e=>Ns.getOption(e),es=e=>{let t;return n=>(t=t||Jo(e,tn),nt(t,Nt(n)))},ts=e=>Un(e)&&"br"===Nt(e),Vc=es(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),ns=es(["ul","ol","dl"]),la=es(["li","dd","dt"]),Ys=es(["thead","tbody","tfoot"]),rs=es(["td","th"]),Il=es(["pre","script","textarea","style"]),Qs=()=>{const e=z("br");return on(e,"data-mce-bogus","1"),e},Qo=e=>{fe(e),$(e,Qs())},Bn="\ufeff",Pl=Cd,Eo=e=>e.replace(/\uFEFF/g,""),Wf=Le,As=Ce,xs=e=>(As(e)&&(e=e.parentNode),Wf(e)&&e.hasAttribute("data-mce-caret")),wa=e=>As(e)&&Pl(e.data),pr=e=>xs(e)||wa(e),os=e=>e.firstChild!==e.lastChild||!dn(e.firstChild),Sd=e=>{const t=e.container();return!!Ce(t)&&(t.data.charAt(e.offset())===Bn||e.isAtStart()&&wa(t.previousSibling))},Os=e=>{const t=e.container();return!!Ce(t)&&(t.data.charAt(e.offset()-1)===Bn||e.isAtEnd()&&wa(t.nextSibling))},Co=e=>As(e)&&e.data[0]===Bn,Ml=e=>As(e)&&e.data[e.data.length-1]===Bn,Bl=e=>e&&e.hasAttribute("data-mce-caret")?((t=>{var n;const r=t.getElementsByTagName("br"),o=r[r.length-1];sa(o)&&(null===(n=o.parentNode)||void 0===n||n.removeChild(o))})(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,zc=e=>xs(e.startContainer),qc=Yo,Kf=Wt,Yf=dn,Qf=Ce,Gf=to(["script","style","textarea"]),Wc=to(["img","input","textarea","hr","iframe","video","audio","object","embed"]),Xf=to(["table"]),Fl=pr,Cr=e=>!Fl(e)&&(Qf(e)?!Gf(e.parentNode):Wc(e)||Yf(e)||Xf(e)||Td(e)),Td=e=>{return!(Le(t=e)&&"true"===t.getAttribute("unselectable"))&&Kf(e);var t},Gs=(e,t)=>Cr(e)&&((n,r)=>{for(let o=n.parentNode;o&&o!==r;o=o.parentNode){if(Td(o))return!1;if(qc(o))return!0}return!0})(e,t),jl=/^[ \t\r\n]*$/,Na=e=>jl.test(e),Jf=e=>{for(const t of e)if(!Cd(t))return!1;return!0},Kc=e=>"\n"===e||"\r"===e,Aa=(e,t=4,n=!0,r=!0)=>{const o=(l=t)<=0?"":new Array(l+1).join(" "),i=e.replace(/\t/g,o);var l;return yn(i,(s,l)=>{return-1!==" \f\t\v".indexOf(l)||l===hn?s.pcIsSpace||""===s.str&&n||s.str.length===i.length-1&&r||(u=s.str.length+1)<(d=i).length&&u>=0&&Kc(d[u])?{pcIsSpace:!1,str:s.str+hn}:{pcIsSpace:!0,str:s.str+" "}:{pcIsSpace:Kc(l),str:s.str+l};var d,u},{pcIsSpace:!1,str:""}).str},Hl=(e,t)=>{return Cr(e)&&(r=t,!(Ce(n=e)&&Na(n.data)&&!((o,i)=>{const a=k(i),s=k(o);return Ee(s,"pre,code",Re(Fe,a))})(n,r)))||(n=>Le(n)&&"A"===n.nodeName&&!n.hasAttribute("href")&&(n.hasAttribute("name")||n.hasAttribute("id")))(e)||Zf(e);var n,r},Zf=yd("data-mce-bookmark"),eh=yd("data-mce-bogus"),th=e=>Le(e)&&"all"===e.getAttribute("data-mce-bogus"),Yc=e=>yr(k(e)).exists(t=>!eo(t)),Tn=(e,t=!0)=>((n,r)=>{let o=0;if(Hl(n,n))return!1;{let i=n.firstChild;if(!i)return!0;const a=new De(i,n);do{if(r){if(th(i)){i=a.next(!0);continue}if(eh(i)){i=a.next();continue}}if(Yo(i)&&Yc(i))return!1;if(dn(i))o++,i=a.next();else{if(Hl(i,n))return!1;i=a.next()}}while(i);return o<=1}})(e.dom,t),xa=e=>"svg"===e.toLowerCase(),Xs=e=>xa(e.nodeName),Qc=e=>"svg"===e?.nodeName?"svg":"html",Gc=["svg"],$l="data-mce-block",wd=e=>{return wt((t=e,tt(Zn(t),n=>!/[A-Z]/.test(n))),t=>`${t}:`+wt(Gc,n=>`not(${n} ${t})`).join(":")).join(",");var t},Xc=(e,t)=>Ne(t.querySelector(e))?(t.setAttribute($l,"true"),"inline-boundary"===t.getAttribute("data-mce-selected")&&t.removeAttribute("data-mce-selected"),!0):(t.removeAttribute($l),!1),Nd=(e,t)=>{const n=wd(e.getTransparentElements()),r=wd(e.getBlockElements());return tt(t.querySelectorAll(n),o=>Xc(r,o))},Jc=(e,t)=>{var n;const r=t?"lastChild":"firstChild";for(let o=e[r];o;o=o[r])if(Tn(k(o)))return void(null===(n=o.parentNode)||void 0===n||n.removeChild(o))},is=(e,t)=>{const n=Nd(e,t);var r,o,i;((e,t,n)=>{const r=e.getBlockElements(),o=k(t),i=s=>Nt(s)in r,a=s=>Fe(s,o);de(Ge(n),s=>{Mn(s,i,a).each(l=>{const d=tt(fn(s),m=>i(m)&&!e.isValidChild(Nt(l),Nt(m)));if(d.length>0){const u=yr(l);de(d,f=>{Mn(f,i,a).each(m=>{((b,g)=>{const E=document.createRange(),v=b.parentNode;if(v){E.setStartBefore(b),E.setEndBefore(g);const C=E.extractContents();Jc(C,!0),E.setStartAfter(g),E.setEndAfter(b);const w=E.extractContents();Jc(w,!1),Tn(k(C))||v.insertBefore(C,b),Tn(k(g))||v.insertBefore(g,b),Tn(k(w))||v.insertBefore(w,b),v.removeChild(b)}})(m.dom,f.dom)})}),u.each(f=>Nd(e,f.dom))}})})})(e,t,n),r=e,o=t,i=n,de([...i,...ss(r,o)?[o]:[]],a=>de(le(k(a),a.nodeName.toLowerCase()),s=>{rh(r,s.dom)&&Be(s)}))},nh=(e,t)=>{if(Ad(e,t)){const n=wd(e.getBlockElements());Xc(n,t)}},Rs=e=>e.hasAttribute($l),as=(e,t)=>nt(e.getTransparentElements(),t),Ad=(e,t)=>Le(t)&&as(e,t.nodeName),ss=(e,t)=>Ad(e,t)&&Rs(t),rh=(e,t)=>Ad(e,t)&&!Rs(t),ls=(e,t)=>1===t.type&&as(e,t.name)&&We(t.attr($l)),oh=dr().browser,xd=e=>Gt(e,Un),Od=(e,t)=>e.children&&Bt(e.children,t),Zc=(e,t={})=>{let n=0;const r={},o=k(e),i=an(o),a=f=>{$(Zr(o),f)},s=f=>{const m=Zr(o);Fi(m,"#"+f).each(ce)},l=f=>Pt(r,f).getOrThunk(()=>({id:"mce-u"+n++,passed:[],failed:[],count:0})),d=f=>new Promise((m,b)=>{let g;const E=Se._addCacheSuffix(f),v=l(E);r[E]=v,v.count++;const C=(P,H)=>{de(P,wr),v.status=H,v.passed=[],v.failed=[],g&&(g.onload=null,g.onerror=null,g=null)},w=()=>C(v.passed,2),A=()=>C(v.failed,3);if(m&&v.passed.push(m),b&&v.failed.push(b),1===v.status)return;if(2===v.status)return void w();if(3===v.status)return void A();v.status=1;const M=z("link",i.dom);Yr(M,{rel:"stylesheet",type:"text/css",id:v.id}),t.contentCssCors&&on(M,"crossOrigin","anonymous"),t.referrerPolicy&&on(M,"referrerpolicy",t.referrerPolicy),g=M.dom,g.onload=w,g.onerror=A,a(M),on(M,"href",E)}),u=f=>{const m=Se._addCacheSuffix(f);Pt(r,m).each(b=>{0==--b.count&&(delete r[m],s(b.id))})};return{load:d,loadRawCss:(f,m)=>{const b=l(f);r[f]=b,b.count++;const g=z("style",i.dom);Yr(g,{rel:"stylesheet",type:"text/css",id:b.id}),g.dom.innerHTML=m,a(g)},loadAll:f=>Promise.allSettled(wt(f,m=>d(m).then(Ae(m)))).then(m=>{const b=qn(m,g=>"fulfilled"===g.status);return b.fail.length>0?Promise.reject(wt(b.fail,g=>g.reason)):wt(b.pass,g=>g.value)}),unload:u,unloadRawCss:f=>{Pt(r,f).each(m=>{0==--m.count&&(delete r[f],s(m.id))})},unloadAll:f=>{de(f,m=>{u(m)})},_setReferrerPolicy:f=>{t.referrerPolicy=f},_setContentCssCors:f=>{t.contentCssCors=f}}},eu=(()=>{const e=new WeakMap;return{forElement:(t,n)=>{const r=xn(t).dom;return O.from(e.get(r)).getOrThunk(()=>{const o=Zc(r,n);return e.set(r,o),o})}}})(),tu=(e,t,n)=>Ne(e)&&(Hl(e,t)||n.isInline(e.nodeName.toLowerCase())),nu=e=>"span"===e.nodeName.toLowerCase()&&"bookmark"===e.getAttribute("data-mce-type"),Rd=(e,t,n,r)=>{var o;const i=r||t;if(Le(t)&&nu(t))return t;const a=t.childNodes;for(let s=a.length-1;s>=0;s--)Rd(e,a[s],n,i);if(Le(t)){const s=t.childNodes;1===s.length&&nu(s[0])&&(null===(o=t.parentNode)||void 0===o||o.insertBefore(s[0],t))}return kl(s=t)||Ks(s)||Hl(t,i)||(s=>!!Le(s)&&s.childNodes.length>0)(t)||((s,l,d)=>Ce(s)&&s.data.length>0&&((u,f,m)=>{const b=new De(u,f).prev(!1),g=new De(u,f).next(!1),E=sn(b)||tu(b,f,m),v=sn(g)||tu(g,f,m);return E&&v})(s,l,d))(t,i,n)||e.remove(t),t;var s},ih=Se.makeMap,Ul=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Zs=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ru=/[<>&\"\']/g,ah=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,sh={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"},ds={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},el={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},cs=(e,t)=>{const n={};if(e){const r=e.split(",");t=t||10;for(let o=0;o<r.length;o+=2){const i=String.fromCharCode(parseInt(r[o],t));if(!ds[i]){const a="&"+r[o+1]+";";n[i]=a,n[a]=i}}return n}},kd=cs("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),tl=(e,t)=>e.replace(t?Ul:Zs,n=>ds[n]||n),ks=(e,t)=>e.replace(t?Ul:Zs,n=>n.length>1?"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";":ds[n]||"&#"+n.charCodeAt(0)+";"),Dd=(e,t,n)=>{const r=n||kd;return e.replace(t?Ul:Zs,o=>ds[o]||r[o]||o)},Oa={encodeRaw:tl,encodeAllRaw:e=>(""+e).replace(ru,t=>ds[t]||t),encodeNumeric:ks,encodeNamed:Dd,getEncodeFunc:(e,t)=>{const n=cs(t)||kd,r=ih(e.replace(/\+/g,","));return r.named&&r.numeric?(o,i)=>o.replace(i?Ul:Zs,a=>void 0!==ds[a]?ds[a]:void 0!==n[a]?n[a]:a.length>1?"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";":"&#"+a.charCodeAt(0)+";"):r.named?t?(o,i)=>Dd(o,i,n):Dd:r.numeric?ks:tl},decode:e=>e.replace(ah,(t,n)=>n?(n="x"===n.charAt(0).toLowerCase()?parseInt(n.substr(1),16):parseInt(n,10))>65535?(n-=65536,String.fromCharCode(55296+(n>>10),56320+(1023&n))):sh[n]||String.fromCharCode(n):el[t]||kd[t]||(r=>{const o=z("div").dom;return o.innerHTML=r,o.textContent||o.innerText||r})(t))},or=(e,t)=>(e=Se.trim(e))?e.split(t||" "):[],Ds=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),nl={},Ls=Se.makeMap,li=Se.each,Ld=Se.extend,ou=Se.explode,iu=(e,t={})=>{const n=Ls(e," ",Ls(e.toUpperCase()," "));return Ld(n,t)},au=e=>iu("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),Vl=(e,t)=>{if(e){const n={};return We(e)&&(e={"*":e}),li(e,(r,o)=>{n[o]=n[o.toUpperCase()]="map"===t?Ls(r,/[, ]/):ou(r,/[, ]/)}),n}},Ra=(e={})=>{var t;const n={},r={};let o=[];const i={},a={},s=(qe,yt,St)=>{const ht=e[qe];if(ht)return Ls(ht,/[, ]/,Ls(ht.toUpperCase(),/[, ]/));{let Tt=nl[qe];return Tt||(Tt=iu(yt,St),nl[qe]=Tt),Tt}},l=null!==(t=e.schema)&&void 0!==t?t:"html5",d=(qe=>{const{globalAttributes:yt,phrasingContent:St,flowContent:ht}=(pn=>{let Gn,Sr,io;Gn="id accesskey class dir lang style tabindex title role",Sr="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",io="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==pn&&(Gn+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",Sr+=" article aside details dialog figure main header footer hgroup section nav a ins del canvas map",io+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen svg"),"html5-strict"!==pn&&(Gn+=" xml:lang",io=[io,"acronym applet basefont big font strike tt"].join(" "),Sr=[Sr,"center dir isindex noframes"].join(" "));const _i=[Sr,io].join(" ");return{globalAttributes:Gn,blockContent:Sr,phrasingContent:io,flowContent:_i}})(qe),Tt={},ar=(pn,Gn,Sr)=>{Tt[pn]={attributes:Jo(Gn,Ae({})),attributesOrder:Gn,children:Jo(Sr,Ae({}))}},Ze=(pn,Gn="",Sr="")=>{const io=or(Sr),_i=or(pn);let Lr=_i.length;const yi=or([yt,Gn].join(" "));for(;Lr--;)ar(_i[Lr],yi.slice(),io)},Ct=(pn,Gn)=>{const Sr=or(pn),io=or(Gn);let _i=Sr.length;for(;_i--;){const Lr=Tt[Sr[_i]];for(let yi=0,Xn=io.length;yi<Xn;yi++)Lr.attributes[io[yi]]={},Lr.attributesOrder.push(io[yi])}};return"html5-strict"!==qe&&(de(or("acronym applet basefont big font strike tt"),pn=>{Ze(pn,"",St)}),de(or("center dir isindex noframes"),pn=>{Ze(pn,"",ht)})),Ze("html","manifest","head body"),Ze("head","","base command link meta noscript script style title"),Ze("title hr noscript br"),Ze("base","href target"),Ze("link","href rel media hreflang type sizes hreflang"),Ze("meta","name http-equiv content charset"),Ze("style","media type scoped"),Ze("script","src async defer type charset"),Ze("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",ht),Ze("dd div","",ht),Ze("address dt caption","","html4"===qe?St:ht),Ze("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",St),Ze("blockquote","cite",ht),Ze("ol","reversed start type","li"),Ze("ul","","li"),Ze("li","value",ht),Ze("dl","","dt dd"),Ze("a","href target rel media hreflang type","html4"===qe?St:ht),Ze("q","cite",St),Ze("ins del","cite datetime",ht),Ze("img","src sizes srcset alt usemap ismap width height"),Ze("iframe","src name width height",ht),Ze("embed","src type width height"),Ze("object","data type typemustmatch name usemap form width height",[ht,"param"].join(" ")),Ze("param","name value"),Ze("map","name",[ht,"area"].join(" ")),Ze("area","alt coords shape href target rel media hreflang type"),Ze("table","border","caption colgroup thead tfoot tbody tr"+("html4"===qe?" col":"")),Ze("colgroup","span","col"),Ze("col","span"),Ze("tbody thead tfoot","","tr"),Ze("tr","","td th"),Ze("td","colspan rowspan headers",ht),Ze("th","colspan rowspan headers scope abbr",ht),Ze("form","accept-charset action autocomplete enctype method name novalidate target",ht),Ze("fieldset","disabled form name",[ht,"legend"].join(" ")),Ze("label","form for",St),Ze("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),Ze("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===qe?ht:St),Ze("select","disabled form multiple name required size","option optgroup"),Ze("optgroup","disabled label","option"),Ze("option","disabled label selected value"),Ze("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),Ze("menu","type label",[ht,"li"].join(" ")),Ze("noscript","",ht),"html4"!==qe&&(Ze("wbr"),Ze("ruby","",[St,"rt rp"].join(" ")),Ze("figcaption","",ht),Ze("mark rt rp bdi","",St),Ze("summary","",[St,"h1 h2 h3 h4 h5 h6"].join(" ")),Ze("canvas","width height",ht),Ze("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[ht,"track source"].join(" ")),Ze("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[ht,"track source"].join(" ")),Ze("picture","","img source"),Ze("source","src srcset type media sizes"),Ze("track","kind src srclang label default"),Ze("datalist","",[St,"option"].join(" ")),Ze("article section nav aside main header footer","",ht),Ze("hgroup","","h1 h2 h3 h4 h5 h6"),Ze("figure","",[ht,"figcaption"].join(" ")),Ze("time","datetime",St),Ze("dialog","open",ht),Ze("command","type label icon disabled checked radiogroup command"),Ze("output","for form name",St),Ze("progress","value max",St),Ze("meter","value min max low high optimum",St),Ze("details","open",[ht,"summary"].join(" ")),Ze("keygen","autofocus challenge disabled form keytype name"),ar("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),"html5-strict"!==qe&&(Ct("script","language xml:space"),Ct("style","xml:space"),Ct("object","declare classid code codebase codetype archive standby align border hspace vspace"),Ct("embed","align name hspace vspace"),Ct("param","valuetype type"),Ct("a","charset name rev shape coords"),Ct("br","clear"),Ct("applet","codebase archive code object alt name width height align hspace vspace"),Ct("img","name longdesc align border hspace vspace"),Ct("iframe","longdesc frameborder marginwidth marginheight scrolling align"),Ct("font basefont","size color face"),Ct("input","usemap align"),Ct("select"),Ct("textarea"),Ct("h1 h2 h3 h4 h5 h6 div p legend caption","align"),Ct("ul","type compact"),Ct("li","type"),Ct("ol dl menu dir","compact"),Ct("pre","width xml:space"),Ct("hr","align noshade size width"),Ct("isindex","prompt"),Ct("table","summary width frame rules cellspacing cellpadding align bgcolor"),Ct("col","width align char charoff valign"),Ct("colgroup","width align char charoff valign"),Ct("thead","align char charoff valign"),Ct("tr","align char charoff valign bgcolor"),Ct("th","axis align char charoff valign nowrap bgcolor width height"),Ct("form","accept"),Ct("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),Ct("tfoot","align char charoff valign"),Ct("tbody","align char charoff valign"),Ct("area","nohref"),Ct("body","background bgcolor text link vlink alink")),"html4"!==qe&&(Ct("input button select textarea","autofocus"),Ct("input textarea","placeholder"),Ct("a","download"),Ct("link script img","crossorigin"),Ct("img","loading"),Ct("iframe","sandbox seamless allow allowfullscreen loading")),"html4"!==qe&&de([Tt.video,Tt.audio],pn=>{delete pn.children.audio,delete pn.children.video}),de(or("a form meter progress dfn"),pn=>{Tt[pn]&&delete Tt[pn].children[pn]}),delete Tt.caption.children.table,delete Tt.script,Tt})(l);!1===e.verify_html&&(e.valid_elements="*[*]");const u=Vl(e.valid_styles),f=Vl(e.invalid_styles,"map"),m=Vl(e.valid_classes,"map"),b=s("whitespace_elements","pre script noscript style textarea video audio iframe object code"),g=s("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),E=s("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),v=s("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),C="td th iframe video audio object script code",w=s("non_empty_elements",C+" pre svg",E),A=s("move_caret_before_on_enter_elements",C+" table",E),M="h1 h2 h3 h4 h5 h6",P=s("text_block_elements",M+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),H=s("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing",P),K=s("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),G=s("transparent_elements","a ins del canvas map"),J=s("wrap_block_elements","pre "+M);li("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),qe=>{a[qe]=new RegExp("</"+qe+"[^>]*>","gi")});const ne=qe=>{const yt=O.from(n["@"]),St=/[*?+]/;de(((ht,Tt)=>{const ar=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return vr(or(Tt,","),Ze=>{const Ct=ar.exec(Ze);if(Ct){const pn=Ct[1],Gn=Ct[2],Sr=Ct[3],io=Ct[4],_i=Ct[5],Lr={attributes:{},attributesOrder:[]};if(ht.each(yi=>{return vs=Lr,xt((Xn=yi).attributes,(Ei,Wi)=>{vs.attributes[Wi]=Ei}),void vs.attributesOrder.push(...Xn.attributesOrder);var Xn,vs}),"#"===pn?Lr.paddEmpty=!0:"-"===pn&&(Lr.removeEmpty=!0),"!"===io&&(Lr.removeEmptyAttrs=!0),_i&&((yi,Xn)=>{const vs=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,Ei=/[*?+]/,{attributes:Wi,attributesOrder:Nl}=Xn;de(or(yi,"|"),Fc=>{const Al=vs.exec(Fc);if(Al){const Ci={},Ff=Al[1],mn=Al[2].replace(/[\\:]:/g,":"),pa=Al[3],xl=Al[4];if("!"===Ff&&(Xn.attributesRequired=Xn.attributesRequired||[],Xn.attributesRequired.push(mn),Ci.required=!0),"-"===Ff)return delete Wi[mn],void Nl.splice(Se.inArray(Nl,mn),1);if(pa&&("="===pa?(Xn.attributesDefault=Xn.attributesDefault||[],Xn.attributesDefault.push({name:mn,value:xl}),Ci.defaultValue=xl):"~"===pa?(Xn.attributesForced=Xn.attributesForced||[],Xn.attributesForced.push({name:mn,value:xl}),Ci.forcedValue=xl):"<"===pa&&(Ci.validValues=Se.makeMap(xl,"?"))),Ei.test(mn)){const jc=Ci;Xn.attributePatterns=Xn.attributePatterns||[],jc.pattern=Ds(mn),Xn.attributePatterns.push(jc)}else Wi[mn]||Nl.push(mn),Wi[mn]=Ci}})})(_i,Lr),Sr&&(Lr.outputName=Gn),"@"===Gn){if(!ht.isNone())return[];ht=O.some(Lr)}return[Sr?{name:Gn,element:Lr,aliasName:Sr}:{name:Gn,element:Lr}]}return[]})})(yt,qe??""),({name:ht,element:Tt,aliasName:ar})=>{if(ar&&(n[ar]=Tt),St.test(ht)){const Ze=Tt;Ze.pattern=Ds(ht),o.push(Ze)}else n[ht]=Tt})},U=qe=>{o=[],de(Zn(n),yt=>{delete n[yt]}),ne(qe)},Y=qe=>{delete nl.text_block_elements,delete nl.block_elements,de((yt=>{const St=/^(~)?(.+)$/;return vr(or(yt,","),ht=>{const Tt=St.exec(ht);if(Tt){const ar="~"===Tt[1];return[{inline:ar,cloneName:ar?"span":"div",name:Tt[2]}]}return[]})})(qe??""),({inline:yt,name:St,cloneName:ht})=>{if(r[St]=r[ht],i[St]=ht,w[St.toUpperCase()]={},w[St]={},yt||(H[St.toUpperCase()]={},H[St]={}),!n[St]){let Tt=n[ht];Tt=Ld({},Tt),delete Tt.removeEmptyAttrs,delete Tt.removeEmpty,n[St]=Tt}xt(r,(Tt,ar)=>{Tt[ht]&&(r[ar]=Tt=Ld({},r[ar]),Tt[St]=Tt[ht])})})},ee=qe=>{de((yt=>{const St=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return vr(or(yt,","),ht=>{const Tt=St.exec(ht);if(Tt){const ar=Tt[1];return[{operation:ar?(Ct=ar,"-"===Ct?"remove":"add"):"replace",name:Tt[2],validChildren:or(Tt[3],"|")}]}var Ct;return[]})})(qe??""),({operation:yt,name:St,validChildren:ht})=>{const Tt="replace"===yt?{"#comment":{}}:r[St];de(ht,ar=>{"remove"===yt?delete Tt[ar]:Tt[ar]={}}),r[St]=Tt})},ue=qe=>{const yt=n[qe];if(yt)return yt;let St=o.length;for(;St--;){const ht=o[St];if(ht.pattern.test(qe))return ht}};e.valid_elements?(U(e.valid_elements),li(d,(qe,yt)=>{r[yt]=qe.children})):(li(d,(qe,yt)=>{n[yt]={attributes:qe.attributes,attributesOrder:qe.attributesOrder},r[yt]=qe.children}),li(or("strong/b em/i"),qe=>{const yt=or(qe,"/");n[yt[1]].outputName=yt[0]}),li(K,(qe,yt)=>{n[yt]&&(e.padd_empty_block_inline_children&&(n[yt].paddInEmptyBlock=!0),n[yt].removeEmpty=!0)}),li(or("ol ul blockquote a table tbody"),qe=>{n[qe]&&(n[qe].removeEmpty=!0)}),li(or("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),qe=>{n[qe]&&(n[qe].paddEmpty=!0)}),li(or("span"),qe=>{n[qe].removeEmptyAttrs=!0})),delete n.svg,Y(e.custom_elements),ee(e.valid_children),ne(e.extended_valid_elements),ee("+ol[ul|ol],+ul[ul|ol]"),li({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(qe,yt)=>{n[yt]&&(n[yt].parentsRequired=or(qe))}),e.invalid_elements&&li(ou(e.invalid_elements),qe=>{n[qe]&&delete n[qe]}),ue("span")||ne("span[!data-mce-type|*]");const Oe=Ae(u),we=Ae(f),Xe=Ae(m),Ye=Ae(v),rt=Ae(H),Je=Ae(P),Ie=Ae(K),He=Ae(Object.seal(E)),lt=Ae(g),q=Ae(w),Q=Ae(A),me=Ae(b),ge=Ae(G),_e=Ae(J),$e=Ae(Object.seal(a)),et=(qe,yt)=>{const St=ue(qe);if(St){if(!yt)return!0;{if(St.attributes[yt])return!0;const ht=St.attributePatterns;if(ht){let Tt=ht.length;for(;Tt--;)if(ht[Tt].pattern.test(yt))return!0}}}return!1},ct=qe=>nt(rt(),qe),ot=qe=>!un(qe,"#")&&et(qe)&&!ct(qe),Qt=Ae(i);return{type:l,children:r,elements:n,getValidStyles:Oe,getValidClasses:Xe,getBlockElements:rt,getInvalidStyles:we,getVoidElements:He,getTextBlockElements:Je,getTextInlineElements:Ie,getBoolAttrs:Ye,getElementRule:ue,getSelfClosingElements:lt,getNonEmptyElements:q,getMoveCaretBeforeOnEnterElements:Q,getWhitespaceElements:me,getTransparentElements:ge,getSpecialElements:$e,isValidChild:(qe,yt)=>{const St=r[qe.toLowerCase()];return!(!St||!St[yt.toLowerCase()])},isValid:et,isBlock:ct,isInline:ot,isWrapper:qe=>nt(_e(),qe)||ot(qe),getCustomElements:Qt,addValidElements:ne,setValidElements:U,addCustomElements:Y,addValidChildren:ee}},Is=e=>{const t=e.toString(16);return(1===t.length?"0"+t:t).toUpperCase()},N=e=>{return{value:(n=Is(e.red)+Is(e.green)+Is(e.blue),ba(n,"#").toUpperCase())};var n},L=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,I=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,_=(e,t,n,r)=>({red:e,green:t,blue:n,alpha:r}),x=(e,t,n,r)=>{const o=parseInt(e,10),i=parseInt(t,10),a=parseInt(n,10),s=parseFloat(r);return _(o,i,a,s)},F=e=>{if("transparent"===e)return O.some(_(0,0,0,0));const t=L.exec(e);if(null!==t)return O.some(x(t[1],t[2],t[3],"1"));const n=I.exec(e);return null!==n?O.some(x(n[1],n[2],n[3],n[4])):O.none()},W=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,Z=e=>F(e).map(N).map(t=>"#"+t.value).getOr(e),ie=(e={},t)=>{const n=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,r=/\s*([^:]+):\s*([^;]+);?/g,o=/\s+$/,i={};let a,s;t&&(a=t.getValidStyles(),s=t.getInvalidStyles());const d="\\\" \\' \\; \\: ; : \ufeff".split(" ");for(let f=0;f<d.length;f++)i[d[f]]="\ufeff"+f,i["\ufeff"+f]=d[f];const u={parse:f=>{const m={};let b=!1;const g=e.url_converter,E=e.url_converter_scope||u,v=(ne,U,Y)=>{const ee=m[ne+"-top"+U];if(!ee)return;const ue=m[ne+"-right"+U];if(!ue)return;const Oe=m[ne+"-bottom"+U];if(!Oe)return;const we=m[ne+"-left"+U];if(!we)return;const Xe=[ee,ue,Oe,we];let Ye=Xe.length-1;for(;Ye--&&Xe[Ye]===Xe[Ye+1];);Ye>-1&&Y||(m[ne+U]=-1===Ye?Xe[0]:Xe.join(" "),delete m[ne+"-top"+U],delete m[ne+"-right"+U],delete m[ne+"-bottom"+U],delete m[ne+"-left"+U])},C=ne=>{const U=m[ne];if(!U)return;const Y=U.indexOf(",")>-1?[U]:U.split(" ");let ee=Y.length;for(;ee--;)if(Y[ee]!==Y[0])return!1;return m[ne]=Y[0],!0},w=ne=>(b=!0,i[ne]),A=(ne,U)=>(b&&(ne=ne.replace(/\uFEFF[0-9]/g,Y=>i[Y])),U||(ne=ne.replace(/\\([\'\";:])/g,"$1")),ne),M=ne=>String.fromCharCode(parseInt(ne.slice(1),16)),P=ne=>ne.replace(/\\[0-9a-f]+/gi,M),H=(ne,U,Y,ee,ue,Oe)=>{if(ue=ue||Oe)return"'"+(ue=A(ue)).replace(/\'/g,"\\'")+"'";if(U=A(U||Y||ee||""),!e.allow_script_urls){const we=U.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(we)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(we))return""}return g&&(U=g.call(E,U,"style")),"url('"+U.replace(/\'/g,"\\'")+"')"};if(f){let ne;for(f=(f=f.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,w).replace(/\"[^\"]+\"|\'[^\']+\'/g,U=>U.replace(/[;:]/g,w));ne=r.exec(f);){r.lastIndex=ne.index+ne[0].length;let U=ne[1].replace(o,"").toLowerCase(),Y=ne[2].replace(o,"");if(U&&Y){if(U=P(U),Y=P(Y),-1!==U.indexOf("\ufeff")||-1!==U.indexOf('"')||!e.allow_script_urls&&("behavior"===U||/expression\s*\(|\/\*|\*\//.test(Y)))continue;"font-weight"===U&&"700"===Y?Y="bold":"color"!==U&&"background-color"!==U||(Y=Y.toLowerCase()),We(e.force_hex_color)&&"off"!==e.force_hex_color&&F(Y).each(ee=>{"always"!==e.force_hex_color&&1!==ee.alpha||(Y=Z(W(ee)))}),Y=Y.replace(n,H),m[U]=b?A(Y,!0):Y}}v("border","",!0),v("border","-width"),v("border","-color"),v("border","-style"),v("padding",""),v("margin",""),G="border-style",J="border-color",C(K="border-width")&&C(G)&&C(J)&&(m.border=m[K]+" "+m[G]+" "+m[J],delete m[K],delete m[G],delete m[J]),"medium none"===m.border&&delete m.border,"none"===m["border-image"]&&delete m["border-image"]}var K,G,J;return m},serialize:(f,m)=>{let b="";const g=(E,v)=>{const C=v[E];if(C)for(let w=0,A=C.length;w<A;w++){const M=C[w],P=f[M];P&&(b+=(b.length>0?" ":"")+M+": "+P+";")}};return m&&a?(g("*",a),g(m,a)):xt(f,(E,v)=>{E&&((C,w)=>{if(!s||!w)return!0;let A=s["*"];return!(A&&A[C]||(A=s[w],A&&A[C]))})(v,m)&&(b+=(b.length>0?" ":"")+v+": "+E+";")}),b}};return u},xe={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},Ve=(e,t)=>{const n=t??{};for(const r in e)nt(xe,r)||(n[r]=e[r]);return Ne(e.composedPath)&&(n.composedPath=()=>e.composedPath()),Ne(e.getModifierState)&&(n.getModifierState=r=>e.getModifierState(r)),Ne(e.getTargetRanges)&&(n.getTargetRanges=()=>e.getTargetRanges()),n},je=(e,t,n,r)=>{var o;const i=Ve(t,r);return i.type=e,qt(i.target)&&(i.target=null!==(o=i.srcElement)&&void 0!==o?o:n),(qt((a=t).preventDefault)||(s=a)instanceof Event||Ft(s.initEvent))&&(i.preventDefault=()=>{i.defaultPrevented=!0,i.isDefaultPrevented=tn,Ft(t.preventDefault)&&t.preventDefault()},i.stopPropagation=()=>{i.cancelBubble=!0,i.isPropagationStopped=tn,Ft(t.stopPropagation)&&t.stopPropagation()},i.stopImmediatePropagation=()=>{i.isImmediatePropagationStopped=tn,i.stopPropagation()},(a=>a.isDefaultPrevented===tn||a.isDefaultPrevented===Ut)(i)||(i.isDefaultPrevented=!0===i.defaultPrevented?tn:Ut,i.isPropagationStopped=!0===i.cancelBubble?tn:Ut,i.isImmediatePropagationStopped=Ut)),i;var a,s},mt=/^(?:mouse|contextmenu)|click/,bt=(e,t,n,r)=>{e.addEventListener(t,n,r||!1)},_t=(e,t,n,r)=>{e.removeEventListener(t,n,r||!1)},Yt=(e,t)=>{const n=je(e.type,e,document,t);if(Ne(r=e)&&mt.test(r.type)&&sn(e.pageX)&&!sn(e.clientX)){const r=n.target.ownerDocument||document,o=r.documentElement,i=r.body,a=n;a.pageX=e.clientX+(o&&o.scrollLeft||i&&i.scrollLeft||0)-(o&&o.clientLeft||i&&i.clientLeft||0),a.pageY=e.clientY+(o&&o.scrollTop||i&&i.scrollTop||0)-(o&&o.clientTop||i&&i.clientTop||0)}var r;return n},ko=(e,t,n)=>{const r=e.document,o={type:"ready"};if(n.domLoaded)return void t(o);const i=()=>{_t(e,"DOMContentLoaded",i),_t(e,"load",i),n.domLoaded||(n.domLoaded=!0,t(o)),e=null};"complete"===r.readyState||"interactive"===r.readyState&&r.body?i():bt(e,"DOMContentLoaded",i),n.domLoaded||bt(e,"load",i)};class jr{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando="mce-data-"+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(t,n,r,o){const i=this;let a;const s=window,l=m=>{i.executeHandlers(Yt(m||s.event),d)};if(!t||Ce(t)||Ta(t))return r;let d;t[i.expando]?d=t[i.expando]:(d=i.count++,t[i.expando]=d,i.events[d]={}),o=o||t;const u=n.split(" ");let f=u.length;for(;f--;){let m=u[f],b=l,g=!1,E=!1;"DOMContentLoaded"===m&&(m="ready"),i.domLoaded&&"ready"===m&&"complete"===t.readyState?r.call(o,Yt({type:m})):(i.hasFocusIn||"focusin"!==m&&"focusout"!==m||(g=!0,E="focusin"===m?"focus":"blur",b=v=>{const C=Yt(v||s.event);C.type="focus"===C.type?"focusin":"focusout",i.executeHandlers(C,d)}),a=i.events[d][m],a?"ready"===m&&i.domLoaded?r(Yt({type:m})):a.push({func:r,scope:o}):(i.events[d][m]=a=[{func:r,scope:o}],a.fakeName=E,a.capture=g,a.nativeHandler=b,"ready"===m?ko(t,b,i):bt(t,E||m,b,g)))}return t=a=null,r}unbind(t,n,r){if(!t||Ce(t)||Ta(t))return this;const o=t[this.expando];if(o){let i=this.events[o];if(n){const a=n.split(" ");let s=a.length;for(;s--;){const l=a[s],d=i[l];if(d){if(r){let u=d.length;for(;u--;)if(d[u].func===r){const f=d.nativeHandler,m=d.fakeName,b=d.capture,g=d.slice(0,u).concat(d.slice(u+1));g.nativeHandler=f,g.fakeName=m,g.capture=b,i[l]=g}}r&&0!==d.length||(delete i[l],_t(t,d.fakeName||l,d.nativeHandler,d.capture))}}}else xt(i,(a,s)=>{_t(t,a.fakeName||s,a.nativeHandler,a.capture)}),i={};for(const a in i)if(nt(i,a))return this;delete this.events[o];try{delete t[this.expando]}catch{t[this.expando]=null}}return this}fire(t,n,r){return this.dispatch(t,n,r)}dispatch(t,n,r){if(!t||Ce(t)||Ta(t))return this;const o=Yt({type:n,target:t},r);do{const i=t[this.expando];i&&this.executeHandlers(o,i),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow}while(t&&!o.isPropagationStopped());return this}clean(t){if(!t||Ce(t)||Ta(t))return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName){this.unbind(t);const n=t.getElementsByTagName("*");let r=n.length;for(;r--;)(t=n[r])[this.expando]&&this.unbind(t)}return this}destroy(){this.events={}}cancel(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1}executeHandlers(t,n){const r=this.events[n],o=r&&r[t.type];if(o)for(let i=0,a=o.length;i<a;i++){const s=o[i];if(s&&!1===s.func.call(s.scope,t)&&t.preventDefault(),t.isImmediatePropagationStopped())return}}}jr.Event=new jr;const Dr=Se.each,us=Se.grep,Id="data-mce-style",su=Se.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),Pd=(e,t,n)=>{qt(n)||""===n?nn(e,t):on(e,t,n)},jg=e=>e.replace(/[A-Z]/g,t=>"-"+t.toLowerCase()),zl=(e,t)=>{let n=0;if(e)for(let r=e.nodeType,o=e.previousSibling;o;o=o.previousSibling){const i=o.nodeType;(!t||!Ce(o)||i!==r&&o.data.length)&&(n++,r=i)}return n},Hg=(e,t)=>{const n=Yn(t,"style"),r=e.serialize(e.parse(n),Nt(t));Pd(t,Id,r)},$g=(e,t,n)=>{const r=jg(t);var o,i;qt(n)||""===n?ia(e,r):ji(e,r,(i=r,T(o=n)?nt(su,i)?o+"":o+"px":o))},Xt=(e,t={})=>{const n={},r=window,o={};let i=0;const a=eu.forElement(k(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),s=[],l=t.schema?t.schema:Ra({}),d=ie({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope,force_hex_color:t.force_hex_color},t.schema),u=t.ownEvents?new jr:jr.Event,f=l.getBlockElements(),m=q=>q&&e&&We(q)?e.getElementById(q):q,b=q=>{const Q=m(q);return Ne(Q)?k(Q):null},g=(q,Q,me="")=>{let ge;const _e=b(q);if(Ne(_e)&&Un(_e)){const $e=lt[Q];ge=$e&&$e.get?$e.get(_e.dom,Q):Yn(_e,Q)}return Ne(ge)?ge:me},E=q=>{const Q=m(q);return qt(Q)?[]:Q.attributes},v=(q,Q,me)=>{G(q,ge=>{if(Le(ge)){const _e=k(ge),$e=""===me?null:me,et=Yn(_e,Q),ct=lt[Q];ct&&ct.set?ct.set(_e.dom,$e,Q):Pd(_e,Q,$e),et!==$e&&t.onSetAttrib&&t.onSetAttrib({attrElm:_e.dom,attrName:Q,attrValue:$e})}})},C=()=>t.root_element||e.body,w=(q,Q)=>((me,ge,_e)=>{let $e=0,et=0;const ct=me.ownerDocument;if(_e=_e||me,ge){if(_e===me&&ge.getBoundingClientRect&&"static"===nr(k(me),"position")){const Qt=ge.getBoundingClientRect();return $e=Qt.left+(ct.documentElement.scrollLeft||me.scrollLeft)-ct.documentElement.clientLeft,et=Qt.top+(ct.documentElement.scrollTop||me.scrollTop)-ct.documentElement.clientTop,{x:$e,y:et}}let ot=ge;for(;ot&&ot!==_e&&ot.nodeType&&!Od(ot,_e);)$e+=ot.offsetLeft||0,et+=ot.offsetTop||0,ot=ot.offsetParent;for(ot=ge.parentNode;ot&&ot!==_e&&ot.nodeType&&!Od(ot,_e);)$e-=ot.scrollLeft||0,et-=ot.scrollTop||0,ot=ot.parentNode;et+=(Qt=k(ge),oh.isFirefox()&&"table"===Nt(Qt)?xd(fn(Qt)).filter(qe=>"caption"===Nt(qe)).bind(qe=>xd(Bi(qe)).map(yt=>yt.dom.offsetTop<=qe.dom.offsetTop?-qe.dom.offsetHeight:0)).getOr(0):0)}var Qt;return{x:$e,y:et}})(e.body,m(q),Q),A=(q,Q,me)=>{const ge=m(q);var _e;if(!qt(ge)&&(rr(ge)||Le(_e=ge)&&"http://www.w3.org/2000/svg"===_e.namespaceURI))return me?nr(k(ge),jg(Q)):("float"===(Q=Q.replace(/-(\D)/g,($e,et)=>et.toUpperCase()))&&(Q="cssFloat"),ge.style?ge.style[Q]:void 0)},M=q=>{const Q=m(q);if(!Q)return{w:0,h:0};let me=A(Q,"width"),ge=A(Q,"height");return me&&-1!==me.indexOf("px")||(me="0"),ge&&-1!==ge.indexOf("px")||(ge="0"),{w:parseInt(me,10)||Q.offsetWidth||Q.clientWidth,h:parseInt(ge,10)||Q.offsetHeight||Q.clientHeight}},P=(q,Q)=>{if(!q)return!1;const me=zt(q)?q:[q];return Zt(me,ge=>ae(k(ge),Q))},H=(q,Q,me,ge)=>{const _e=[];let $e=m(q);ge=void 0===ge;const et=me||("BODY"!==C().nodeName?C().parentNode:null);if(We(Q))if("*"===Q)Q=Le;else{const ct=Q;Q=ot=>P(ot,ct)}for(;$e&&!($e===et||qt($e.nodeType)||Ks($e)||kl($e));){if(!Q||Q($e)){if(!ge)return[$e];_e.push($e)}$e=$e.parentNode}return ge?_e:null},K=(q,Q,me)=>{let ge=Q;if(q){We(Q)&&(ge=_e=>P(_e,Q));for(let _e=q[me];_e;_e=_e[me])if(Ft(ge)&&ge(_e))return _e}return null},G=function(q,Q,me){const ge=me??this;if(zt(q)){const _e=[];return Dr(q,($e,et)=>{const ct=m($e);ct&&_e.push(Q.call(ge,ct,et))}),_e}{const _e=m(q);return!!_e&&Q.call(ge,_e)}},J=(q,Q)=>{G(q,me=>{xt(Q,(ge,_e)=>{v(me,_e,ge)})})},ne=(q,Q)=>{G(q,me=>{const ge=k(me);ze(ge,Q)})},U=(q,Q,me,ge,_e)=>G(q,$e=>{const et=We(Q)?e.createElement(Q):Q;return Ne(me)&&J(et,me),ge&&(!We(ge)&&ge.nodeType?et.appendChild(ge):We(ge)&&ne(et,ge)),_e?et:$e.appendChild(et)}),Y=(q,Q,me)=>U(e.createElement(q),q,Q,me,!0),ee=Oa.encodeAllRaw,ue=(q,Q)=>G(q,me=>{const ge=k(me);return Q&&de(fn(ge),_e=>{In(_e)&&0===_e.dom.length?ce(_e):Vn(ge,_e)}),ce(ge),ge.dom}),Oe=(q,Q,me)=>{G(q,ge=>{if(Le(ge)){const _e=k(ge),$e=Q.split(" ");de($e,et=>{var ct,ot,qe,yt;Ne(me)?(me?h:S)(_e,et):(ot=et,ii(ct=_e)?ct.dom.classList.toggle(ot):(yt=ot,Bt(Sa(qe=ct),yt)?c(qe,yt):Xa(qe,yt)),y(ct))})}})},we=(q,Q,me)=>G(Q,ge=>{var _e;const $e=zt(Q)?q.cloneNode(!0):q;return me&&Dr(us(ge.childNodes),et=>{$e.appendChild(et)}),null===(_e=ge.parentNode)||void 0===_e||_e.replaceChild($e,ge),ge}),Xe=q=>{if(Le(q)){const Q="a"===q.nodeName.toLowerCase()&&!g(q,"href")&&g(q,"id");if(g(q,"name")||g(q,"data-mce-bookmark")||Q)return!0}return!1},Ye=()=>e.createRange(),rt=(q,Q,me,ge)=>{if(zt(q)){let _e=q.length;const $e=[];for(;_e--;)$e[_e]=rt(q[_e],Q,me,ge);return $e}return!t.collect||q!==e&&q!==r||s.push([q,Q,me,ge]),u.bind(q,Q,me,ge||He)},Je=(q,Q,me)=>{if(zt(q)){let ge=q.length;const _e=[];for(;ge--;)_e[ge]=Je(q[ge],Q,me);return _e}if(s.length>0&&(q===e||q===r)){let ge=s.length;for(;ge--;){const[_e,$e,et]=s[ge];q!==_e||Q&&Q!==$e||me&&me!==et||u.unbind(_e,$e,et)}}return u.unbind(q,Q,me)},Ie=q=>{if(q&&rr(q)){const Q=q.getAttribute("data-mce-contenteditable");return Q&&"inherit"!==Q?Q:"inherit"!==q.contentEditable?q.contentEditable:null}return null},He={doc:e,settings:t,win:r,files:o,stdMode:!0,boxModel:!0,styleSheetLoader:a,boundEvents:s,styles:d,schema:l,events:u,isBlock:q=>We(q)?nt(f,q):Le(q)&&(nt(f,q.nodeName)||ss(l,q)),root:null,clone:(q,Q)=>q.cloneNode(Q),getRoot:C,getViewPort:q=>{const Q=j(q);return{x:Q.x,y:Q.y,w:Q.width,h:Q.height}},getRect:q=>{const Q=m(q),me=w(Q),ge=M(Q);return{x:me.x,y:me.y,w:ge.w,h:ge.h}},getSize:M,getParent:(q,Q,me)=>{const ge=H(q,Q,me,!1);return ge&&ge.length>0?ge[0]:null},getParents:H,get:m,getNext:(q,Q)=>K(q,Q,"nextSibling"),getPrev:(q,Q)=>K(q,Q,"previousSibling"),select:(q,Q)=>{var me,ge;const _e=null!==(ge=null!==(me=m(Q))&&void 0!==me?me:t.root_element)&&void 0!==ge?ge:e;return Ft(_e.querySelectorAll)?_r(_e.querySelectorAll(q)):[]},is:P,add:U,create:Y,createHTML:(q,Q,me="")=>{let ge="<"+q;for(const _e in Q)$o(Q,_e)&&(ge+=" "+_e+'="'+ee(Q[_e])+'"');return ri(me)&&nt(l.getVoidElements(),q)?ge+" />":ge+">"+me+"</"+q+">"},createFragment:q=>{const Q=e.createElement("div"),me=e.createDocumentFragment();let ge;for(me.appendChild(Q),q&&(Q.innerHTML=q);ge=Q.firstChild;)me.appendChild(ge);return me.removeChild(Q),me},remove:ue,setStyle:(q,Q,me)=>{G(q,ge=>{const _e=k(ge);$g(_e,Q,me),t.update_styles&&Hg(d,_e)})},getStyle:A,setStyles:(q,Q)=>{G(q,me=>{const ge=k(me);xt(Q,(_e,$e)=>{$g(ge,$e,_e)}),t.update_styles&&Hg(d,ge)})},removeAllAttribs:q=>G(q,Q=>{const me=Q.attributes;for(let ge=me.length-1;ge>=0;ge--)Q.removeAttributeNode(me.item(ge))}),setAttrib:v,setAttribs:J,getAttrib:g,getPos:w,parseStyle:q=>d.parse(q),serializeStyle:(q,Q)=>d.serialize(q,Q),addStyle:q=>{if(He!==Xt.DOM&&e===document){if(n[q])return;n[q]=!0}let Q=e.getElementById("mceDefaultStyles");if(!Q){Q=e.createElement("style"),Q.id="mceDefaultStyles",Q.type="text/css";const me=e.head;me.firstChild?me.insertBefore(Q,me.firstChild):me.appendChild(Q)}Q.styleSheet?Q.styleSheet.cssText+=q:Q.appendChild(e.createTextNode(q))},loadCSS:q=>{q||(q=""),de(q.split(","),Q=>{o[Q]=!0,a.load(Q).catch(Ke)})},addClass:(q,Q)=>{Oe(q,Q,!0)},removeClass:(q,Q)=>{Oe(q,Q,!1)},hasClass:(q,Q)=>{const me=b(q),ge=Q.split(" ");return Ne(me)&&jo(ge,_e=>R(me,_e))},toggleClass:Oe,show:q=>{G(q,Q=>ia(k(Q),"display"))},hide:q=>{G(q,Q=>ji(k(Q),"display","none"))},isHidden:q=>{const Q=b(q);return Ne(Q)&&go(Ro(Q,"display"),"none")},uniqueId:q=>(q||"mce_")+i++,setHTML:ne,getOuterHTML:q=>{const Q=b(q);return Ne(Q)?Le(Q.dom)?Q.dom.outerHTML:(me=>{const ge=z("div"),_e=k(me.dom.cloneNode(!0));return $(ge,_e),dt(ge)})(Q):""},setOuterHTML:(q,Q)=>{G(q,me=>{Le(me)&&(me.outerHTML=Q)})},decode:Oa.decode,encode:ee,insertAfter:(q,Q)=>{const me=m(Q);return G(q,ge=>{const _e=me?.parentNode,$e=me?.nextSibling;return _e&&($e?_e.insertBefore(ge,$e):_e.appendChild(ge)),ge})},replace:we,rename:(q,Q)=>{if(q.nodeName!==Q.toUpperCase()){const me=Y(Q);return Dr(E(q),ge=>{v(me,ge.nodeName,g(q,ge.nodeName))}),we(me,q,!0),me}return q},findCommonAncestor:(q,Q)=>{let me=q;for(;me;){let ge=Q;for(;ge&&me!==ge;)ge=ge.parentNode;if(me===ge)break;me=me.parentNode}return!me&&q.ownerDocument?q.ownerDocument.documentElement:me},run:G,getAttribs:E,isEmpty:(q,Q,me)=>{let ge=0;if(Xe(q))return!1;const _e=q.firstChild;if(_e){const $e=new De(_e,q),et=l?l.getWhitespaceElements():{},ct=Q||(l?l.getNonEmptyElements():null);let ot=_e;do{if(Le(ot)){const Qt=ot.getAttribute("data-mce-bogus");if(Qt){ot=$e.next("all"===Qt);continue}const qe=ot.nodeName.toLowerCase();if(ct&&ct[qe]){if("br"===qe){ge++,ot=$e.next();continue}return!1}if(Xe(ot))return!1}if(Ta(ot)||Ce(ot)&&!Na(ot.data)&&(!me?.includeZwsp||!Jf(ot.data))||Ce(ot)&&ot.parentNode&&et[ot.parentNode.nodeName]&&Na(ot.data))return!1;ot=$e.next()}while(ot)}return ge<=1},createRng:Ye,nodeIndex:zl,split:(q,Q,me)=>{let ge,_e,$e=Ye();if(q&&Q&&q.parentNode&&Q.parentNode){const et=q.parentNode;return $e.setStart(et,zl(q)),$e.setEnd(Q.parentNode,zl(Q)),ge=$e.extractContents(),$e=Ye(),$e.setStart(Q.parentNode,zl(Q)+1),$e.setEnd(et,zl(q)+1),_e=$e.extractContents(),et.insertBefore(Rd(He,ge,l),q),et.insertBefore(me||Q,q),et.insertBefore(Rd(He,_e,l),q),ue(q),me||Q}},bind:rt,unbind:Je,fire:(q,Q,me)=>u.dispatch(q,Q,me),dispatch:(q,Q,me)=>u.dispatch(q,Q,me),getContentEditable:Ie,getContentEditableParent:q=>{const Q=C();let me=null;for(let ge=q;ge&&ge!==Q&&(me=Ie(ge),null===me);ge=ge.parentNode);return me},isEditable:q=>{if(Ne(q)){const Q=Le(q)?q:q.parentElement;return Ne(Q)&&rr(Q)&&eo(k(Q))}return!1},destroy:()=>{if(s.length>0){let q=s.length;for(;q--;){const[Q,me,ge]=s[q];u.unbind(Q,me,ge)}}xt(o,(q,Q)=>{a.unload(Q),delete o[Q]})},isChildOf:(q,Q)=>q===Q||Q.contains(q),dumpRng:q=>"startContainer: "+q.startContainer.nodeName+", startOffset: "+q.startOffset+", endContainer: "+q.endContainer.nodeName+", endOffset: "+q.endOffset},lt=((q,Q,me)=>{const ge=Q.keep_values,$e={style:{set:(et,ct)=>{const ot=k(et);ge&&Pd(ot,Id,ct),nn(ot,"style"),We(ct)&&bo(ot,q.parse(ct))},get:et=>{const ct=k(et),ot=Yn(ct,Id)||Yn(ct,"style");return q.serialize(q.parse(ot),Nt(ct))}}};return ge&&($e.href=$e.src={set:(et,ct,ot)=>{const Qt=k(et);Ft(Q.url_converter)&&Ne(ct)&&(ct=Q.url_converter.call(Q.url_converter_scope||me(),String(ct),ot,et)),Pd(Qt,"data-mce-"+ot,ct),Pd(Qt,ot,ct)},get:(et,ct)=>{const ot=k(et);return Yn(ot,"data-mce-"+ct)||Yn(ot,ct)}}),$e})(d,t,Ae(He));return He};Xt.DOM=Xt(document),Xt.nodeIndex=zl;const eN=Xt.DOM;class fs{constructor(t={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=t}_setReferrerPolicy(t){this.settings.referrerPolicy=t}loadScript(t){return new Promise((n,r)=>{const o=eN;let i;const a=()=>{o.remove(s),i&&(i.onerror=i.onload=i=null)},s=o.uniqueId();i=document.createElement("script"),i.id=s,i.type="text/javascript",i.src=Se._addCacheSuffix(t),this.settings.referrerPolicy&&o.setAttrib(i,"referrerpolicy",this.settings.referrerPolicy),i.onload=()=>{a(),n()},i.onerror=()=>{a(),r("Failed to load script: "+t)},(document.getElementsByTagName("head")[0]||document.body).appendChild(i)})}isDone(t){return 2===this.states[t]}markDone(t){this.states[t]=2}add(t){const n=this;return n.queue.push(t),void 0===n.states[t]&&(n.states[t]=0),new Promise((r,o)=>{n.scriptLoadedCallbacks[t]||(n.scriptLoadedCallbacks[t]=[]),n.scriptLoadedCallbacks[t].push({resolve:r,reject:o})})}load(t){return this.add(t)}remove(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]}loadQueue(){const t=this.queue;return this.queue=[],this.loadScripts(t)}loadScripts(t){const n=this,r=(l,d)=>{Pt(n.scriptLoadedCallbacks,d).each(u=>{de(u,f=>f[l](d))}),delete n.scriptLoadedCallbacks[d]},o=l=>{const d=tt(l,u=>"rejected"===u.status);return d.length>0?Promise.reject(vr(d,({reason:u})=>zt(u)?u:[u])):Promise.resolve()},i=l=>Promise.allSettled(wt(l,d=>2===n.states[d]?(r("resolve",d),Promise.resolve()):3===n.states[d]?(r("reject",d),Promise.reject(d)):(n.states[d]=1,n.loadScript(d).then(()=>{n.states[d]=2,r("resolve",d);const u=n.queue;return u.length>0?(n.queue=[],i(u).then(o)):Promise.resolve()},()=>(n.states[d]=3,r("reject",d),Promise.reject(d)))))),a=l=>(n.loading=!0,i(l).then(d=>{n.loading=!1;const u=n.queueLoadedCallbacks.shift();return O.from(u).each(wr),o(d)})),s=Va(t);return n.loading?new Promise((l,d)=>{n.queueLoadedCallbacks.push(()=>{a(s).then(l,d)})}):a(s)}}fs.ScriptLoader=new fs;const mr=e=>{let t=e;return{get:()=>t,set:n=>{t=n}}},Md={},lh=mr("en"),Ug=()=>Pt(Md,lh.get()),da={getData:()=>sr(Md,e=>({...e})),setCode:e=>{e&&lh.set(e)},getCode:()=>lh.get(),add:(e,t)=>{let n=Md[e];n||(Md[e]=n={});const r=wt(Zn(t),o=>o.toLowerCase());xt(t,(o,i)=>{const a=i.toLowerCase();a!==i&&((s,l)=>{const d=s.indexOf(l);return-1!==d&&s.indexOf(l,d+1)>d})(r,a)?(nt(t,a)||(n[a]=o),n[i]=o):n[a]=o})},translate:e=>{const t=Ug().getOr({}),n=s=>Ft(s)?Object.prototype.toString.call(s):r(s)?"":""+s,r=s=>""===s||null==s,o=s=>{const l=n(s);return nt(t,l)?n(t[l]):Pt(t,l.toLowerCase()).map(n).getOr(l)},i=s=>s.replace(/{context:\w+}$/,"");if(r(e))return"";if(ut(a=e)&&nt(a,"raw"))return n(e.raw);var a,s;if(zt(s=e)&&s.length>1){const s=e.slice(1);return i(o(e[0]).replace(/\{([0-9]+)\}/g,(l,d)=>nt(s,d)?n(s[d]):l))}return i(o(e))},isRtl:()=>Ug().bind(e=>Pt(e,"_dir")).exists(e=>"rtl"===e),hasCode:e=>nt(Md,e)},no=()=>{const e=[],t={},n={},r=[],o=(l,d)=>{const u=tt(r,f=>f.name===l&&f.state===d);de(u,f=>f.resolve())},i=l=>nt(t,l),a=(l,d)=>{const u=da.getCode();!u||d&&-1===(","+(d||"")+",").indexOf(","+u+",")||fs.ScriptLoader.add(t[l]+"/langs/"+u+".js")},s=(l,d="added")=>"added"===d&&nt(n,l)||"loaded"===d&&i(l)?Promise.resolve():new Promise(u=>{r.push({name:l,state:d,resolve:u})});return{items:e,urls:t,lookup:n,get:l=>{if(n[l])return n[l].instance},requireLangPack:(l,d)=>{!1!==no.languageLoad&&(i(l)?a(l,d):s(l,"loaded").then(()=>a(l,d)))},add:(l,d)=>(e.push(d),n[l]={instance:d},o(l,"added"),d),remove:l=>{delete t[l],delete n[l]},createUrl:(l,d)=>We(d)?We(l)?{prefix:"",resource:d,suffix:""}:{prefix:l.prefix,resource:d,suffix:l.suffix}:d,load:(l,d)=>{if(t[l])return Promise.resolve();let u=We(d)?d:d.prefix+d.resource+d.suffix;0!==u.indexOf("/")&&-1===u.indexOf("://")&&(u=no.baseURL+"/"+u),t[l]=u.substring(0,u.lastIndexOf("/"));const f=()=>(o(l,"loaded"),Promise.resolve());return n[l]?f():fs.ScriptLoader.add(u).then(f)},waitFor:s}};no.languageLoad=!0,no.baseURL="",no.PluginManager=no(),no.ThemeManager=no(),no.ModelManager=no();const tN=e=>{const t=mr(O.none()),n=()=>t.get().each(r=>clearInterval(r));return{clear:()=>{n(),t.set(O.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:r=>{n(),t.set(O.some(setInterval(r,e)))}}},Ps=()=>{const e=(t=>{const n=mr(O.none()),r=()=>n.get().each(t);return{clear:()=>{r(),n.set(O.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:o=>{r(),n.set(O.some(o))}}})(Ke);return{...e,on:t=>e.get().each(t)}},lu=(e,t)=>{let n=null;return{cancel:()=>{ye(n)||(clearTimeout(n),n=null)},throttle:(...r)=>{ye(n)&&(n=setTimeout(()=>{n=null,e.apply(null,r)},t))}}},dh=(e,t)=>{let n=null;const r=()=>{ye(n)||(clearTimeout(n),n=null)};return{cancel:r,throttle:(...o)=>{r(),n=setTimeout(()=>{n=null,e.apply(null,o)},t)}}},Bd=Ae("mce-annotation"),rl=Ae("data-mce-annotation"),ql=Ae("data-mce-annotation-uid"),Fd=Ae("data-mce-annotation-active"),jd=Ae("data-mce-annotation-classes"),Hd=Ae("data-mce-annotation-attrs"),Vg=e=>t=>Fe(t,e),zg=(e,t)=>{const n=e.selection.getRng(),r=k(n.startContainer),o=k(e.getBody()),i=t.fold(()=>"."+Bd(),s=>`[${rl()}="${s}"]`),a=ur(r,n.startOffset).getOr(r);return Rr(a,i,Vg(o)).bind(s=>Br(s,`${ql()}`).bind(l=>Br(s,`${rl()}`).map(d=>{const u=Wg(e,l);return{uid:l,name:d,elements:u}})))},qg=(e,t)=>Mi(e,"data-mce-bogus")||Ee(e,'[data-mce-bogus="all"]',Vg(t)),Wg=(e,t)=>{const n=k(e.getBody()),r=le(n,`[${ql()}="${t}"]`);return tt(r,o=>!qg(o,n))},Kg=(e,t)=>{const n=k(e.getBody()),r=le(n,`[${rl()}="${t}"]`),o={};return de(r,i=>{if(!qg(i,n)){const a=Yn(i,ql()),s=Pt(o,a).getOr([]);o[a]=s.concat([i])}}),o};let Yg=0;const $d=e=>{const t=(new Date).getTime(),n=Math.floor(1e9*Math.random());return Yg++,e+"_"+n+Yg+String(t)},Qg=(e,t)=>k(e.dom.cloneNode(t)),ol=e=>Qg(e,!1),Gg=e=>Qg(e,!0),Xg=(e,t,n=Ut)=>{const r=new De(e,t),o=i=>{let a;do{a=r[i]()}while(a&&!Ce(a)&&!n(a));return O.from(a).filter(Ce)};return{current:()=>O.from(r.current()).filter(Ce),next:()=>o("next"),prev:()=>o("prev"),prev2:()=>o("prev2")}},il=(e,t)=>{const n=t||(o=>e.isBlock(o)||dn(o)||Wt(o)),r=(o,i,a,s)=>{if(Ce(o)){const l=s(o,i,o.data);if(-1!==l)return O.some({container:o,offset:l})}return a().bind(l=>r(l.container,l.offset,a,s))};return{backwards:(o,i,a,s)=>{const l=Xg(o,s??e.getRoot(),n);return r(o,i,()=>l.prev().map(d=>({container:d,offset:d.length})),a).getOrNull()},forwards:(o,i,a,s)=>{const l=Xg(o,s??e.getRoot(),n);return r(o,i,()=>l.next().map(d=>({container:d,offset:0})),a).getOrNull()}}},Wl=Math.round,al=e=>e?{left:Wl(e.left),top:Wl(e.top),bottom:Wl(e.bottom),right:Wl(e.right),width:Wl(e.width),height:Wl(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},Jg=(e,t)=>(e=al(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),Zg=(e,t,n)=>e>=0&&e<=Math.min(t.height,n.height)/2,Ud=(e,t)=>{const n=Math.min(t.height/2,e.height/2);return e.bottom-n<t.top||!(e.top>t.bottom)&&Zg(t.top-e.bottom,e,t)},Vd=(e,t)=>e.top>t.bottom||!(e.bottom<t.top)&&Zg(t.bottom-e.top,e,t),ev=(e,t,n)=>{const r=Math.max(Math.min(t,e.left+e.width),e.left),o=Math.max(Math.min(n,e.top+e.height),e.top);return Math.sqrt((t-r)*(t-r)+(n-o)*(n-o))},du=e=>{const t=e.startContainer,n=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},Ms=(e,t)=>{if(Le(e)&&e.hasChildNodes()){const n=e.childNodes;return n[(a=n.length-1,Math.min(Math.max(t,0),a))]}var a;return e},nN=new RegExp("[\u0300-\u036f\u0483-\u0487\u0488-\u0489\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e3-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962-\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a02\u0a3c\u0a41-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a70-\u0a71\u0a75\u0a81-\u0a82\u0abc\u0ac1-\u0ac5\u0ac7-\u0ac8\u0acd\u0ae2-\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62-\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c00\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c62-\u0c63\u0c81\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc-\u0ccd\u0cd5-\u0cd6\u0ce2-\u0ce3\u0d01\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62-\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039-\u103a\u103d-\u103e\u1058-\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b4-\u17b5\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193b\u1a17-\u1a18\u1a1b\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1ab0-\u1abd\u1abe\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80-\u1b81\u1ba2-\u1ba5\u1ba8-\u1ba9\u1bab-\u1bad\u1be6\u1be8-\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1cf8-\u1cf9\u1dc0-\u1df5\u1dfc-\u1dff\u200c-\u200d\u20d0-\u20dc\u20dd-\u20e0\u20e1\u20e2-\u20e4\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302d\u302e-\u302f\u3099-\u309a\ua66f\ua670-\ua672\ua674-\ua67d\ua69e-\ua69f\ua6f0-\ua6f1\ua802\ua806\ua80b\ua825-\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\ua9e5\uaa29-\uaa2e\uaa31-\uaa32\uaa35-\uaa36\uaa43\uaa4c\uaa7c\uaab0\uaab2-\uaab4\uaab7-\uaab8\uaabe-\uaabf\uaac1\uaaec-\uaaed\uaaf6\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\uff9e-\uff9f]"),tv=e=>We(e)&&e.charCodeAt(0)>=768&&nN.test(e),nv=Le,rN=Cr,rv=aa("display","block table"),oN=aa("float","left right"),zd=((...e)=>t=>{for(let n=0;n<e.length;n++)if(!e[n](t))return!1;return!0})(nv,rN,so(oN)),iN=so(aa("white-space","pre pre-line pre-wrap")),qd=Ce,ch=dn,ov=Xt.nodeIndex,cu=(e,t)=>t<0&&Le(e)&&e.hasChildNodes()?void 0:Ms(e,t),uh=e=>e?e.createRange():Xt.DOM.createRng(),fh=e=>We(e)&&/[\r\n\t ]/.test(e),iv=e=>!!e.setStart&&!!e.setEnd,hh=e=>{const t=e.startContainer,n=e.startOffset;if(fh(e.toString())&&iN(t.parentNode)&&Ce(t)){const r=t.data;if(fh(r[n-1])||fh(r[n+1]))return!0}return!1},av=e=>0===e.left&&0===e.right&&0===e.top&&0===e.bottom,Bs=e=>{var t;let n;const r=e.getClientRects();return n=al(r.length>0?r[0]:e.getBoundingClientRect()),!iv(e)&&ch(e)&&av(n)?(o=>{const i=o.ownerDocument,a=uh(i),s=i.createTextNode(hn),l=o.parentNode;l.insertBefore(s,o),a.setStart(s,0),a.setEnd(s,1);const d=al(a.getBoundingClientRect());return l.removeChild(s),d})(e):av(n)&&iv(e)&&null!==(t=(o=>{const a=o.endContainer,s=o.startOffset,l=o.endOffset;if(o.startContainer===a&&Ce(a)&&0===s&&1===l){const d=o.cloneRange();return d.setEndAfter(a),Bs(d)}return null})(e))&&void 0!==t?t:n},sl=(e,t)=>{const n=Jg(e,t);return n.width=1,n.right=n.left+1,n},oe=(e,t,n)=>{const r=()=>(n||(n=(o=>{const i=[],a=u=>{var f,m;0!==u.height&&(i.length>0&&(f=u).left===(m=i[i.length-1]).left&&f.top===m.top&&f.bottom===m.bottom&&f.right===m.right||i.push(u))},s=(u,f)=>{const m=uh(u.ownerDocument);if(f<u.data.length){if(tv(u.data[f]))return;if(tv(u.data[f-1])&&(m.setStart(u,f),m.setEnd(u,f+1),!hh(m)))return void a(sl(Bs(m),!1))}f>0&&(m.setStart(u,f-1),m.setEnd(u,f),hh(m)||a(sl(Bs(m),!1))),f<u.data.length&&(m.setStart(u,f),m.setEnd(u,f+1),hh(m)||a(sl(Bs(m),!0)))},l=o.container(),d=o.offset();if(qd(l))return s(l,d),i;if(nv(l))if(o.isAtEnd()){const u=cu(l,d);qd(u)&&s(u,u.data.length),zd(u)&&!ch(u)&&a(sl(Bs(u),!1))}else{const u=cu(l,d);if(qd(u)&&s(u,0),zd(u)&&o.isAtEnd())return a(sl(Bs(u),!1)),i;const f=cu(o.container(),o.offset()-1);zd(f)&&!ch(f)&&(rv(f)||rv(u)||!zd(u))&&a(sl(Bs(f),!1)),zd(u)&&a(sl(Bs(u),!0))}return i})(oe(e,t))),n);return{container:Ae(e),offset:Ae(t),toRange:()=>{const o=uh(e.ownerDocument);return o.setStart(e,t),o.setEnd(e,t),o},getClientRects:r,isVisible:()=>r().length>0,isAtStart:()=>(qd(e),0===t),isAtEnd:()=>qd(e)?t>=e.data.length:t>=e.childNodes.length,isEqual:o=>o&&e===o.container()&&t===o.offset(),getNode:o=>cu(e,o?t-1:t)}};oe.fromRangeStart=e=>oe(e.startContainer,e.startOffset),oe.fromRangeEnd=e=>oe(e.endContainer,e.endOffset),oe.after=e=>oe(e.parentNode,ov(e)+1),oe.before=e=>oe(e.parentNode,ov(e)),oe.isAbove=(e,t)=>Ln(En(t.getClientRects()),Zo(e.getClientRects()),Ud).getOr(!1),oe.isBelow=(e,t)=>Ln(Zo(t.getClientRects()),En(e.getClientRects()),Vd).getOr(!1),oe.isAtStart=e=>!!e&&e.isAtStart(),oe.isAtEnd=e=>!!e&&e.isAtEnd(),oe.isTextPosition=e=>!!e&&Ce(e.container()),oe.isElementPosition=e=>!oe.isTextPosition(e);const uu=(e,t)=>{Ce(t)&&0===t.data.length&&e.remove(t)},ph=(e,t,n)=>{var r,i;kl(n)?((r,o,i)=>{const a=O.from(i.firstChild),s=O.from(i.lastChild);o.insertNode(i),a.each(l=>uu(r,l.previousSibling)),s.each(l=>uu(r,l.nextSibling))})(e,t,n):(r=e,t.insertNode(i=n),uu(r,i.previousSibling),uu(r,i.nextSibling))},ca=Ce,sv=sa,lv=Xt.nodeIndex,dv=e=>{const t=e.parentNode;return sv(t)?dv(t):t},mh=e=>e?Gi(e.childNodes,(t,n)=>(sv(n)&&"BR"!==n.nodeName?t=t.concat(mh(n)):t.push(n),t),[]):[],cv=e=>t=>e===t,uv=e=>(ca(e)?"text()":e.nodeName.toLowerCase())+"["+(t=>{let n,r;n=mh(dv(t)),r=ti(n,cv(t),t),n=n.slice(0,r+1);const o=Gi(n,(i,a,s)=>(ca(a)&&ca(n[s-1])&&i++,i),0);return n=Oi(n,to([t.nodeName])),r=ti(n,cv(t),t),r-o})(e)+"]",fv=(e,t)=>{let n,r=[],o=t.container(),i=t.offset();if(ca(o))n=((s,l)=>{let d=s;for(;(d=d.previousSibling)&&ca(d);)l+=d.data.length;return l})(o,i);else{const s=o.childNodes;i>=s.length?(n="after",i=s.length-1):n="before",o=s[i]}r.push(uv(o));let a=((s,l,d)=>{const u=[];for(let f=l.parentNode;f&&f!==s;f=f.parentNode)u.push(f);return u})(e,o);return a=Oi(a,so(sa)),r=r.concat(ga(a,s=>uv(s))),r.reverse().join("/")+","+n},hv=(e,t)=>{if(!t)return null;const n=t.split(","),r=n[0].split("/"),o=n.length>1?n[1]:"before",i=Gi(r,(a,s)=>{const l=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(s);return l?("text()"===l[1]&&(l[1]="#text"),((d,u,f)=>{let m=mh(d);return m=Oi(m,(b,g)=>!ca(b)||!ca(m[g-1])),m=Oi(m,to([u])),m[f]})(a,l[1],parseInt(l[2],10))):null},e);if(!i)return null;if(!ca(i)&&i.parentNode){let a;return a="after"===o?lv(i)+1:lv(i),oe(i.parentNode,a)}return((a,s)=>{let l=a,d=0;for(;ca(l);){const u=l.data.length;if(s>=d&&s<=d+u){a=l,s-=d;break}if(!ca(l.nextSibling)){a=l,s=u;break}d+=u,l=l.nextSibling}return ca(a)&&s>a.data.length&&(s=a.data.length),oe(a,s)})(i,parseInt(o,10))},fu=Wt,pv=(e,t,n,r,o)=>{const i=o?r.startContainer:r.endContainer;let a=o?r.startOffset:r.endOffset;const s=[],l=e.getRoot();if(Ce(i))s.push(n?((d,u,f)=>{let m=d(u.data.slice(0,f)).length;for(let b=u.previousSibling;b&&Ce(b);b=b.previousSibling)m+=d(b.data).length;return m})(t,i,a):a);else{let d=0;const u=i.childNodes;a>=u.length&&u.length&&(d=1,a=Math.max(0,u.length-1)),s.push(e.nodeIndex(u[a],n)+d)}for(let d=i;d&&d!==l;d=d.parentNode)s.push(e.nodeIndex(d,n));return s},gh=(e,t,n)=>{let r=0;return Se.each(e.select(t),o=>"all"===o.getAttribute("data-mce-bogus")?void 0:o!==n&&void r++),r},mv=(e,t)=>{let n=t?e.startContainer:e.endContainer,r=t?e.startOffset:e.endOffset;if(Le(n)&&"TR"===n.nodeName){const o=n.childNodes;n=o[Math.min(t?r:r-1,o.length-1)],n&&(r=t?0:n.childNodes.length,t?e.setStart(n,r):e.setEnd(n,r))}},gv=e=>(mv(e,!0),mv(e,!1),e),vv=(e,t)=>{if(Le(e)&&(e=Ms(e,t),fu(e)))return e;if(pr(e)){Ce(e)&&xs(e)&&(e=e.parentNode);let n=e.previousSibling;if(fu(n)||(n=e.nextSibling,fu(n)))return n}},bv=(e,t,n)=>{const r=n.getNode(),o=n.getRng();if("IMG"===r.nodeName||fu(r)){const a=r.nodeName;return{name:a,index:gh(n.dom,a,r)}}const i=vv((a=o).startContainer,a.startOffset)||vv(a.endContainer,a.endOffset);var a;if(i){const a=i.tagName;return{name:a,index:gh(n.dom,a,i)}}return((a,s,l,d)=>{const u=s.dom,f=pv(u,a,l,d,!0),m=s.isForward(),b=zc(d)?{isFakeCaret:!0}:{};return s.isCollapsed()?{start:f,forward:m,...b}:{start:f,end:pv(u,a,l,d,!1),forward:m,...b}})(e,n,t,o)},_v=(e,t,n)=>{const r={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",r,"&#xFEFF;"):e.create("span",r)},yv=(e,t)=>{const n=e.dom;let r=e.getRng();const o=n.uniqueId(),i=e.isCollapsed(),a=e.getNode(),s=a.nodeName,l=e.isForward();if("IMG"===s)return{name:s,index:gh(n,s,a)};const d=gv(r.cloneRange());if(!i){d.collapse(!1);const f=_v(n,o+"_end",t);ph(n,d,f)}r=gv(r),r.collapse(!0);const u=_v(n,o+"_start",t);return ph(n,r,u),e.moveToBookmark({id:o,keep:!0,forward:l}),{id:o,forward:l}},vh=Re(bv,At,!0),Ev=e=>{const t=i=>i(e),n=Ae(e),r=()=>o,o={tag:!0,inner:e,fold:(i,a)=>a(e),isValue:tn,isError:Ut,map:i=>So.value(i(e)),mapError:r,bind:t,exists:t,forall:t,getOr:n,or:r,getOrThunk:n,orThunk:r,getOrDie:n,each:i=>{i(e)},toOptional:()=>O.some(e)};return o},Cv=e=>{const t=()=>n,n={tag:!1,inner:e,fold:(r,o)=>r(e),isValue:Ut,isError:tn,map:t,mapError:r=>So.error(r(e)),bind:t,exists:Ut,forall:tn,getOr:At,or:At,getOrThunk:No,orThunk:No,getOrDie:Vr(String(e)),each:Ke,toOptional:O.none};return n},So={value:Ev,error:Cv,fromOption:(e,t)=>e.fold(()=>Cv(t),Ev)},ka=e=>{if(!zt(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");const t=[],n={};return de(e,(r,o)=>{const i=Zn(r);if(1!==i.length)throw new Error("one and only one name per case");const a=i[0],s=r[a];if(void 0!==n[a])throw new Error("duplicate key detected:"+a);if("cata"===a)throw new Error("cannot have a case named cata (sorry)");if(!zt(s))throw new Error("case arguments must be an array");t.push(a),n[a]=(...l)=>{const d=l.length;if(d!==s.length)throw new Error("Wrong number of arguments to case "+a+". Expected "+s.length+" ("+s+"), got "+d);return{fold:(...u)=>{if(u.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+u.length);return u[o].apply(null,l)},match:u=>{const f=Zn(u);if(t.length!==f.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+f.join(","));if(!jo(t,m=>Bt(f,m)))throw new Error("Not all branches were specified when using match. Specified: "+f.join(", ")+"\nRequired: "+t.join(", "));return u[a].apply(null,l)},log:u=>{console.log(u,{constructors:t,constructor:a,params:l})}}}}),n};ka([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const aN=e=>"inline-command"===e.type||"inline-format"===e.type,sN=e=>"block-command"===e.type||"block-format"===e.type,lN=e=>{const t=r=>So.error({message:r,pattern:e}),n=(r,o,i)=>{if(void 0!==e.format){let a;if(zt(e.format)){if(!jo(e.format,We))return t(r+" pattern has non-string items in the `format` array");a=e.format}else{if(!We(e.format))return t(r+" pattern has non-string `format` parameter");a=[e.format]}return So.value(o(a))}return void 0!==e.cmd?We(e.cmd)?So.value(i(e.cmd,e.value)):t(r+" pattern has non-string `cmd` parameter"):t(r+" pattern is missing both `format` and `cmd` parameters")};if(!ut(e))return t("Raw pattern is not an object");if(!We(e.start))return t("Raw pattern is missing `start` parameter");if(void 0!==e.end){if(!We(e.end))return t("Inline pattern has non-string `end` parameter");if(0===e.start.length&&0===e.end.length)return t("Inline pattern has empty `start` and `end` parameters");let r=e.start,o=e.end;return 0===o.length&&(o=r,r=""),n("Inline",i=>({type:"inline-format",start:r,end:o,format:i}),(i,a)=>({type:"inline-command",start:r,end:o,cmd:i,value:a}))}return void 0!==e.replacement?We(e.replacement)?0===e.start.length?t("Replacement pattern has empty `start` parameter"):So.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):t("Replacement pattern has non-string `replacement` parameter"):0===e.start.length?t("Block pattern has empty `start` parameter"):n("Block",r=>({type:"block-format",start:e.start,format:r[0]}),(r,o)=>({type:"block-command",start:e.start,cmd:r,value:o}))},Sv=e=>tt(e,sN),Tv=e=>tt(e,aN),wv=e=>{const t=(n=>{const r=[],o=[];return de(n,i=>{i.fold(a=>{r.push(a)},a=>{o.push(a)})}),{errors:r,values:o}})(wt(e,lN));return de(t.errors,n=>console.error(n.message,n.pattern)),t.values},bh=dr().deviceType,dN=bh.isTouch(),cN=Xt.DOM,Nv=e=>Ti(e,RegExp),Me=e=>t=>t.options.get(e),_h=e=>We(e)||ut(e),Av=(e,t="")=>n=>{const r=We(n);if(r){if(-1!==n.indexOf("=")){const o=(i=>{const a=i.indexOf("=")>0?i.split(/[;,](?![^=;,]*(?:[;,]|$))/):i.split(",");return yn(a,(s,l)=>{const d=l.split("="),u=d[0],f=d.length>1?d[1]:u;return s[qr(u)]=qr(f),s},{})})(n);return{value:Pt(o,e.id).getOr(t),valid:r}}return{value:n,valid:r}}return{valid:!1,message:"Must be a string."}},uN=Me("iframe_attrs"),fN=Me("doctype"),xv=Me("document_base_url"),hN=Me("body_id"),pN=Me("body_class"),Ov=Me("content_security_policy"),mN=Me("br_in_pre"),Hr=Me("forced_root_block"),Wd=Me("forced_root_block_attrs"),gN=Me("newline_behavior"),vN=Me("br_newline_selector"),bN=Me("no_newline_selector"),_N=Me("keep_styles"),yN=Me("end_container_on_empty_block"),Rv=Me("automatic_uploads"),kv=Me("images_reuse_filename"),EN=Me("images_replace_blob_uris"),Dv=Me("icons"),CN=Me("icons_url"),SN=Me("images_upload_url"),TN=Me("images_upload_base_path"),wN=Me("images_upload_credentials"),NN=Me("images_upload_handler"),AN=Me("content_css_cors"),yh=Me("referrer_policy"),Lv=Me("language"),xN=Me("language_url"),Iv=Me("indent_use_margin"),ON=Me("indentation"),RN=Me("content_css"),kN=Me("content_style"),Pv=Me("font_css"),DN=Me("directionality"),LN=Me("inline_boundaries_selector"),Mv=Me("object_resizing"),IN=Me("resize_img_proportional"),PN=Me("placeholder"),Bv=Me("event_root"),MN=Me("service_message"),Kl=Me("theme"),BN=Me("theme_url"),Eh=Me("model"),FN=Me("model_url"),Kd=Me("inline_boundaries"),jN=Me("formats"),HN=Me("preview_styles"),$N=Me("format_empty_lines"),UN=Me("format_noneditable_selector"),VN=Me("custom_ui_selector"),Ch=Me("inline"),zN=Me("hidden_input"),qN=Me("submit_patch"),WN=Me("add_form_submit_trigger"),KN=Me("add_unload_trigger"),YN=Me("custom_undo_redo_levels"),QN=Me("disable_nodechange"),Fv=Me("readonly"),GN=Me("editable_root"),jv=Me("content_css_cors"),hu=Me("plugins"),XN=Me("external_plugins"),JN=Me("block_unsupported_drop"),ZN=Me("visual"),e1=Me("visual_table_class"),Hv=Me("visual_anchor_class"),t1=Me("iframe_aria_text"),n1=Me("setup"),r1=Me("init_instance_callback"),o1=Me("urlconverter_callback"),i1=Me("auto_focus"),a1=Me("browser_spellcheck"),s1=Me("protect"),l1=Me("paste_block_drop"),pu=Me("paste_data_images"),d1=Me("paste_preprocess"),c1=Me("paste_postprocess"),u1=Me("newdocument_content"),f1=Me("paste_webkit_styles"),h1=Me("paste_remove_styles_if_webkit"),p1=Me("paste_merge_formats"),m1=Me("smart_paste"),g1=Me("paste_as_text"),v1=Me("paste_tab_spaces"),b1=Me("allow_html_data_urls"),_1=Me("text_patterns"),y1=Me("text_patterns_lookup"),$v=Me("noneditable_class"),E1=Me("editable_class"),C1=Me("noneditable_regexp"),S1=Me("preserve_cdata"),T1=Me("highlight_on_focus"),Sh=Me("xss_sanitization"),w1=Me("init_content_sync"),Uv=e=>Se.explode(e.options.get("images_file_types")),N1=Me("table_tab_navigation"),A1=Me("details_initial_state"),x1=Me("details_serialized_state"),O1=Me("force_hex_color"),Th=Me("sandbox_iframes"),R1=Le,Vv=Ce,zv=e=>{const t=e.parentNode;t&&t.removeChild(e)},qv=e=>{const t=Eo(e);return{count:e.length-t.length,text:t}},Wv=e=>{let t;for(;-1!==(t=e.data.lastIndexOf(Bn));)e.deleteData(t,1)},Kv=(e,t)=>(ll(e),t),ll=e=>{R1(e)&&pr(e)&&(os(e)?e.removeAttribute("data-mce-caret"):zv(e)),Vv(e)&&(Wv(e),0===e.data.length&&zv(e))},D1=Wt,L1=Ui,I1=Ll,Yv=(e,t,n)=>{const r=Jg(t.getBoundingClientRect(),n);let o,i;if("BODY"===e.tagName){const s=e.ownerDocument.documentElement;o=e.scrollLeft||s.scrollLeft,i=e.scrollTop||s.scrollTop}else{const s=e.getBoundingClientRect();o=e.scrollLeft-s.left,i=e.scrollTop-s.top}r.left+=o,r.right+=o,r.top+=i,r.bottom+=i,r.width=1;let a=t.offsetWidth-t.clientWidth;return a>0&&(n&&(a*=-1),r.left+=a,r.right+=a),r},Qv=()=>Et.browser.isFirefox(),Yd=e=>D1(e)||L1(e),Qd=e=>(Yd(e)||$i(e)&&Qv())&&yr(k(e)).exists(eo),M1=Yo,wh=Wt,B1=Ui,Gv=aa("display","block table table-cell table-caption list-item"),Xv=pr,Jv=xs,F1=Le,j1=Ce,H1=Cr,Yl=e=>e>0,dl=e=>e<0,mu=(e,t)=>{let n;for(;n=e(t);)if(!Jv(n))return n;return null},Gd=(e,t,n,r,o)=>{const i=new De(e,r),a=wh(e)||Jv(e);let s;if(dl(t)){if(a&&(s=mu(i.prev.bind(i),!0),n(s)))return s;for(;s=mu(i.prev.bind(i),o);)if(n(s))return s}if(Yl(t)){if(a&&(s=mu(i.next.bind(i),!0),n(s)))return s;for(;s=mu(i.next.bind(i),o);)if(n(s))return s}return null},Fs=(e,t)=>{for(;e&&e!==t;){if(Gv(e))return e;e=e.parentNode}return null},Da=(e,t,n)=>Fs(e.container(),n)===Fs(t.container(),n),Nh=(e,t)=>{if(!t)return O.none();const n=t.container(),r=t.offset();return F1(n)?O.from(n.childNodes[r+e]):O.none()},Zv=(e,t)=>{var n;const r=(null!==(n=t.ownerDocument)&&void 0!==n?n:document).createRange();return e?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)),r},$1=(e,t,n)=>Fs(t,e)===Fs(n,e),eb=(e,t,n)=>{const r=e?"previousSibling":"nextSibling";let o=n;for(;o&&o!==t;){let i=o[r];if(i&&Xv(i)&&(i=i[r]),wh(i)||B1(i)){if($1(t,i,o))return i;break}if(H1(i))break;o=o.parentNode}return null},Xd=Re(Zv,!0),Jd=Re(Zv,!1),Ah=(e,t,n)=>{let r;const o=Re(eb,!0,t),i=Re(eb,!1,t),a=n.startContainer,s=n.startOffset;if(xs(a)){const l=j1(a)?a.parentNode:a,d=l.getAttribute("data-mce-caret");if("before"===d&&(r=l.nextSibling,Qd(r)))return Xd(r);if("after"===d&&(r=l.previousSibling,Qd(r)))return Jd(r)}if(!n.collapsed)return n;if(Ce(a)){if(Xv(a)){if(1===e){if(r=i(a),r)return Xd(r);if(r=o(a),r)return Jd(r)}if(-1===e){if(r=o(a),r)return Jd(r);if(r=i(a),r)return Xd(r)}return n}if(Ml(a)&&s>=a.data.length-1)return 1===e&&(r=i(a),r)?Xd(r):n;if(Co(a)&&s<=1)return-1===e&&(r=o(a),r)?Jd(r):n;if(s===a.data.length)return r=i(a),r?Xd(r):n;if(0===s)return r=o(a),r?Jd(r):n}return n},tb=(e,t)=>Nh(e?0:-1,t).filter(wh),Zd=(e,t,n)=>{const r=Ah(e,t,n);return-1===e?oe.fromRangeStart(r):oe.fromRangeEnd(r)},gu=e=>O.from(e.getNode()).map(k),xh=(e,t)=>{let n=t;for(;n=e(n);)if(n.isVisible())return n;return n},vu=(e,t)=>{const n=Da(e,t);return!(n||!dn(e.getNode()))||n};var gr,e;(e=gr||(gr={}))[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards";const U1=Wt,La=Ce,nb=Le,Oh=dn,Ql=Cr,rb=e=>{return Wc(e)||!!Td(t=e)&&!yn(_r(t.getElementsByTagName("*")),(n,r)=>n||qc(r),!1);var t},bu=Gs,ob=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,ib=(e,t)=>{if(Yl(e)){if(Ql(t.previousSibling)&&!La(t.previousSibling))return oe.before(t);if(La(t))return oe(t,0)}if(dl(e)){if(Ql(t.nextSibling)&&!La(t.nextSibling))return oe.after(t);if(La(t))return oe(t,t.data.length)}return dl(e)?Oh(t)?oe.before(t):oe.after(t):oe.before(t)},Rh=(e,t,n)=>{let r,o,i,a;if(!nb(n)||!t)return null;if(t.isEqual(oe.after(n))&&n.lastChild){if(a=oe.after(n.lastChild),dl(e)&&Ql(n.lastChild)&&nb(n.lastChild))return Oh(n.lastChild)?oe.before(n.lastChild):a}else a=t;const s=a.container();let l=a.offset();if(La(s)){if(dl(e)&&l>0)return oe(s,--l);if(Yl(e)&&l<s.length)return oe(s,++l);r=s}else{if(dl(e)&&l>0&&(o=ob(s,l-1),Ql(o)))return!rb(o)&&(i=Gd(o,e,bu,o),i)?La(i)?oe(i,i.data.length):oe.after(i):La(o)?oe(o,o.data.length):oe.before(o);if(Yl(e)&&l<s.childNodes.length&&(o=ob(s,l),Ql(o)))return Oh(o)?((u,f)=>{const m=f.nextSibling;return m&&Ql(m)?La(m)?oe(m,0):oe.before(m):Rh(gr.Forwards,oe.after(f),u)})(n,o):!rb(o)&&(i=Gd(o,e,bu,o),i)?La(i)?oe(i,0):oe.before(i):La(o)?oe(o,0):oe.after(o);r=o||a.getNode()}if(r&&(Yl(e)&&a.isAtEnd()||dl(e)&&a.isAtStart())&&(r=Gd(r,e,tn,n,!0),bu(r,n)))return ib(e,r);o=r&&Gd(r,e,bu,n);const d=Nn(tt(((u,f)=>{const m=[];let b=u;for(;b&&b!==f;)m.push(b),b=b.parentNode;return m})(s,n),U1));return!d||o&&d.contains(o)?o?ib(e,o):null:(a=Yl(e)?oe.after(d):oe.before(d),a)},Ia=e=>({next:t=>Rh(gr.Forwards,t,e),prev:t=>Rh(gr.Backwards,t,e)}),ab=e=>oe.isTextPosition(e)?0===e.offset():Cr(e.getNode()),sb=e=>{if(oe.isTextPosition(e)){const t=e.container();return e.offset()===t.data.length}return Cr(e.getNode(!0))},lb=(e,t)=>!oe.isTextPosition(e)&&!oe.isTextPosition(t)&&e.getNode()===t.getNode(!0),di=(e,t,n)=>{const r=Ia(t);return O.from(e?r.next(n):r.prev(n))},Gl=(e,t,n)=>di(e,t,n).bind(r=>{return Da(n,r,t)&&(i=n,a=r,e?!lb(i,a)&&(oe.isTextPosition(s=i)||!dn(s.getNode()))&&sb(i)&&ab(a):!lb(a,i)&&ab(i)&&sb(a))?di(e,t,r):O.some(r);var i,a,s}),db=(e,t,n,r)=>Gl(e,t,n).bind(o=>r(o)?db(e,t,o,r):O.some(o)),Xl=(e,t)=>{const n=e?t.firstChild:t.lastChild;return Ce(n)?O.some(oe(n,e?0:n.data.length)):n?Cr(n)?O.some(e?oe.before(n):dn(r=n)?oe.before(r):oe.after(r)):((o,i,a)=>{const s=o?oe.before(a):oe.after(a);return di(o,i,s)})(e,t,n):O.none();var r},To=Re(di,!0),Do=Re(di,!1),$r=Re(Xl,!0),Vi=Re(Xl,!1),kh="_mce_caret",ci=e=>Le(e)&&e.id===kh,cl=(e,t)=>{let n=t;for(;n&&n!==e;){if(ci(n))return n;n=n.parentNode}return null},cb=e=>nt(e,"name"),ub=e=>Se.isArray(e.start),_u=e=>!(!cb(e)&&Tr(e.forward))||e.forward,fb=(e,t)=>(Le(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML='<br data-mce-bogus="1" />'),t),V1=(e,t)=>Vi(e).fold(Ut,n=>(t.setStart(n.container(),n.offset()),t.setEnd(n.container(),n.offset()),!0)),hb=(e,t,n)=>!(t.hasChildNodes()||!cl(e,t)||(((r,o)=>{var i;const a=(null!==(i=r.ownerDocument)&&void 0!==i?i:document).createTextNode(Bn);r.appendChild(a),o.setStart(a,0),o.setEnd(a,0)})(t,n),0)),pb=(e,t,n,r)=>{const o=n[t?"start":"end"],i=e.getRoot();if(o){let a=i,s=o[0];for(let l=o.length-1;a&&l>=1;l--){const d=a.childNodes;if(hb(i,a,r))return!0;if(o[l]>d.length-1)return!!hb(i,a,r)||V1(a,r);a=d[o[l]]}Ce(a)&&(s=Math.min(o[0],a.data.length)),Le(a)&&(s=Math.min(o[0],a.childNodes.length)),t?r.setStart(a,s):r.setEnd(a,s)}return!0},Dh=e=>Ce(e)&&e.data.length>0,mb=(e,t,n)=>{const r=e.get(n.id+"_"+t),o=r?.parentNode,i=n.keep;if(r&&o){let a,s;if("start"===t?i?r.hasChildNodes()?(a=r.firstChild,s=1):Dh(r.nextSibling)?(a=r.nextSibling,s=0):Dh(r.previousSibling)?(a=r.previousSibling,s=r.previousSibling.data.length):(a=o,s=e.nodeIndex(r)+1):(a=o,s=e.nodeIndex(r)):i?r.hasChildNodes()?(a=r.firstChild,s=1):Dh(r.previousSibling)?(a=r.previousSibling,s=r.previousSibling.data.length):(a=o,s=e.nodeIndex(r)):(a=o,s=e.nodeIndex(r)),!i){const l=r.previousSibling,d=r.nextSibling;let u;for(Se.each(Se.grep(r.childNodes),f=>{Ce(f)&&(f.data=f.data.replace(/\uFEFF/g,""))});u=e.get(n.id+"_"+t);)e.remove(u,!0);if(Ce(d)&&Ce(l)&&!Et.browser.isOpera()){const f=l.data.length;l.appendData(d.data),e.remove(d),a=l,s=f}}return O.some(oe(a,s))}return O.none()},z1=(e,t,n)=>((r,o,i=!1)=>{return 2===o?bv(Eo,i,r):3===o?(a=>{const s=a.getRng();return{start:fv(a.dom.getRoot(),oe.fromRangeStart(s)),end:fv(a.dom.getRoot(),oe.fromRangeEnd(s)),forward:a.isForward()}})(r):o?{rng:(a=r).getRng(),forward:a.isForward()}:yv(r,!1);var a})(e,t,n),q1=(e,t)=>{((n,r)=>{const o=n.dom;if(r){if(ub(r))return((i,a)=>{const s=i.createRng();return pb(i,!0,a,s)&&pb(i,!1,a,s)?O.some({range:s,forward:_u(a)}):O.none()})(o,r);if(We(r.start))return((i,a)=>{const s=O.from(hv(i.getRoot(),a.start)),l=O.from(hv(i.getRoot(),a.end));return Ln(s,l,(d,u)=>{const f=i.createRng();return f.setStart(d.container(),d.offset()),f.setEnd(u.container(),u.offset()),{range:f,forward:_u(a)}})})(o,r);if(nt(r,"id"))return((i,a)=>{const s=mb(i,"start",a),l=mb(i,"end",a);return Ln(s,l.or(s),(d,u)=>{const f=i.createRng();return f.setStart(fb(i,d.container()),d.offset()),f.setEnd(fb(i,u.container()),u.offset()),{range:f,forward:_u(a)}})})(o,r);if(cb(r))return((i,a)=>O.from(i.select(a.name)[a.index]).map(s=>{const l=i.createRng();return l.selectNode(s),{range:l,forward:!0}}))(o,r);if((i=>nt(i,"rng"))(r))return O.some({range:r.rng,forward:_u(r)})}return O.none()})(e,t).each(({range:n,forward:r})=>{e.setRng(n,r)})},ui=e=>Le(e)&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type"),yu=(gb=hn,e=>gb===e);var gb;const Jl=e=>""!==e&&-1!==" \f\n\r\t\v".indexOf(e),Lh=e=>!Jl(e)&&!yu(e)&&!Cd(e),Ih=e=>{const t=[];if(e)for(let n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},vb=(e,t)=>{const n=le(t,"td[data-mce-selected],th[data-mce-selected]");return n.length>0?n:tt(vr(e,i=>{const a=du(i);return a?[k(a)]:[]}),rs)},Zl=e=>vb(Ih(e.selection.getSel()),k(e.getBody())),ec=(e,t)=>fr(e,"table",t),bb=e=>Xr(e).fold(Ae([e]),t=>[e].concat(bb(t))),Ph=e=>Qn(e).fold(Ae([e]),t=>"br"===Nt(t)?Pn(t).map(n=>[e].concat(Ph(n))).getOr([]):[e].concat(Ph(t))),Mh=(e,t)=>Ln((n=>{const r=n.startContainer,o=n.startOffset;return Ce(r)?0===o?O.some(k(r)):O.none():O.from(r.childNodes[o]).map(k)})(t),(n=>{const r=n.endContainer,o=n.endOffset;return Ce(r)?o===r.data.length?O.some(k(r)):O.none():O.from(r.childNodes[o-1]).map(k)})(t),(n,r)=>{const o=Gt(bb(e),Re(Fe,n)),i=Gt(Ph(e),Re(Fe,r));return o.isSome()&&i.isSome()}).getOr(!1),Bh=(e,t,n,r)=>{const o=n,i=new De(n,o),a=Ni(e.schema.getMoveCaretBeforeOnEnterElements(),(l,d)=>!Bt(["td","th","table"],d.toLowerCase()));let s=n;do{if(Ce(s)&&0!==Se.trim(s.data).length)return void(r?t.setStart(s,0):t.setEnd(s,s.data.length));if(a[s.nodeName])return void(r?t.setStartBefore(s):"BR"===s.nodeName?t.setEndBefore(s):t.setEndAfter(s))}while(s=r?i.next():i.prev());"BODY"===o.nodeName&&(r?t.setStart(o,0):t.setEnd(o,o.childNodes.length))},Eu=e=>{const t=e.selection.getSel();return Ne(t)&&t.rangeCount>0},Fh=(e,t)=>{const n=Zl(e);n.length>0?de(n,r=>{const o=r.dom,i=e.dom.createRng();i.setStartBefore(o),i.setEndAfter(o),t(i,!0)}):t(e.selection.getRng(),!1)},_b=(e,t,n)=>{const r=yv(e,t);n(r),e.moveToBookmark(r)},tc=e=>T(e?.nodeType),jh=e=>Le(e)&&!ui(e)&&!ci(e)&&!sa(e),yb=(e,t,n)=>{const{selection:r,dom:o}=e,i=r.getNode(),a=Wt(i);_b(r,!0,()=>{t()}),a&&Wt(i)&&o.isChildOf(i,e.getBody())?e.selection.select(i):n(r.getStart())&&W1(o,r)},W1=(e,t)=>{var n,r;const o=t.getRng(),{startContainer:i,startOffset:a}=o;if(!((s,l)=>{if(jh(l)&&!/^(TD|TH)$/.test(l.nodeName)){const d=s.getAttrib(l,"data-mce-selected"),u=parseInt(d,10);return!isNaN(u)&&u>0}return!1})(e,t.getNode())&&Le(i)){const s=i.childNodes,l=e.getRoot();let d;if(a<s.length){const u=s[a];d=new De(u,null!==(n=e.getParent(u,e.isBlock))&&void 0!==n?n:l)}else{const u=s[s.length-1];d=new De(u,null!==(r=e.getParent(u,e.isBlock))&&void 0!==r?r:l),d.next(!0)}for(let u=d.current();u;u=d.next()){if("false"===e.getContentEditable(u))return;if(Ce(u)&&!$h(u))return o.setStart(u,0),void t.setRng(o)}}},Eb=(e,t,n)=>{if(e){const r=t?"nextSibling":"previousSibling";for(e=n?e:e[r];e;e=e[r])if(Le(e)||!$h(e))return e}},Hh=(e,t)=>!!e.getTextBlockElements()[t.nodeName.toLowerCase()]||ss(e,t),ed=(e,t,n)=>e.schema.isValidChild(t,n),$h=(e,t=!1)=>{if(Ne(e)&&Ce(e)){const n=t?e.data.replace(/ /g,"\xa0"):e.data;return Na(n)}return!1},Cb=(e,t)=>{const n=e.dom;return jh(t)&&"false"===n.getContentEditable(t)&&((r,o)=>{const i="[data-mce-cef-wrappable]",a=UN(r),s=ri(a)?i:`${i},${a}`;return ae(k(o),s)})(e,t)&&0===n.select('[contenteditable="true"]',t).length},js=(e,t)=>Ft(e)?e(t):(Ne(t)&&(e=e.replace(/%(\w+)/g,(n,r)=>t[r]||n)),e),Uh=(e,t)=>(e=""+((e=e||"").nodeName||e),t=""+((t=t||"").nodeName||t),e.toLowerCase()===t.toLowerCase()),Vh=(e,t)=>{if(qt(e))return null;{let n=String(e);return"color"!==t&&"backgroundColor"!==t||(n=Z(n)),"fontWeight"===t&&700===e&&(n="bold"),"fontFamily"===t&&(n=n.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),n}},Cu=(e,t,n)=>{const r=e.getStyle(t,n);return Vh(r,n)},Sb=(e,t)=>{let n;return e.getParent(t,r=>!!Le(r)&&(n=e.getStyle(r,"text-decoration"),!!n&&"none"!==n)),n},Su=(e,t,n)=>e.getParents(t,n,e.getRoot()),zh=(e,t,n)=>{const r=e.formatter.get(t);return Ne(r)&&Zt(r,n)},Pa=e=>$o(e,"block"),fi=e=>$o(e,"selector"),ir=e=>$o(e,"inline"),qh=e=>fi(e)&&!1!==e.expand&&!ir(e),Tb=e=>(t=>{const n=[];let r=t;for(;r;){if(Ce(r)&&r.data!==Bn||r.childNodes.length>1)return[];Le(r)&&n.push(r),r=r.firstChild}return n})(e).length>0,Wh=e=>ci(e.dom)&&Tb(e.dom),td=ui,wb=Su,Nb=$h,K1=Hh,Ab=(e,t)=>{let n=t;for(;n;){if(Le(n)&&e.getContentEditable(n))return"false"===e.getContentEditable(n)?n:t;n=n.parentNode}return t},xb=(e,t,n,r)=>{const o=t.data;if(e){for(let i=n;i>0;i--)if(r(o.charAt(i-1)))return i}else for(let i=n;i<o.length;i++)if(r(o.charAt(i)))return i;return-1},Y1=(e,t,n)=>xb(e,t,n,r=>yu(r)||Jl(r)),Q1=(e,t,n)=>xb(e,t,n,Lh),Ob=(e,t,n,r,o,i)=>{let a;const s=e.getParent(n,e.isBlock)||t,l=(d,u,f)=>{const m=il(e);return O.from((o?m.backwards:m.forwards)(d,u,(g,E)=>td(g.parentNode)?-1:(a=g,f(o,g,E)),s))};return l(n,r,Y1).bind(d=>i?l(d.container,d.offset+(o?-1:0),Q1):O.some(d)).orThunk(()=>a?O.some({container:a,offset:o?0:a.length}):O.none())},Rb=(e,t,n,r,o)=>{const i=r[o];Ce(r)&&ri(r.data)&&i&&(r=i);const a=wb(e,r);for(let s=0;s<a.length;s++)for(let l=0;l<t.length;l++){const d=t[l];if((!Ne(d.collapsed)||d.collapsed===n.collapsed)&&fi(d)&&e.is(a[s],d.selector))return a[s]}return r},kb=(e,t,n,r)=>{var o;let i=n;const a=e.getRoot(),s=t[0];if(Pa(s)&&(i=s.wrapper?null:e.getParent(n,s.block,a)),!i){const l=null!==(o=e.getParent(n,"LI,TD,TH,SUMMARY"))&&void 0!==o?o:a;i=e.getParent(Ce(n)?n.parentNode:n,d=>d!==a&&K1(e.schema,d),l)}if(i&&Pa(s)&&s.wrapper&&(i=wb(e,i,"ul,ol").reverse()[0]||i),!i)for(i=n;i&&i[r]&&!e.isBlock(i[r])&&(i=i[r],!Uh(i,"br")););return i||n},Db=(e,t,n,r)=>{const o=n.parentNode;return!Ne(n[r])&&(!(o!==t&&!qt(o)&&!e.isBlock(o))||Db(e,t,o,r))},Tu=(e,t,n,r,o)=>{let i=n;const a=o?"previousSibling":"nextSibling",s=e.getRoot();if(Ce(n)&&!Nb(n)&&(o?r>0:r<n.data.length))return n;for(;i;){if(!t[0].block_expand&&e.isBlock(i))return i;for(let d=i[a];d;d=d[a]){const u=Ce(d)&&!Db(e,s,d,a);if(!td(d)&&(!dn(l=d)||!l.getAttribute("data-mce-bogus")||l.nextSibling)&&!Nb(d,u))return i}if(i===s||i.parentNode===s){n=i;break}i=i.parentNode}var l;return n},Lb=e=>td(e.parentNode)||td(e),ul=(e,t,n,r=!1)=>{let{startContainer:o,startOffset:i,endContainer:a,endOffset:s}=t;const l=n[0];return Le(o)&&o.hasChildNodes()&&(o=Ms(o,i),Ce(o)&&(i=0)),Le(a)&&a.hasChildNodes()&&(a=Ms(a,t.collapsed?s:s-1),Ce(a)&&(s=a.data.length)),o=Ab(e,o),a=Ab(e,a),Lb(o)&&(o=td(o)?o:o.parentNode,o=t.collapsed?o.previousSibling||o:o.nextSibling||o,Ce(o)&&(i=t.collapsed?o.length:0)),Lb(a)&&(a=td(a)?a:a.parentNode,a=t.collapsed?a.nextSibling||a:a.previousSibling||a,Ce(a)&&(s=t.collapsed?0:a.length)),t.collapsed&&(Ob(e,e.getRoot(),o,i,!0,r).each(({container:d,offset:u})=>{o=d,i=u}),Ob(e,e.getRoot(),a,s,!1,r).each(({container:d,offset:u})=>{a=d,s=u})),(ir(l)||l.block_expand)&&(ir(l)&&Ce(o)&&0!==i||(o=Tu(e,n,o,i,!0)),ir(l)&&Ce(a)&&s!==a.data.length||(a=Tu(e,n,a,s,!1))),qh(l)&&(o=Rb(e,n,t,o,"previousSibling"),a=Rb(e,n,t,a,"nextSibling")),(Pa(l)||fi(l))&&(o=kb(e,n,o,"previousSibling"),a=kb(e,n,a,"nextSibling"),Pa(l)&&(e.isBlock(o)||(o=Tu(e,n,o,i,!0)),e.isBlock(a)||(a=Tu(e,n,a,s,!1)))),Le(o)&&o.parentNode&&(i=e.nodeIndex(o),o=o.parentNode),Le(a)&&a.parentNode&&(s=e.nodeIndex(a)+1,a=a.parentNode),{startContainer:o,startOffset:i,endContainer:a,endOffset:s}},nc=(e,t,n)=>{var r;const o=t.startOffset,i=Ms(t.startContainer,o),a=t.endOffset,s=Ms(t.endContainer,a-1),l=v=>{const C=v[0];Ce(C)&&C===i&&o>=C.data.length&&v.splice(0,1);const w=v[v.length-1];return 0===a&&v.length>0&&w===s&&Ce(w)&&v.splice(v.length-1,1),v},d=(v,C,w)=>{const A=[];for(;v&&v!==w;v=v[C])A.push(v);return A},u=(v,C)=>e.getParent(v,w=>w.parentNode===C,C),f=(v,C,w)=>{const A=w?"nextSibling":"previousSibling";for(let M=v,P=M.parentNode;M&&M!==C;M=P){P=M.parentNode;const H=d(M===v?M:M[A],A);H.length&&(w||H.reverse(),n(l(H)))}};if(i===s)return n(l([i]));const m=null!==(r=e.findCommonAncestor(i,s))&&void 0!==r?r:e.getRoot();if(e.isChildOf(i,s))return f(i,m,!0);if(e.isChildOf(s,i))return f(s,m);const b=u(i,m)||i,g=u(s,m)||s;f(i,b,!0);const E=d(b===i?b:b.nextSibling,"nextSibling",g===s?g.nextSibling:g);E.length&&n(l(E)),f(s,g)},G1=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],Ib=(e,t,n,r,o,i)=>{const{uid:a=t,...s}=n;h(e,Bd()),on(e,`${ql()}`,a),on(e,`${rl()}`,r);const{attributes:l={},classes:d=[]}=o(a,s);if(Yr(e,l),u=e,de(d,m=>{h(u,m)}),i){d.length>0&&on(e,`${jd()}`,d.join(","));const u=Zn(l);u.length>0&&on(e,`${Hd()}`,u.join(","))}var u},Pb=(e,t,n,r,o)=>{const i=z("span",e);return Ib(i,t,n,r,o,!1),i},Mb=e=>{const t=(()=>{const i={};return{register:(a,s)=>{i[a]={name:a,settings:s}},lookup:a=>Pt(i,a).map(s=>s.settings),getNames:()=>Zn(i)}})();((i,a)=>{const s=rl(),l=u=>O.from(u.attr(s)).bind(a.lookup),d=u=>{var f,m;u.attr(ql(),null),u.attr(rl(),null),u.attr(Fd(),null);const b=O.from(u.attr(Hd())).map(C=>C.split(",")).getOr([]),g=O.from(u.attr(jd())).map(C=>C.split(",")).getOr([]);de(b,C=>u.attr(C,null));const E=null!==(m=null===(f=u.attr("class"))||void 0===f?void 0:f.split(" "))&&void 0!==m?m:[],v=Ho(E,[Bd()].concat(g));u.attr("class",v.length>0?v.join(" "):null),u.attr(jd(),null),u.attr(Hd(),null)};i.serializer.addTempAttr(Fd()),i.serializer.addAttributeFilter(s,u=>{for(const f of u)l(f).each(m=>{!1===m.persistent&&("span"===f.name?f.unwrap():d(f))})})})(e,t);const n=((i,a)=>{const s=mr({}),l=()=>({listeners:[],previous:Ps()}),d=(b,g)=>{u(b,E=>(g(E),E))},u=(b,g)=>{const E=s.get(),v=g(Pt(E,b).getOrThunk(l));E[b]=v,s.set(E)},f=(b,g)=>{de(Wg(i,b),E=>{g?on(E,Fd(),"true"):nn(E,Fd())})},m=dh(()=>{const b=st(a.getNames());de(b,g=>{u(g,E=>{const v=E.previous.get();return zg(i,O.some(g)).fold(()=>{v.each(C=>{var w;d(w=g,A=>{de(A.listeners,M=>M(!1,w))}),E.previous.clear(),f(C,!1)})},({uid:C,name:w,elements:A})=>{var M,P,H;go(v,C)||(v.each(M=>f(M,!1)),P=C,H=A,d(M=w,K=>{de(K.listeners,G=>G(!0,M,{uid:P,nodes:wt(H,J=>J.dom)}))}),E.previous.set(C),f(C,!0))}),{previous:E.previous,listeners:E.listeners}})})},30);return i.on("remove",()=>{m.cancel()}),i.on("NodeChange",()=>{m.throttle()}),{addListener:(b,g)=>{u(b,E=>({previous:E.previous,listeners:E.listeners.concat([g])}))}}})(e,t),r=Oo("span"),o=i=>{de(i,a=>{r(a)?Be(a):(s=>{S(s,Bd()),nn(s,`${ql()}`),nn(s,`${rl()}`),nn(s,`${Fd()}`);const l=Br(s,`${Hd()}`).map(f=>f.split(",")).getOr([]),d=Br(s,`${jd()}`).map(f=>f.split(",")).getOr([]);var u;de(l,f=>nn(s,f)),u=s,de(d,f=>{S(u,f)}),nn(s,`${jd()}`),nn(s,`${Hd()}`)})(a)})};return{register:(i,a)=>{t.register(i,a)},annotate:(i,a)=>{t.lookup(i).each(s=>{var l,d,u,f;d=i,u=s,f=a,(l=e).undoManager.transact(()=>{const m=l.selection,b=m.getRng(),g=Zl(l).length>0,E=$d("mce-annotation");if(b.collapsed&&!g&&((v,C)=>{const w=ul(v.dom,C,[{inline:"span"}]);C.setStart(w.startContainer,w.startOffset),C.setEnd(w.endContainer,w.endOffset),v.selection.setRng(C)})(l,b),m.getRng().collapsed&&!g){const v=Pb(l.getDoc(),E,f,d,u.decorate);ze(v,hn),m.getRng().insertNode(v.dom),m.select(v.dom)}else _b(m,!1,()=>{Fh(l,v=>{((e,t,n,r,o,i)=>{const a=[],s=Pb(e.getDoc(),n,i,r,o),l=Ps(),d=()=>{l.clear()},u=m=>{de(m,f)},f=m=>{switch(b=e,g=m,E="span",v=Nt(m),en(g).fold(()=>"skipping",C=>{return"br"===v||In(w=g)&&yo(w)===Bn?"valid":(w=>Un(w)&&R(w,Bd()))(g)?"existing":ci(g.dom)?"caret":Zt(G1,w=>ae(g,w))?"valid-block":ed(b,E,v)&&ed(b,Nt(C),E)?"valid":"invalid-child";var w})){case"invalid-child":{d();const b=fn(m);u(b),d();break}case"valid-block":d(),Ib(m,n,i,r,o,!0);break;case"valid":{const b=l.get().getOrThunk(()=>{const g=ol(s);return a.push(g),l.set(g),g});te(m,b);break}}var b,g,E,v};nc(e.dom,t,m=>{d(),(b=>{const g=wt(b,k);u(g)})(m)})})(l,v,E,d,u.decorate,f)})})})})},annotationChanged:(i,a)=>{n.addListener(i,a)},remove:i=>{zg(e,O.some(i)).each(({elements:a})=>{const s=e.selection.getBookmark();o(a),e.selection.moveToBookmark(s)})},removeAll:i=>{const a=e.selection.getBookmark();xt(Kg(e,i),(s,l)=>{o(s)}),e.selection.moveToBookmark(a)},getAll:i=>{const a=Kg(e,i);return sr(a,s=>wt(s,l=>l.dom))}}},rc=e=>({getBookmark:Re(z1,e),moveToBookmark:Re(q1,e)});rc.isBookmarkNode=ui;const Bb=(e,t,n)=>!n.collapsed&&Zt(n.getClientRects(),r=>{return a=t,(i=e)>=(o=r).left&&i<=o.right&&a>=o.top&&a<=o.bottom;var o,i,a}),Fb=(e,t,n)=>{e.dispatch(t,n)},jb=(e,t,n,r)=>{e.dispatch("FormatApply",{format:t,node:n,vars:r})},Hb=(e,t,n,r)=>{e.dispatch("FormatRemove",{format:t,node:n,vars:r})},$b=(e,t)=>e.dispatch("SetContent",t),Ub=(e,t)=>e.dispatch("GetContent",t),Vb=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t}),Pe={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||Pe.metaKeyPressed(e),metaKeyPressed:e=>Et.os.isMacOS()||Et.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},fl="data-mce-selected",zb=Math.abs,wu=Math.round,Kh={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},qb=(e,t)=>{const n=t.dom,r=t.getDoc(),o=document,i=t.getBody();let a,s,l,d,u,f,m,b,g,E,v,C,w,A,M;const P=Ie=>Ne(Ie)&&(Dl(Ie)||n.is(Ie,"figure.image")),H=Ie=>Ui(Ie)||n.hasClass(Ie,"mce-preview-object"),K=Ie=>{const He=Ie.target;((lt,q)=>{if("longpress"===(Q=lt).type||0===Q.type.indexOf("touch")){const Q=lt.touches[0];return P(lt.target)&&!Bb(Q.clientX,Q.clientY,q)}var Q;return P(lt.target)&&!Bb(lt.clientX,lt.clientY,q)})(Ie,t.selection.getRng())&&!Ie.isDefaultPrevented()&&t.selection.select(He)},G=Ie=>n.hasClass(Ie,"mce-preview-object")&&Ne(Ie.firstElementChild)?[Ie,Ie.firstElementChild]:n.is(Ie,"figure.image")?[Ie.querySelector("img")]:[Ie],J=Ie=>{const He=Mv(t);return!!He&&"false"!==Ie.getAttribute("data-mce-resize")&&Ie!==t.getBody()&&(n.hasClass(Ie,"mce-preview-object")&&Ne(Ie.firstElementChild)?ae(k(Ie.firstElementChild),He):ae(k(Ie),He))},ne=(Ie,He,lt)=>{if(Ne(lt)){const q=G(Ie);de(q,Q=>{Q.style[He]||!t.schema.isValid(Q.nodeName.toLowerCase(),He)?n.setStyle(Q,He,lt):n.setAttrib(Q,He,""+lt)})}},U=(Ie,He,lt)=>{ne(Ie,"width",He),ne(Ie,"height",lt)},Y=Ie=>{let He,lt,q,Q,me;He=Ie.screenX-f,lt=Ie.screenY-m,C=He*d[2]+b,w=lt*d[3]+g,C=C<5?5:C,w=w<5?5:w,q=(P(a)||H(a))&&!1!==IN(t)?!Pe.modifierPressed(Ie):Pe.modifierPressed(Ie),q&&(zb(He)>zb(lt)?(w=wu(C*E),C=wu(w/E)):(C=wu(w/E),w=wu(C*E))),U(s,C,w),Q=d.startPos.x+He,me=d.startPos.y+lt,Q=Q>0?Q:0,me=me>0?me:0,n.setStyles(l,{left:Q,top:me,display:"block"}),l.innerHTML=C+" &times; "+w,d[2]<0&&s.clientWidth<=C&&n.setStyle(s,"left",void 0+(b-C)),d[3]<0&&s.clientHeight<=w&&n.setStyle(s,"top",void 0+(g-w)),He=i.scrollWidth-A,lt=i.scrollHeight-M,He+lt!==0&&n.setStyles(l,{left:Q-He,top:me-lt}),v||(t.dispatch("ObjectResizeStart",{target:a,width:b,height:g,origin:"corner-"+d.name}),v=!0)},ee=()=>{const Ie=v;v=!1,Ie&&(ne(a,"width",C),ne(a,"height",w)),n.unbind(r,"mousemove",Y),n.unbind(r,"mouseup",ee),o!==r&&(n.unbind(o,"mousemove",Y),n.unbind(o,"mouseup",ee)),n.remove(s),n.remove(l),n.remove(u),ue(a),Ie&&(t.dispatch("ObjectResized",{target:a,width:C,height:w,origin:"corner-"+d.name}),n.setAttrib(a,"style",n.getAttrib(a,"style"))),t.nodeChanged()},ue=Ie=>{rt();const He=n.getPos(Ie,i),lt=He.x,q=He.y,Q=Ie.getBoundingClientRect(),me=Q.width||Q.right-Q.left,ge=Q.height||Q.bottom-Q.top;a!==Ie&&(we(),a=Ie,C=w=0);const _e=t.dispatch("ObjectSelected",{target:Ie});J(Ie)&&!_e.isDefaultPrevented()?xt(Kh,($e,et)=>{let ct=n.get("mceResizeHandle"+et);ct&&n.remove(ct),ct=n.add(i,"div",{id:"mceResizeHandle"+et,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+et+"-resize; margin:0; padding:0"}),n.bind(ct,"mousedown",ot=>{ot.stopImmediatePropagation(),ot.preventDefault(),(Qt=>{const qe=G(a)[0];var yt;f=Qt.screenX,m=Qt.screenY,b=qe.clientWidth,g=qe.clientHeight,E=g/b,d=$e,d.name=et,d.startPos={x:me*$e[0]+lt,y:ge*$e[1]+q},A=i.scrollWidth,M=i.scrollHeight,u=n.add(i,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),n.setStyles(u,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),s=H(yt=a)?n.create("img",{src:Et.transparentSrc}):yt.cloneNode(!0),n.addClass(s,"mce-clonedresizable"),n.setAttrib(s,"data-mce-bogus","all"),s.contentEditable="false",n.setStyles(s,{left:lt,top:q,margin:0}),U(s,me,ge),s.removeAttribute(fl),i.appendChild(s),n.bind(r,"mousemove",Y),n.bind(r,"mouseup",ee),o!==r&&(n.bind(o,"mousemove",Y),n.bind(o,"mouseup",ee)),l=n.add(i,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},b+" &times; "+g)})(ot)}),$e.elm=ct,n.setStyles(ct,{left:me*$e[0]+lt-ct.offsetWidth/2,top:ge*$e[1]+q-ct.offsetHeight/2})}):we(!1)},Oe=lu(ue,0),we=(Ie=!0)=>{Oe.cancel(),rt(),a&&Ie&&a.removeAttribute(fl),xt(Kh,(He,lt)=>{const q=n.get("mceResizeHandle"+lt);q&&(n.unbind(q),n.remove(q))})},Xe=(Ie,He)=>n.isChildOf(Ie,He),Ye=Ie=>{if(v||t.removed||t.composing)return;const He="mousedown"===Ie.type?Ie.target:e.getNode(),lt=Rr(k(He),"table,img,figure.image,hr,video,span.mce-preview-object,details").map(Q=>Q.dom).filter(Q=>n.isEditable(Q.parentElement)||"IMG"===Q.nodeName&&n.isEditable(Q)).getOrUndefined(),q=Ne(lt)?n.getAttrib(lt,fl,"1"):"1";if(de(n.select(`img[${fl}],hr[${fl}]`),Q=>{Q.removeAttribute(fl)}),Ne(lt)&&Xe(lt,i)&&t.hasFocus()){Je();const Q=e.getStart(!0);if(Xe(Q,lt)&&Xe(e.getEnd(!0),lt))return n.setAttrib(lt,fl,q),void Oe.throttle(lt)}we()},rt=()=>{xt(Kh,Ie=>{Ie.elm&&(n.unbind(Ie.elm),delete Ie.elm)})},Je=()=>{try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return t.on("init",()=>{Je(),t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",Ye),t.on("keyup compositionend",Ie=>{a&&"TABLE"===a.nodeName&&Ye(Ie)}),t.on("hide blur",we),t.on("contextmenu longpress",K,!0)}),t.on("remove",rt),{isResizable:J,showResizeRect:ue,hideResizeRect:we,updateResizeRect:Ye,destroy:()=>{Oe.cancel(),a=s=u=null}}},Wb=(e,t,n)=>{const r=e.document.createRange();var o,i;return o=r,t.fold(i=>{o.setStartBefore(i.dom)},(i,a)=>{o.setStart(i.dom,a)},i=>{o.setStartAfter(i.dom)}),i=r,n.fold(s=>{i.setEndBefore(s.dom)},(s,l)=>{i.setEnd(s.dom,l)},s=>{i.setEndAfter(s.dom)}),r},Yh=(e,t,n,r,o)=>{const i=e.document.createRange();return i.setStart(t.dom,n),i.setEnd(r.dom,o),i},oc=ka([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Kb=(e,t,n)=>t(k(n.startContainer),n.startOffset,k(n.endContainer),n.endOffset),Yb=(e,t,n,r)=>({start:e,soffset:t,finish:n,foffset:r}),J1=document.caretPositionFromPoint?(e,t,n)=>{var r,o;return O.from(null===(o=(r=e.dom).caretPositionFromPoint)||void 0===o?void 0:o.call(r,t,n)).bind(i=>{if(null===i.offsetNode)return O.none();const a=e.dom.createRange();return a.setStart(i.offsetNode,i.offset),a.collapse(),O.some(a)})}:document.caretRangeFromPoint?(e,t,n)=>{var r,o;return O.from(null===(o=(r=e.dom).caretRangeFromPoint)||void 0===o?void 0:o.call(r,t,n))}:O.none,Qh=ka([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),hs={before:Qh.before,on:Qh.on,after:Qh.after,cata:(e,t,n,r)=>e.fold(t,n,r),getStart:e=>e.fold(At,At,At)},Nu=ka([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),nd={domRange:Nu.domRange,relative:Nu.relative,exact:Nu.exact,exactFromRange:e=>Nu.exact(e.start,e.soffset,e.finish,e.foffset),getWin:e=>{const t=e.match({domRange:r=>k(r.startContainer),relative:(r,o)=>hs.getStart(r),exact:(r,o,i,a)=>r});return rn(t)},range:Yb},Au=(e,t)=>{const n=Nt(e);return"input"===n?hs.after(e):Bt(["br","img"],n)?0===t?hs.before(e):hs.after(e):hs.on(e,t)},Z1=(e,t)=>{const n=e.fold(hs.before,Au,hs.after),r=t.fold(hs.before,Au,hs.after);return nd.relative(n,r)},Qb=(e,t,n,r)=>{const o=Au(e,t),i=Au(n,r);return nd.relative(o,i)},Gh=(e,t)=>{const n=(t||document).createDocumentFragment();return de(e,r=>{n.appendChild(r.dom)}),k(n)},Gb=(e,t,n)=>{return(r=rn(k(n)).dom,o=e,i=t,((a,s,l)=>{const d=k(a.document);return J1(d,s,l).map(u=>Yb(k(u.startContainer),u.startOffset,k(u.endContainer),u.endOffset))})(r,o,i)).map(r=>{const o=n.createRange();return o.setStart(r.start.dom,r.soffset),o.setEnd(r.finish.dom,r.foffset),o}).getOrUndefined();var r,o,i},Xh=(e,t)=>Ne(e)&&Ne(t)&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,Xb=(e,t,n)=>null!==((r,o,i)=>{let a=r;for(;a&&a!==o;){if(i(a))return a;a=a.parentNode}return null})(e,t,n),tA=(e,t,n)=>Xb(e,t,r=>r.nodeName===n),nA=(e,t)=>pr(e)&&!Xb(e,t,ci),Jb=(e,t,n)=>{const r=t.parentNode;if(r){const o=new De(t,e.getParent(r,e.isBlock)||e.getRoot());let i;for(;i=o[n?"prev":"next"]();)if(dn(i))return!0}return!1},Jh=(e,t,n,r,o)=>{const i=e.getRoot(),a=e.schema.getNonEmptyElements(),s=o.parentNode;let l,d;if(!s)return O.none();const u=e.getParent(s,e.isBlock)||i;if(r&&dn(o)&&t&&e.isEmpty(u))return O.some(oe(s,e.nodeIndex(o)));const f=new De(o,u);for(;d=f[r?"prev":"next"]();){if("false"===e.getContentEditableParent(d)||nA(d,i))return O.none();if(Ce(d)&&d.data.length>0)return tA(d,i,"A")?O.none():O.some(oe(d,r?d.data.length:0));if(e.isBlock(d)||a[d.nodeName.toLowerCase()])return O.none();l=d}return Ta(l)?O.none():n&&l?O.some(oe(l,0)):O.none()},Zb=(e,t,n,r)=>{const o=e.getRoot();let i,a=!1,s=n?r.startContainer:r.endContainer,l=n?r.startOffset:r.endOffset;const d=Le(s)&&l===s.childNodes.length,u=e.schema.getNonEmptyElements();let f=n;if(pr(s))return O.none();if(Le(s)&&l>s.childNodes.length-1&&(f=!1),Ks(s)&&(s=o,l=0),s===o){if(f&&(i=s.childNodes[l>0?l-1:0],i)&&(pr(i)||u[i.nodeName]||$i(i)))return O.none();if(s.hasChildNodes()){if(l=Math.min(!f&&l>0?l-1:l,s.childNodes.length-1),s=s.childNodes[l],l=Ce(s)&&d?s.data.length:0,!t&&s===o.lastChild&&$i(s)||((m,b)=>{let g=b;for(;g&&g!==m;){if(Wt(g))return!0;g=g.parentNode}return!1})(o,s)||pr(s)||Ed(s))return O.none();if(s.hasChildNodes()&&!$i(s)){i=s;const m=new De(s,o);do{if(Wt(i)||pr(i)){a=!1;break}if(Ce(i)&&i.data.length>0){l=f?0:i.data.length,s=i,a=!0;break}if(u[i.nodeName.toLowerCase()]&&!Vf(i)){l=e.nodeIndex(i),s=i.parentNode,f||l++,a=!0;break}}while(i=f?m.next():m.prev())}}}return t&&(Ce(s)&&0===l&&Jh(e,d,t,!0,s).each(m=>{s=m.container(),l=m.offset(),a=!0}),Le(s)&&(i=s.childNodes[l],i||(i=s.childNodes[l-1]),!i||!dn(i)||"A"===(null===(g=i.previousSibling)||void 0===g?void 0:g.nodeName)||Jb(e,i,!1)||Jb(e,i,!0)||Jh(e,d,t,!0,i).each(m=>{s=m.container(),l=m.offset(),a=!0}))),f&&!t&&Ce(s)&&l===s.data.length&&Jh(e,d,t,!1,s).each(m=>{s=m.container(),l=m.offset(),a=!0}),a&&s?O.some(oe(s,l)):O.none();var g},xu=(e,t)=>{const n=t.collapsed,r=t.cloneRange(),o=oe.fromRangeStart(t);return Zb(e,n,!0,r).each(i=>{n&&oe.isAbove(o,i)||r.setStart(i.container(),i.offset())}),n||Zb(e,n,!1,r).each(i=>{r.setEnd(i.container(),i.offset())}),n&&r.collapse(!0),Xh(t,r)?O.none():O.some(r)},Ou=(e,t)=>e.splitText(t),Ru=e=>{let t=e.startContainer,n=e.startOffset,r=e.endContainer,o=e.endOffset;if(t===r&&Ce(t)){if(n>0&&n<t.data.length)if(r=Ou(t,n),t=r.previousSibling,o>n){o-=n;const i=Ou(r,o).previousSibling;t=r=i,o=i.data.length,n=0}else o=0}else if(Ce(t)&&n>0&&n<t.data.length&&(t=Ou(t,n),n=0),Ce(r)&&o>0&&o<r.data.length){const i=Ou(r,o).previousSibling;r=i,o=i.data.length}return{startContainer:t,startOffset:n,endContainer:r,endOffset:o}},hl=e=>({walk:(t,n)=>nc(e,t,n),split:Ru,expand:(t,n={type:"word"})=>{if("word"===n.type){const r=ul(e,t,[{inline:"span"}]),o=e.createRng();return o.setStart(r.startContainer,r.startOffset),o.setEnd(r.endContainer,r.endOffset),o}return t},normalize:t=>xu(e,t).fold(Ut,n=>(t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),!0))});hl.compareRanges=Xh,hl.getCaretRangeFromPoint=Gb,hl.getSelectedNode=du,hl.getNode=Ms;const rA=((e,t)=>{const n=o=>{const i=(a=>{const s=a.dom;return Ht(a)?s.getBoundingClientRect().height:s.offsetHeight})(o);if(i<=0||null===i){const a=nr(o,e);return parseFloat(a)||0}return i},r=(o,i)=>yn(i,(a,s)=>{const l=nr(o,s),d=void 0===l?0:parseInt(l,10);return isNaN(d)?a:a+d},0);return{set:(o,i)=>{if(!T(i)&&!i.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+i);const a=o.dom;si(a)&&(a.style[e]=i+"px")},get:n,getOuter:n,aggregate:r,max:(o,i,a)=>{const s=r(o,a);return i>s?i-s:0}}})("height"),e_=()=>k(document),t_=(e,t)=>e.view(t).fold(Ae([]),n=>{const r=e.owner(n),o=t_(e,r);return[n].concat(o)});var oA=Object.freeze({__proto__:null,view:e=>{var t;return(e.dom===document?O.none():O.from(null===(t=e.dom.defaultView)||void 0===t?void 0:t.frameElement)).map(k)},owner:e=>an(e)});const Zh=e=>"textarea"===Nt(e),n_=(e,t)=>{const n=(o=>{const i=o.dom.ownerDocument,a=i.body,s=i.defaultView,l=i.documentElement;if(a===o.dom)return kt(a.offsetLeft,a.offsetTop);const d=ft(s?.pageYOffset,l.scrollTop),u=ft(s?.pageXOffset,l.scrollLeft),f=ft(l.clientTop,a.clientTop),m=ft(l.clientLeft,a.clientLeft);return Mt(o).translate(u-m,d-f)})(e),r=rA.get(e);return{element:e,bottom:n.top+r,height:r,pos:n,cleanup:t}},r_=(e,t,n,r)=>{aA(e,(o,i)=>iA(e,t,n,r),n)},o_=(e,t,n,r,o)=>{const i={elm:r.element.dom,alignToTop:o};e.dispatch("ScrollIntoView",i).isDefaultPrevented()||(n(e,t,On(t).top,r,o),e.dispatch("AfterScrollIntoView",i))},iA=(e,t,n,r)=>{k(e.getBody());const i=k(e.getDoc()),a=((s,l)=>{const d=((f,m)=>{const b=fn(f);if(0===b.length||Zh(f))return{element:f,offset:m};if(m<b.length&&!Zh(b[m]))return{element:b[m],offset:0};{const g=b[b.length-1];return Zh(g)?{element:f,offset:m}:"img"===Nt(g)?{element:g,offset:1}:In(g)?{element:g,offset:yo(g).length}:{element:g,offset:fn(g).length}}})(s,l),u=B('<span data-mce-bogus="all" style="display: inline-block;">\ufeff</span>');return Vn(d.element,u),n_(u,()=>ce(u))})(k(n.startContainer),n.startOffset);o_(e,i,t,a,r),a.cleanup()},i_=(e,t,n,r)=>{const o=k(e.getDoc());o_(e,o,n,n_(k(t),Ke),r)},aA=(e,t,n)=>{const r=n.startContainer,o=n.startOffset,i=n.endContainer,a=n.endOffset;t(k(r),k(i));const s=e.dom.createRng();s.setStart(r,o),s.setEnd(i,a),e.selection.setRng(n)},ep=(e,t,n,r,o)=>{const i=t.pos;if(r)pe(i.left,i.top,o);else{const a=i.top-n+t.height;pe(-e.getBody().getBoundingClientRect().left,a,o)}},a_=(e,t,n,r,o,i)=>{const a=r+n,s=o.pos.top,l=o.bottom,d=l-s>=r;s<n?ep(e,o,r,!1!==i,t):s>a?ep(e,o,r,d?!1!==i:!0===i,t):l>a&&!d&&ep(e,o,r,!0===i,t)},s_=(e,t,n,r,o)=>{const i=rn(t).dom.innerHeight;a_(e,t,n,i,r,o)},l_=(e,t,n,r,o)=>{const i=rn(t).dom.innerHeight;a_(e,t,n,i,r,o);const a=(l=>{const d=e_(),u=On(d),f=((g,E)=>{const v=E.owner(g);return t_(E,v)})(l,oA),m=Mt(l),b=Fo(f,(g,E)=>{const v=Mt(E);return{left:g.left+v.left,top:g.top+v.top}},{left:0,top:0});return kt(b.left+m.left+u.left,b.top+m.top+u.top)})(r.element),s=j(window);a.top<s.y?be(r.element,!1!==o):a.top>s.bottom&&be(r.element,!0===o)},sA=(e,t,n)=>r_(e,s_,t,n),lA=(e,t,n)=>i_(e,t,s_,n),dA=(e,t,n)=>r_(e,l_,t,n),cA=(e,t,n)=>i_(e,t,l_,n),ic=(e,t,n)=>{(e.inline?sA:dA)(e,t,n)},d_=(e,t=!1)=>e.dom.focus({preventScroll:t}),c_=e=>{const t=xn(e).dom;return e.dom===t.activeElement},tp=(e=e_())=>O.from(e.dom.activeElement).map(k),u_=(e,t)=>{const n=In(t)?yo(t).length:fn(t).length+1;return e>n?n:e<0?0:e},uA=e=>nd.range(e.start,u_(e.soffset,e.start),e.finish,u_(e.foffset,e.finish)),f_=(e,t)=>!Vt(t.dom)&&(Ot(e,t)||Fe(e,t)),h_=e=>t=>f_(e,t.start)&&f_(e,t.finish),fA=e=>nd.range(k(e.startContainer),e.startOffset,k(e.endContainer),e.endOffset),hA=e=>{const t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),O.some(t)}catch{return O.none()}},np=e=>{const t=e.inline||Et.browser.isFirefox()?(n=k(e.getBody()),(r=>{const o=r.getSelection();return(o&&0!==o.rangeCount?O.from(o.getRangeAt(0)):O.none()).map(fA)})(rn(n).dom).filter(h_(n))):O.none();var n;e.bookmark=t.isSome()?t:e.bookmark},rp=e=>(e.bookmark?e.bookmark:O.none()).bind(t=>{return n=k(e.getBody()),O.from(t).filter(h_(n)).map(uA);var n}).bind(hA),p_={isEditorUIElement:e=>{const t=e.className.toString();return-1!==t.indexOf("tox-")||-1!==t.indexOf("mce-")}},hi={setEditorTimeout:(e,t,n)=>{return T(o=n)||(o=0),setTimeout(()=>{e.removed||t()},o);var o},setEditorInterval:(e,t,n)=>{const r=(T(i=n)||(i=0),setInterval(()=>{e.removed?clearInterval(r):t()},i));var i;return r}};let rd;const op=Xt.DOM,ip=e=>{const t=e.classList;return void 0!==t&&(t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"))},ku=(e,t)=>{const n=VN(e);return null!==op.getParent(t,o=>{return Le(i=o)&&p_.isEditorUIElement(i)||!!n&&e.dom.is(o,n);var i})},ap=e=>{try{const t=xn(k(e.getElement()));return tp(t).fold(()=>document.body,n=>n.dom)}catch{return document.body}},pA=(e,t)=>{const n=t.editor;(o=>{const i=lu(()=>{np(o)},0);o.on("init",()=>{var a,d;o.inline&&((a,s)=>{const l=()=>{s.throttle()};Xt.DOM.bind(document,"mouseup",l),a.on("remove",()=>{Xt.DOM.unbind(document,"mouseup",l)})})(o,i),d=i,(a=o).on("mouseup touchend",u=>{d.throttle()}),a.on("keyup NodeChange AfterSetSelectionRange",l=>{(d=>"nodechange"===d.type&&d.selectionChange)(l)||np(a)})}),o.on("remove",()=>{i.cancel()})})(n);const r=(o,i)=>{T1(o)&&!0!==o.inline&&i(k(o.getContainer()),"tox-edit-focus")};n.on("focusin",()=>{const o=e.focusedEditor;ip(ap(n))&&r(n,h),o!==n&&(o&&o.dispatch("blur",{focusedEditor:n}),e.setActive(n),e.focusedEditor=n,n.dispatch("focus",{blurredEditor:o}),n.focus(!0))}),n.on("focusout",()=>{hi.setEditorTimeout(n,()=>{const o=e.focusedEditor;ip(ap(n))&&o===n||r(n,S),ku(n,ap(n))||o!==n||(n.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),rd||(rd=o=>{const i=e.activeEditor;i&&Ja(o).each(a=>{a.ownerDocument===document&&(a===document.body||ku(i,a)||e.focusedEditor!==i||(i.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null))})},op.bind(document,"focusin",rd))},mA=(e,t)=>{e.focusedEditor===t.editor&&(e.focusedEditor=null),!e.activeEditor&&rd&&(op.unbind(document,"focusin",rd),rd=null)},m_=(e,t)=>{var n,r,o;(n=k(e.getBody()),r=t,(o=r,o.collapsed?O.from(Ms(o.startContainer,o.startOffset)).map(k):O.none()).bind(o=>Ys(o)?O.some(o):Ot(n,o)?O.none():O.some(n))).bind(n=>$r(n.dom)).fold(()=>{e.selection.normalize()},n=>e.selection.setRng(n.toRange()))},sp=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},pl=e=>{return e.inline?(t=>{const n=t.getBody();return n&&(r=k(n),c_(r)||(o=r,tp(xn(o)).filter(i=>o.dom.contains(i.dom))).isSome());var r,o})(e):Ne((t=e).iframeElement)&&c_(k(t.iframeElement));var t},g_=e=>pl(e)||(t=>{const n=xn(k(t.getElement()));return tp(n).filter(r=>!ip(r.dom)&&ku(t,r.dom)).isSome()})(e),lp=e=>e.editorManager.setActive(e),v_=(e,t)=>t.collapsed?e.isEditable(t.startContainer):e.isEditable(t.startContainer)&&e.isEditable(t.endContainer),b_=(e,t,n,r,o)=>{const a=n?t.startOffset:t.endOffset;return O.from(n?t.startContainer:t.endContainer).map(k).map(s=>r&&t.collapsed?s:ur(s,o(s,a)).getOr(s)).bind(s=>Un(s)?O.some(s):en(s).filter(Un)).map(s=>s.dom).getOr(e)},__=(e,t,n=!1)=>b_(e,t,!0,n,(r,o)=>Math.min(tr(r),o)),y_=(e,t,n=!1)=>b_(e,t,!1,n,(r,o)=>o>0?o-1:o),E_=(e,t)=>{const n=e;for(;e&&Ce(e)&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n},dp=(e,t)=>wt(t,n=>{const r=e.dispatch("GetSelectionRange",{range:n});return r.range!==n?r.range:n}),gA=["img","br"],C_=e=>{return Uc(e).filter(n=>0!==n.trim().length||n.indexOf(hn)>-1).isSome()||Bt(gA,Nt(e))||Ii(n=e)&&"false"===Yn(n,"contenteditable");var n},S_="[data-mce-autocompleter]",T_=e=>Fi(e,S_),bA={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},Du=(e,t,n)=>{const r=n?"lastChild":"firstChild",o=n?"prev":"next";if(e[r])return e[r];if(e!==t){let i=e[o];if(i)return i;for(let a=e.parent;a&&a!==t;a=a.parent)if(i=a[o],i)return i}},_A=e=>{var t;const n=null!==(t=e.value)&&void 0!==t?t:"";if(!Na(n))return!1;const r=e.parent;return!r||"span"===r.name&&!r.attr("style")||!/^[ ]+$/.test(n)},w_=e=>{const t="a"===e.name&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class ro{static create(t,n){const r=new ro(t,bA[t]||1);return n&&xt(n,(o,i)=>{r.attr(i,o)}),r}constructor(t,n){this.name=t,this.type=n,1===n&&(this.attributes=[],this.attributes.map={})}replace(t){const n=this;return t.parent&&t.remove(),n.insert(t,n),n.remove(),n}attr(t,n){const r=this;if(!We(t))return Ne(t)&&xt(t,(i,a)=>{r.attr(a,i)}),r;const o=r.attributes;if(o){if(void 0!==n){if(null===n){if(t in o.map){delete o.map[t];let i=o.length;for(;i--;)if(o[i].name===t)return o.splice(i,1),r}return r}if(t in o.map){let i=o.length;for(;i--;)if(o[i].name===t){o[i].value=n;break}}else o.push({name:t,value:n});return o.map[t]=n,r}return o.map[t]}}clone(){const t=this,n=new ro(t.name,t.type),r=t.attributes;if(r){const o=[];o.map={};for(let i=0,a=r.length;i<a;i++){const s=r[i];"id"!==s.name&&(o[o.length]={name:s.name,value:s.value},o.map[s.name]=s.value)}n.attributes=o}return n.value=t.value,n}wrap(t){const n=this;return n.parent&&(n.parent.insert(t,n),t.append(n)),n}unwrap(){const t=this;for(let n=t.firstChild;n;){const r=n.next;t.insert(n,t,!0),n=r}t.remove()}remove(){const t=this,n=t.parent,r=t.next,o=t.prev;return n&&(n.firstChild===t?(n.firstChild=r,r&&(r.prev=null)):o&&(o.next=r),n.lastChild===t?(n.lastChild=o,o&&(o.next=null)):r&&(r.prev=o),t.parent=t.next=t.prev=null),t}append(t){const n=this;t.parent&&t.remove();const r=n.lastChild;return r?(r.next=t,t.prev=r,n.lastChild=t):n.lastChild=n.firstChild=t,t.parent=n,t}insert(t,n,r){t.parent&&t.remove();const o=n.parent||this;return r?(n===o.firstChild?o.firstChild=t:n.prev&&(n.prev.next=t),t.prev=n.prev,t.next=n,n.prev=t):(n===o.lastChild?o.lastChild=t:n.next&&(n.next.prev=t),t.next=n.next,t.prev=n,n.next=t),t.parent=o,t}getAll(t){const n=this,r=[];for(let o=n.firstChild;o;o=Du(o,n))o.name===t&&r.push(o);return r}children(){const t=[];for(let n=this.firstChild;n;n=n.next)t.push(n);return t}empty(){const t=this;if(t.firstChild){const n=[];for(let o=t.firstChild;o;o=Du(o,t))n.push(o);let r=n.length;for(;r--;){const o=n[r];o.parent=o.firstChild=o.lastChild=o.next=o.prev=null}}return t.firstChild=t.lastChild=null,t}isEmpty(t,n={},r){var o;const i=this;let a=i.firstChild;if(w_(i))return!1;if(a)do{if(1===a.type){if(a.attr("data-mce-bogus"))continue;if(t[a.name]||w_(a))return!1}if(8===a.type||3===a.type&&!_A(a)||3===a.type&&a.parent&&n[a.parent.name]&&Na(null!==(o=a.value)&&void 0!==o?o:"")||r&&r(a))return!1}while(a=Du(a,i));return!0}walk(t){return Du(this,null,t)}}const yA=Se.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),N_=e=>We(e.nodeValue)&&e.nodeValue.includes(Bn),A_=e=>(0===e.length?"":`${wt(e,t=>`[${t}]`).join(",")},`)+'[data-mce-bogus="all"]',x_=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,t=>N_(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),O_=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,t=>{if(N_(t)){const n=t.parentNode;return n&&nt(yA,n.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}return NodeFilter.FILTER_SKIP}),EA=e=>null!==x_(e).nextNode(),CA=e=>null!==O_(e).nextNode(),SA=(e,t)=>null!==t.querySelector(A_(e)),TA=(e,t)=>{de(t.querySelectorAll(A_(e)),n=>{const r=k(n);"all"===Yn(r,"data-mce-bogus")?ce(r):de(e,o=>{Mi(r,o)&&nn(r,o)})})},R_=e=>{let t=e.nextNode();for(;null!==t;)t.nodeValue=null,t=e.nextNode()},wA=Ur(R_,x_),NA=Ur(R_,O_),k_=(e,t)=>{const n=[{condition:Re(SA,t),action:Re(TA,t)},{condition:EA,action:wA},{condition:CA,action:NA}];let r=e,o=!1;return de(n,({condition:i,action:a})=>{i(r)&&(o||(r=e.cloneNode(!0),o=!0),a(r))}),r},D_=e=>{const t=le(e,"[data-mce-bogus]");de(t,n=>{"all"===Yn(n,"data-mce-bogus")?ce(n):ts(n)?(Vn(n,V("\ufeff")),ce(n)):Be(n)})},L_=e=>{const t=le(e,"input");de(t,n=>{nn(n,"name")})},I_=Se.makeMap,P_=e=>{const t=[],n=(e=e||{}).indent,r=I_(e.indent_before||""),o=I_(e.indent_after||""),i=Oa.getEncodeFunc(e.entity_encoding||"raw",e.entities),a="xhtml"!==e.element_format;return{start:(s,l,d)=>{if(n&&r[s]&&t.length>0){const u=t[t.length-1];u.length>0&&"\n"!==u&&t.push("\n")}if(t.push("<",s),l)for(let u=0,f=l.length;u<f;u++){const m=l[u];t.push(" ",m.name,'="',i(m.value,!0),'"')}if(t[t.length]=!d||a?">":" />",d&&n&&o[s]&&t.length>0){const u=t[t.length-1];u.length>0&&"\n"!==u&&t.push("\n")}},end:s=>{let l;t.push("</",s,">"),n&&o[s]&&t.length>0&&(l=t[t.length-1],l.length>0&&"\n"!==l&&t.push("\n"))},text:(s,l)=>{s.length>0&&(t[t.length]=l?s:i(s))},cdata:s=>{t.push("<![CDATA[",s,"]]>")},comment:s=>{t.push("\x3c!--",s,"--\x3e")},pi:(s,l)=>{l?t.push("<?",s," ",i(l),"?>"):t.push("<?",s,"?>"),n&&t.push("\n")},doctype:s=>{t.push("<!DOCTYPE",s,">",n?"\n":"")},reset:()=>{t.length=0},getContent:()=>t.join("").replace(/\n$/,"")}},Hs=(e={},t=Ra())=>{const n=P_(e);return e.validate=!("validate"in e)||e.validate,{serialize:r=>{const o=e.validate,i={3:s=>{var l;n.text(null!==(l=s.value)&&void 0!==l?l:"",s.raw)},8:s=>{var l;n.comment(null!==(l=s.value)&&void 0!==l?l:"")},7:s=>{n.pi(s.name,s.value)},10:s=>{var l;n.doctype(null!==(l=s.value)&&void 0!==l?l:"")},4:s=>{var l;n.cdata(null!==(l=s.value)&&void 0!==l?l:"")},11:s=>{let l=s;if(l=l.firstChild)do{a(l)}while(l=l.next)}};n.reset();const a=s=>{var l;const d=i[s.type];if(d)d(s);else{const u=s.name,f=u in t.getVoidElements();let m=s.attributes;if(o&&m&&m.length>1){const b=[];b.map={};const g=t.getElementRule(s.name);if(g){for(let E=0,v=g.attributesOrder.length;E<v;E++){const C=g.attributesOrder[E];if(C in m.map){const w=m.map[C];b.map[C]=w,b.push({name:C,value:w})}}for(let E=0,v=m.length;E<v;E++){const C=m[E].name;if(!(C in b.map)){const w=m.map[C];b.map[C]=w,b.push({name:C,value:w})}}m=b}}if(n.start(u,m,f),xa(u))We(s.value)&&n.text(s.value,!0),n.end(u);else if(!f){let b=s.firstChild;if(b){"pre"!==u&&"textarea"!==u||3!==b.type||"\n"!==(null===(l=b.value)||void 0===l?void 0:l[0])||n.text("\n",!0);do{a(b)}while(b=b.next)}n.end(u)}}};return 1!==r.type||e.inner?3===r.type?i[3](r):i[11](r):a(r),n.getContent()}}},M_=new Set;de(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],e=>{M_.add(e)});const B_=["font","text-decoration","text-emphasis"],cp=(e,t)=>Zn(e.parseStyle(e.getAttrib(t,"style"))),xA=(e,t,n)=>{const r=cp(e,t),o=cp(e,n),i=a=>{var s,l;const d=null!==(s=e.getStyle(t,a))&&void 0!==s?s:"",u=null!==(l=e.getStyle(n,a))&&void 0!==l?l:"";return lr(d)&&lr(u)&&d!==u};return Zt(r,a=>{const s=l=>Zt(l,d=>d===a);if(!s(o)&&s(B_)){const l=tt(o,d=>Zt(B_,u=>un(d,u)));return Zt(l,i)}return i(a)})},F_=(e,t,n)=>O.from(n.container()).filter(Ce).exists(r=>{const o=e?0:-1;return t(r.data.charAt(n.offset()+o))}),up=Re(F_,!0,Jl),fp=Re(F_,!1,Jl),OA=e=>{const t=e.container();return Ce(t)&&(0===t.data.length||Pl(t.data)&&rc.isBookmarkNode(t.parentNode))},$s=(e,t)=>n=>Nh(e?0:-1,n).filter(t).isSome(),j_=e=>Dl(e)&&"block"===nr(k(e),"display"),H_=e=>{return Wt(e)&&!(Le(t=e)&&"all"===t.getAttribute("data-mce-bogus"));var t},RA=$s(!0,j_),kA=$s(!1,j_),ac=$s(!0,Ui),sc=$s(!1,Ui),$_=$s(!0,$i),U_=$s(!1,$i),Us=$s(!0,H_),Vs=$s(!1,H_),V_=(e,t)=>{return o=Ut,Ot(r=t,n=e)?jt(n,i=>o(i)||Fe(i,r)).slice(0,-1):[];var n,r,o},ps=(e,t)=>[e].concat(V_(e,t)),hp=(e,t,n)=>db(e,t,n,OA),z_=(e,t,n)=>{return Gt(ps(k(t.container()),e),(r=n,o=>r.isBlock(Nt(o))));var r},q_=(e,t,n,r)=>hp(e,t.dom,n).forall(o=>z_(t,n,r).fold(()=>!Da(o,n,t.dom),i=>!Da(o,n,t.dom)&&Ot(i,k(o.container())))),W_=(e,t,n,r)=>z_(t,n,r).fold(()=>hp(e,t.dom,n).forall(o=>!Da(o,n,t.dom)),o=>hp(e,o.dom,n).isNone()),pp=Re(W_,!1),K_=Re(W_,!0),DA=Re(q_,!1),LA=Re(q_,!0),IA=e=>gu(e).exists(ts),Lu=(e,t,n,r)=>{const o=tt(ps(k(n.container()),t),a=>r.isBlock(Nt(a))),i=En(o).getOr(t);return di(e,i.dom,n).filter(IA)},mp=(e,t,n)=>gu(t).exists(ts)||Lu(!0,e,t,n).isSome(),gp=(e,t,n)=>{return(r=t,O.from(r.getNode(!0)).map(k)).exists(ts)||Lu(!1,e,t,n).isSome();var r},PA=Re(Lu,!1),MA=Re(Lu,!0),Y_=e=>oe.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),Q_=(e,t,n)=>{const r=tt(ps(k(t.container()),e),o=>n.isBlock(Nt(o)));return En(r).getOr(e)},G_=(e,t,n)=>Y_(t)?fp(t):fp(t)||Do(Q_(e,t,n).dom,t).exists(fp),X_=(e,t,n)=>Y_(t)?up(t):up(t)||To(Q_(e,t,n).dom,t).exists(up),vp=e=>gu(e).bind(t=>Fr(t,Un)).exists(t=>{return n=nr(t,"white-space"),Bt(["pre","pre-wrap"],n);var n}),J_=(e,t)=>n=>{return r=new De(n,e)[t](),Ne(r)&&Wt(r)&&Gv(r);var r},Z_=(e,t,n)=>{return!vp(t)&&(i=n,Do((r=e).dom,o=t).isNone()||To(r.dom,o).isNone()||pp(r,o,i)||K_(r,o,i)||gp(r,o,i)||mp(r,o,i)||G_(e,t,n)||X_(e,t,n));var r,o,i},lc=(e,t,n)=>!vp(t)&&(pp(e,t,n)||DA(e,t,n)||gp(e,t,n)||G_(e,t,n)||((r,o)=>{const i=Do(r.dom,o).getOr(o),a=J_(r.dom,"prev");return o.isAtStart()&&(a(o.container())||a(i.container()))})(e,t)),dc=(e,t,n)=>!vp(t)&&(K_(e,t,n)||LA(e,t,n)||mp(e,t,n)||X_(e,t,n)||((r,o)=>{const i=To(r.dom,o).getOr(o),a=J_(r.dom,"next");return o.isAtEnd()&&(a(o.container())||a(i.container()))})(e,t)),bp=(e,t,n)=>lc(e,t,n)||dc(e,(r=>{const o=r.container(),i=r.offset();return Ce(o)&&i<o.data.length?oe(o,i+1):r})(t),n),ey=(e,t)=>yu(e.charAt(t)),ty=(e,t)=>Jl(e.charAt(t)),ny=(e,t,n,r)=>{const o=t.data,i=oe(t,0);return n||!ey(o,0)||bp(e,i,r)?!!(n&&ty(o,0)&&lc(e,i,r))&&(t.data=hn+o.slice(1),!0):(t.data=" "+o.slice(1),!0)},ry=(e,t,n,r)=>{const o=t.data,i=oe(t,o.length-1);return n||!ey(o,o.length-1)||bp(e,i,r)?!!(n&&ty(o,o.length-1)&&dc(e,i,r))&&(t.data=o.slice(0,-1)+hn,!0):(t.data=o.slice(0,-1)+" ",!0)},oy=(e,t,n,r)=>{if(0===n)return;const o=k(e),i=Mn(o,d=>r.isBlock(Nt(d))).getOr(o),a=e.data.slice(t,t+n),s=t+n>=e.data.length&&dc(i,oe(e,e.data.length),r),l=0===t&&lc(i,oe(e,0),r);e.replaceData(t,n,Aa(a,4,l,s))},Iu=(e,t,n)=>{const r=e.data.slice(t),o=r.length-co(r).length;oy(e,t,o,n)},_p=(e,t,n)=>{const r=e.data.slice(0,t),o=r.length-Uo(r).length;oy(e,t-o,o,n)},yp=(e,t,n,r,o=!0)=>{const i=Uo(e.data).length,a=o?e:t,s=o?t:e;return o?a.appendData(s.data):a.insertData(0,s.data),ce(k(s)),r&&Iu(a,i,n),a},FA=(e,t)=>((n,r)=>{const o=n.container(),i=n.offset();return!oe.isTextPosition(n)&&o===r.parentNode&&i>oe.before(r).offset()})(t,e)?oe(t.container(),t.offset()-1):t,iy=e=>{return Cr(e.previousSibling)?O.some(Ce(t=e.previousSibling)?oe(t,t.data.length):oe.after(t)):e.previousSibling?Vi(e.previousSibling):O.none();var t},ay=e=>{return Cr(e.nextSibling)?O.some(Ce(t=e.nextSibling)?oe(t,0):oe.before(t)):e.nextSibling?$r(e.nextSibling):O.none();var t},sy=(e,t,n)=>{n.fold(()=>{e.focus()},r=>{e.selection.setRng(r.toRange(),t)})},HA=(e,t)=>t&&nt(e.schema.getBlockElements(),Nt(t)),ml=(e,t,n,r=!0,o=!1)=>{const i=((e,t,n)=>{return(r=e,o=t,i=n,r?(a=o,ay(s=i).orThunk(()=>iy(s)).orThunk(()=>{return To(l=a,oe.after(d=s)).orThunk(()=>Do(l,oe.before(d)));var l,d})):((a,s)=>iy(s).orThunk(()=>ay(s)).orThunk(()=>{return l=a,O.from((d=s).previousSibling?d.previousSibling:d.parentNode).bind(u=>Do(l,oe.before(u))).orThunk(()=>To(l,oe.after(d)));var l,d}))(o,i)).map(Re(FA,n));var r,o,i,a,s})(t,e.getBody(),n.dom),a=Mn(n,Re(HA,e),(s=e.getBody(),d=>d.dom===s));var s;const l=((d,u,f,m)=>{const b=Pn(d).filter(In),g=Lt(d).filter(In);return ce(d),(E=b,v=g,C=u,w=(A,M,P)=>{const H=A.dom,K=M.dom,G=H.data.length;return yp(H,K,f,m),P.container()===K?oe(H,G):P},E.isSome()&&v.isSome()&&C.isSome()?O.some(w(E.getOrDie(),v.getOrDie(),C.getOrDie())):O.none()).orThunk(()=>(m&&(b.each(A=>_p(A.dom,A.dom.length,f)),g.each(A=>Iu(A.dom,0,f))),u));var E,v,C,w})(n,i,e.schema,(u=n,nt(e.schema.getTextInlineElements(),Nt(u))));var u;e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):a.bind(d=>((u,f)=>{if(Tn(u)){const m=B('<br data-mce-bogus="1">');return f?de(fn(u),b=>{Wh(b)||ce(b)}):fe(u),$(u,m),O.some(oe.before(m.dom))}return O.none()})(d,o)).fold(()=>{r&&sy(e,t,l)},d=>{r&&sy(e,t,O.some(d))})},$A=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,gl=(e,t)=>ae(k(t),LN(e))&&!ss(e.schema,t)&&e.dom.isEditable(t),ly=e=>{var t,n;return"rtl"===Xt.DOM.getStyle(e,"direction",!0)||(n=null!==(t=e.textContent)&&void 0!==t?t:"",$A.test(n))},zs=(e,t,n)=>{const r=(o=e,i=t,tt(Xt.DOM.getParents(n.container(),"*",i),o));var o,i;return O.from(r[r.length-1])},pi=(e,t)=>{const n=t.container(),r=t.offset();return e?wa(n)?Ce(n.nextSibling)?oe(n.nextSibling,0):oe.after(n):Sd(t)?oe(n,r+1):t:wa(n)?Ce(n.previousSibling)?oe(n.previousSibling,n.previousSibling.data.length):oe.before(n):Os(t)?oe(n,r-1):t},dy=Re(pi,!0),cy=Re(pi,!1),uy=(e,t)=>{const n=r=>r.stopImmediatePropagation();e.on("beforeinput input",n,!0),e.getDoc().execCommand(t),e.off("beforeinput input",n)},Ep=e=>uy(e,"Delete"),UA=e=>Vc(e)||la(e),Pu=(e,t)=>{return Ot(e,t)?Fr(t,UA,(n=e,r=>go(en(r),n,Fe))):O.none();var n},Cp=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!t})},fy=(e,t,n)=>Ln($r(n),Vi(n),(r,o)=>{const i=pi(!0,r),a=pi(!1,o),s=pi(!1,t);return e?To(n,s).exists(l=>l.isEqual(a)&&t.isEqual(i)):Do(n,s).exists(l=>l.isEqual(i)&&t.isEqual(a))}).getOr(!0),hy=e=>{var t;return(8===Ga(t=e)||"#comment"===Nt(t)?Pn(e):Qn(e)).bind(hy).orThunk(()=>O.some(e))},py=(e,t,n,r=!0)=>{var o;t.deleteContents();const i=hy(n).getOr(n),a=k(null!==(o=e.dom.getParent(i.dom,e.dom.isBlock))&&void 0!==o?o:n.dom);if(a.dom===e.getBody()?Cp(e,r):Tn(a)&&(Qo(a),r&&e.selection.setCursorLocation(a.dom,0)),!Fe(n,a)){const l=go(en(a),n)?[]:en(s=a).map(fn).map(d=>tt(d,u=>!Fe(s,u))).getOr([]);de(l.concat(fn(n)),d=>{Fe(d,a)||Ot(d,a)||!Tn(d)||ce(d)})}var s},my=(e,t)=>oa(e,t).isSome(),Sp=e=>le(e,"td,th"),gy=(e,t)=>ec(k(e),t),Tp=(e,t)=>({start:e,end:t}),cc=ka([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),Mu=(e,t)=>Rr(k(e),"td,th",t),vy=e=>!Fe(e.start,e.end),by=(e,t)=>ec(e.start,t).bind(n=>ec(e.end,t).bind(r=>Wr(Fe(n,r),n))),wp=e=>t=>by(t,e).map(n=>({rng:t,table:n,cells:Sp(n)})),_y=(e,t,n,r)=>{if(n.collapsed||!e.forall(vy))return O.none();if(t.isSameTable){const o=e.bind(wp(r));return O.some({start:o,end:o})}{const o=Mu(n.startContainer,r),i=Mu(n.endContainer,r),a=o.bind((l=r,d=>ec(d,l).bind(u=>Zo(Sp(u)).map(f=>Tp(d,f))))).bind(wp(r)),s=i.bind((l=>d=>ec(d,l).bind(u=>En(Sp(u)).map(f=>Tp(f,d))))(r)).bind(wp(r));return O.some({start:a,end:s})}var l},yy=(e,t)=>vn(e,n=>Fe(n,t)),Np=e=>Ln(yy(e.cells,e.rng.start),yy(e.cells,e.rng.end),(t,n)=>e.cells.slice(t,n+1)),Ey=(e,t)=>{const{startTable:n,endTable:r}=t,o=e.cloneRange();return n.each(i=>o.setStartAfter(i.dom)),r.each(i=>o.setEndBefore(i.dom)),o},Cy=e=>de(e,t=>{nn(t,"contenteditable"),Qo(t)}),Ap=(e,t,n,r)=>{const o=n.cloneRange();r?(o.setStart(n.startContainer,n.startOffset),o.setEndAfter(t.dom.lastChild)):(o.setStartBefore(t.dom.firstChild),o.setEnd(n.endContainer,n.endOffset)),xp(e,o,t,!1).each(i=>i())},Sy=e=>{const t=Zl(e),n=k(e.selection.getNode());Ll(n.dom)&&Tn(n)?e.selection.setCursorLocation(n.dom,0):e.selection.collapse(!0),t.length>1&&Zt(t,r=>Fe(r,n))&&on(n,"data-mce-selected","1")},Ty=(e,t,n)=>O.some(()=>{const r=e.selection.getRng(),o=n.bind(({rng:i,isStartInTable:a})=>{const s=O.from((d=e).dom.getParent(a?i.endContainer:i.startContainer,d.dom.isBlock)).map(k);var d;i.deleteContents(),((d,u,f)=>{f.each(m=>{u?ce(m):(Qo(m),d.selection.setCursorLocation(m.dom,0))})})(e,a,s.filter(Tn));const l=a?t[0]:t[t.length-1];return Ap(e,l,r,a),Tn(l)?O.none():O.some(a?t.slice(1):t.slice(0,-1))}).getOr(t);Cy(o),Sy(e)}),qA=(e,t,n,r)=>O.some(()=>{const o=e.selection.getRng(),i=t[0],a=n[n.length-1];Ap(e,i,o,!0),Ap(e,a,o,!1);const s=Tn(i)?t:t.slice(1),l=Tn(a)?n:n.slice(0,-1);Cy(s.concat(l)),r.deleteContents(),Sy(e)}),xp=(e,t,n,r=!0)=>O.some(()=>{py(e,t,n,r)}),WA=(e,t)=>O.some(()=>ml(e,!1,t)),wy=(e,t)=>Gt(ps(t,e),rs),Op=(e,t)=>Gt(ps(t,e),Oo("caption")),Bu=(e,t)=>O.some(()=>{Qo(t),e.selection.setCursorLocation(t.dom,0)}),Ny=(e,t)=>e?$_(t):U_(t),Rp=(e,t)=>{const n=k(e.selection.getStart(!0)),r=Zl(e);return e.selection.isCollapsed()&&0===r.length?((e,t,n)=>{const r=k(e.getBody());return Op(r,n).fold(()=>((o,i,a,s)=>{const l=oe.fromRangeStart(o.selection.getRng());return wy(a,s).bind(d=>{return Tn(d)?Bu(o,d):(f=a,b=d,g=l,Gl(i,o.getBody(),g).bind(E=>wy(f,k(E.getNode())).bind(v=>Fe(v,b)?O.none():O.some(Ke))));var f,b,g})})(e,t,r,n).orThunk(()=>Wr(((o,i)=>{const a=oe.fromRangeStart(o.selection.getRng());return Ny(i,a)||di(i,o.getBody(),a).exists(s=>Ny(i,s))})(e,t),Ke)),o=>((i,a,s,l)=>{const d=oe.fromRangeStart(i.selection.getRng());return Tn(l)?Bu(i,l):(f=s,b=l,g=d,Gl(m=a,(u=i).getBody(),g).fold(()=>O.some(Ke),E=>{return C=m,w=g,A=E,$r((v=b).dom).bind(M=>Vi(v.dom).map(P=>C?w.isEqual(M)&&A.isEqual(P):w.isEqual(P)&&A.isEqual(M))).getOr(!0)?((v,C)=>Bu(v,C))(u,b):((v,C,w)=>Op(v,k(w.getNode())).fold(()=>O.some(Ke),A=>Wr(!Fe(A,C),Ke)))(f,b,E);var v,C,w,A}));var u,f,m,b,g})(e,t,r,o))})(e,t,n):((o,i,a)=>{const s=k(o.getBody()),l=o.selection.getRng();return 0!==a.length?Ty(o,a,O.none()):(d=o,f=l,Op(u=s,i).fold(()=>{return b=d,((e,t)=>{const n=(i=e,a=>Fe(i,a)),r=((i,a)=>{const s=Mu(i.startContainer,a),l=Mu(i.endContainer,a);return Ln(s,l,Tp)})(t,n),o=((i,a)=>{const s=gy(i.startContainer,a),l=gy(i.endContainer,a),d=s.isSome(),u=l.isSome(),f=Ln(s,l,Fe).getOr(!1);return Ln((m={startTable:s,endTable:l,isStartInTable:d,isEndInTable:u,isSameTable:f,isMultiTable:!f&&d&&u}).startTable,m.endTable,(b,g)=>{const E=my(b,C=>Fe(C,g)),v=my(g,C=>Fe(C,b));return E||v?{...m,startTable:E?O.none():m.startTable,endTable:v?O.none():m.endTable,isSameTable:!1,isMultiTable:!1}:m}).getOr(m);var m})(t,n);var i;return((i,a,s)=>i.exists(l=>{return u=s,!vy(d=l)&&by(d,u).exists(f=>{const m=f.dom.rows;return 1===m.length&&1===m[0].cells.length})&&Mh(l.start,a);var d,u}))(r,t,n)?r.map(i=>cc.singleCellTable(t,i.start)):o.isMultiTable?((i,a,s,l)=>_y(i,a,s,l).bind(({start:d,end:u})=>{const f=d.bind(Np).getOr([]),m=u.bind(Np).getOr([]);if(f.length>0&&m.length>0){const b=Ey(s,a);return O.some(cc.multiTable(f,m,b))}return O.none()}))(r,o,t,n):((i,a,s,l)=>_y(i,a,s,l).bind(({start:d,end:u})=>d.or(u)).bind(d=>{const{isSameTable:u}=a,f=Np(d).getOr([]);if(u&&d.cells.length===f.length)return O.some(cc.fullTable(d.table));if(f.length>0){if(u)return O.some(cc.partialTable(f,O.none()));{const m=Ey(s,a);return O.some(cc.partialTable(f,O.some({...a,rng:m})))}}return O.none()}))(r,o,t,n)})(u,f).bind(v=>v.fold(Re(xp,b),Re(WA,b),Re(Ty,b),Re(qA,b)));var b},b=>Bu(d,b)));var d,u,f})(e,n,r)},vl=(e,t)=>{let n=t;for(;n&&n!==e;){if(Yo(n)||Wt(n))return n;n=n.parentNode}return null},YA=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],QA=Se.each,kp=e=>{const t=e.dom,n=new Set(e.serializer.getTempAttrs()),r=o=>Zt(YA,i=>un(o,i))||n.has(o);return{compare:(o,i)=>{if(o.nodeName!==i.nodeName||o.nodeType!==i.nodeType)return!1;const a=l=>{const d={};return QA(t.getAttribs(l),u=>{const f=u.nodeName.toLowerCase();"style"===f||r(f)||(d[f]=t.getAttrib(l,f))}),d},s=(l,d)=>{for(const u in l)if(nt(l,u)){const f=d[u];if(sn(f)||l[u]!==f)return!1;delete d[u]}for(const u in d)if(nt(d,u))return!1;return!0};return!(Le(o)&&Le(i)&&(!s(a(o),a(i))||!s(t.parseStyle(t.getAttrib(o,"style")),t.parseStyle(t.getAttrib(i,"style"))))||ui(o)||ui(i))},isAttributeInternal:r}},Ay=e=>["h1","h2","h3","h4","h5","h6"].includes(e.name),xy=(e,t,n,r)=>{const o=n.name;for(let i=0,a=e.length;i<a;i++){const s=e[i];if(s.name===o){const l=r.nodes[o];l?l.nodes.push(n):r.nodes[o]={filter:s,nodes:[n]}}}if(n.attributes)for(let i=0,a=t.length;i<a;i++){const s=t[i],l=s.name;if(l in n.attributes.map){const d=r.attributes[l];d?d.nodes.push(n):r.attributes[l]={filter:s,nodes:[n]}}}},Oy=(e,t)=>{const n=(r,o)=>{xt(r,i=>{const a=_r(i.nodes);de(i.filter.callbacks,s=>{for(let l=a.length-1;l>=0;l--){const d=a[l];(o?void 0!==d.attr(i.filter.name):d.name===i.filter.name)&&!qt(d.parent)||a.splice(l,1)}a.length>0&&s(a,i.filter.name,t)})})};n(e.nodes,!1),n(e.attributes,!0)},Ry=(e,t,n,r={})=>{const o=((i,a,s)=>{const l={nodes:{},attributes:{}};return s.firstChild&&((d,u)=>{let f=d;for(;f=f.walk();)xy(i,a,f,l)})(s),l})(e,t,n);Oy(o,r)},Dp=(e,t,n,r)=>{if((e.pad_empty_with_br||t.insert)&&n(r)){const o=new ro("br",1);t.insert&&o.attr("data-mce-bogus","1"),r.empty().append(o)}else r.empty().append(new ro("#text",3)).value=hn},ky=(e,t)=>{const n=e?.firstChild;return Ne(n)&&n===e.lastChild&&n.name===t},uc=(e,t,n,r)=>r.isEmpty(t,n,o=>((i,a)=>{const s=i.getElementRule(a.name);return!0===s?.paddEmpty})(e,o)),GA=e=>{let t;for(let n=e;n;n=n.parent){const r=n.attr("contenteditable");if("false"===r)break;"true"===r&&(t=n)}return O.from(t)},Lp=(e,t,n=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{const r=e.children();for(const o of r)n&&!t.isValidChild(n.name,o.name)&&Lp(o,t,n);e.unwrap()}},Ip=(e,t,n,r=Ke)=>{const o=t.getTextBlockElements(),i=t.getNonEmptyElements(),a=t.getWhitespaceElements(),s=Se.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),l=new Set,d=u=>u!==n&&!s[u.name];for(let u=0;u<e.length;u++){const f=e[u];let m,b,g;if(!f.parent||l.has(f))continue;if(o[f.name]&&"li"===f.parent.name){let v=f.next;for(;v&&o[v.name];)v.name="li",l.add(v),f.parent.insert(v,f.parent),v=v.next;f.unwrap();continue}const E=[f];for(m=f.parent;m&&!t.isValidChild(m.name,f.name)&&d(m);m=m.parent)E.push(m);if(m&&E.length>1)if(Pp(t,f,m))Lp(f,t);else{E.reverse(),b=E[0].clone(),r(b);let v=b;for(let C=0;C<E.length-1;C++){t.isValidChild(v.name,E[C].name)&&C>0?(g=E[C].clone(),r(g),v.append(g)):g=v;for(let w=E[C].firstChild;w&&w!==E[C+1];){const A=w.next;g.append(w),w=A}v=g}uc(t,i,a,b)?m.insert(f,E[0],!0):(m.insert(b,E[0],!0),m.insert(f,b)),m=E[0],(uc(t,i,a,m)||ky(m,"br"))&&m.empty().remove()}else if(f.parent){if("li"===f.name){let v=f.prev;if(v&&("ul"===v.name||"ol"===v.name)){v.append(f);continue}if(v=f.next,v&&("ul"===v.name||"ol"===v.name)&&v.firstChild){v.insert(f,v.firstChild,!0);continue}const C=new ro("ul",1);r(C),f.wrap(C);continue}if(t.isValidChild(f.parent.name,"div")&&t.isValidChild("div",f.name)){const v=new ro("div",1);r(v),f.wrap(v)}else Lp(f,t)}}},Pp=(e,t,n=t.parent)=>{return!(!n||(!e.children[t.name]||e.isValidChild(n.name,t.name))&&("a"!==t.name||!((r,o)=>{let i=r;for(;i;){if("a"===i.name)return!0;i=i.parent}return!1})(n))&&(r=n,"summary"!==r.name||!Ay(t)||n?.firstChild===t&&n?.lastChild===t));var r},Mp=e=>e.collapsed?e:(t=>{const n=oe.fromRangeStart(t),r=oe.fromRangeEnd(t),o=t.commonAncestorContainer;return di(!1,o,r).map(i=>!Da(n,r,o)&&Da(n,i,o)?((a,s,l,d)=>{const u=document.createRange();return u.setStart(a,s),u.setEnd(l,d),u})(n.container(),n.offset(),i.container(),i.offset()):t).getOr(t)})(e),Bp=(e,t)=>{const n=e.getParent(t,e.isBlock);return n&&"LI"===n.nodeName?n:null},Dy=(e,t)=>{const n=oe.after(e),r=Ia(t).prev(n);return r?r.toRange():null},ex=["pre"],Fp=Ll,tx=(e,t,n)=>{var r,o;const i=e.selection,a=e.dom,s=e.parser,l=n.merge,d=Hs({validate:!0},e.schema),u='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';n.preserve_zwsp||(t=Eo(t)),-1===t.indexOf("{$caret}")&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,u);let f=i.getRng();const m=f.startContainer,b=e.getBody();var A,M;m===b&&i.isCollapsed()&&a.isBlock(b.firstChild)&&(A=e,Ne(M=b.firstChild)&&!A.schema.getVoidElements()[M.nodeName])&&a.isEmpty(b.firstChild)&&(f=a.createRng(),f.setStart(b.firstChild,0),f.setEnd(b.firstChild,0),i.setRng(f)),i.isCollapsed()||(A=>{const M=A.dom,P=Mp(A.selection.getRng());A.selection.setRng(P);const H=M.getParent(P.startContainer,Fp);var K,G,J;K=M,G=P,Ne(J=H)&&J===K.getParent(G.endContainer,Fp)&&Mh(k(J),G)?xp(A,P,k(H)):P.startContainer===P.endContainer&&P.endOffset-P.startOffset==1&&Ce(P.startContainer.childNodes[P.startOffset])?P.deleteContents():A.getDoc().execCommand("Delete",!1)})(e);const g=i.getNode(),E={context:g.nodeName.toLowerCase(),data:n.data,insert:!0},v=s.parse(t,E);if(!0===n.paste&&((e,t)=>{let n=t.firstChild,r=t.lastChild;return n&&"meta"===n.name&&(n=n.next),r&&"mce_marker"===r.attr("id")&&(r=r.prev),((o,i)=>{const a=o.getNonEmptyElements();return Ne(i)&&(i.isEmpty(a)||(l=i,o.getBlockElements()[l.name]&&Ne((d=l).firstChild)&&d.firstChild===d.lastChild&&(d=>"br"===d.name||d.value===hn)(l.firstChild)));var l,d})(e,r)&&(r=r?.prev),!(!n||n!==r||"ul"!==n.name&&"ol"!==n.name)})(e.schema,v)&&((A,M)=>!!Bp(A,M))(a,g))return f=((e,t,n,r)=>{const o=((f,m,b)=>{const g=m.serialize(b);return(E=>{var v,C;const w=E.firstChild,A=E.lastChild;return w&&"META"===w.nodeName&&(null===(v=w.parentNode)||void 0===v||v.removeChild(w)),A&&"mce_marker"===A.id&&(null===(C=A.parentNode)||void 0===C||C.removeChild(A)),E})(f.createFragment(g))})(t,e,r),i=Bp(t,n.startContainer),a=(e=>{return e.length>0&&(!(n=e[e.length-1]).firstChild||Ne(null==(t=n)?void 0:t.firstChild)&&t.firstChild===t.lastChild&&((r=t.firstChild).data===hn||dn(r)))?e.slice(0,-1):e;var r,t,n})((s=o.firstChild,tt(null!==(l=s?.childNodes)&&void 0!==l?l:[],f=>"LI"===f.nodeName)));var s,l;const d=t.getRoot(),u=f=>{const m=oe.fromRangeStart(n),b=Ia(t.getRoot()),g=1===f?b.prev(m):b.next(m),E=g?.getNode();return!E||Bp(t,E)!==i};return i?u(1)?((f,m,b)=>{const g=f.parentNode;return g&&Se.each(m,E=>{g.insertBefore(E,f)}),((E,v)=>{const C=oe.before(E),w=Ia(v).next(C);return w?w.toRange():null})(f,b)})(i,a,d):u(2)?(f=i,b=d,t.insertAfter((m=a).reverse(),f),Dy(m[0],b)):((f,m,b,g)=>{const E=((C,w)=>{const A=w.cloneRange(),M=w.cloneRange();return A.setStartBefore(C),M.setEndAfter(C),[A.cloneContents(),M.cloneContents()]})(f,g),v=f.parentNode;return v&&(v.insertBefore(E[0],f),Se.each(m,C=>{v.insertBefore(C,f)}),v.insertBefore(E[1],f),v.removeChild(f)),Dy(m[m.length-1],b)})(i,a,d,n):null;var f,m,b})(d,a,i.getRng(),v),f&&i.setRng(f),t;!0===n.paste&&((A,M,P,H)=>{var K;const G=M.firstChild,J=M.lastChild,ne=G===("bookmark"===J.attr("data-mce-type")?J.prev:J),U=Bt(ex,G.name);if(ne&&U){const Y="false"!==G.attr("contenteditable"),ee=(null===(K=A.getParent(P,A.isBlock))||void 0===K?void 0:K.nodeName.toLowerCase())===G.name,ue=O.from(vl(H,P)).forall(Yo);return Y&&ee&&ue}return!1})(a,v,g,e.getBody())&&(null===(r=v.firstChild)||void 0===r||r.unwrap()),(A=>{let M=A;for(;M=M.walk();)1===M.type&&M.attr("data-mce-fragment","1")})(v);let C=v.lastChild;if(C&&"mce_marker"===C.attr("id")){const A=C;for(C=C.prev;C;C=C.walk(!0))if(3===C.type||!a.isBlock(C.name)){C.parent&&e.schema.isValidChild(C.parent.name,"span")&&C.parent.insert(A,C,"br"===C.name);break}}if(e._selectionOverrides.showBlockCaretContainer(g),E.invalid||((A,M,P)=>{var H;return Zt(P.children(),Ay)&&"SUMMARY"===(null===(H=A.getParent(M,A.isBlock))||void 0===H?void 0:H.nodeName)})(a,g,v)){e.selection.setContent(u);let A,M=i.getNode();const P=e.getBody();for(Ks(M)?M=A=P:A=M;A&&A!==P;)M=A,A=A.parentNode;t=M===P?P.innerHTML:a.getOuterHTML(M);const H=s.parse(t),K=(Y=>{for(let ee=Y;ee;ee=ee.walk())if("mce_marker"===ee.attr("id"))return O.some(ee);return O.none()})(H),G=K.bind(GA).getOr(H);K.each(Y=>Y.replace(v));const J=v.children(),ne=null!==(o=v.parent)&&void 0!==o?o:H;v.unwrap();const U=tt(J,Y=>Pp(e.schema,Y,ne));Ip(U,e.schema,G),Ry(s.getNodeFilters(),s.getAttributeFilters(),H),t=d.serialize(H),M===P?a.setHTML(P,t):a.setOuterHTML(M,t)}else t=d.serialize(v),((A,M,P)=>{var H;if("all"===P.getAttribute("data-mce-bogus"))null===(H=P.parentNode)||void 0===H||H.insertBefore(A.dom.createFragment(M),P);else{const K=P.firstChild;!K||K===P.lastChild&&"BR"===K.nodeName?A.dom.setHTML(P,M):A.selection.setContent(M,{no_events:!0})}})(e,t,g);var w;return((A,M)=>{const P=A.schema.getTextInlineElements(),H=A.dom;if(M){const K=A.getBody(),G=kp(A);Se.each(H.select("*[data-mce-fragment]"),J=>{if(Ne(P[J.nodeName.toLowerCase()])&&jo(cp(H,J),Y=>!M_.has(Y)))for(let ne=J.parentElement;Ne(ne)&&ne!==K&&!xA(H,J,ne);ne=ne.parentElement)if(G.compare(ne,J)){H.remove(J,!0);break}})}})(e,l),((A,M)=>{var P,H,K;let G;const J=A.dom,ne=A.selection;if(!M)return;ne.scrollIntoView(M);const U=vl(A.getBody(),M);if(U&&"false"===J.getContentEditable(U))return J.remove(M),void ne.select(U);let Y=J.createRng();const ee=M.previousSibling;if(Ce(ee)){Y.setStart(ee,null!==(H=null===(P=ee.nodeValue)||void 0===P?void 0:P.length)&&void 0!==H?H:0);const Oe=M.nextSibling;Ce(Oe)&&(ee.appendData(Oe.data),null===(K=Oe.parentNode)||void 0===K||K.removeChild(Oe))}else Y.setStartBefore(M),Y.setEndBefore(M);const ue=J.getParent(M,J.isBlock);if(J.remove(M),ue&&J.isEmpty(ue)){const Oe=Fp(ue);fe(k(ue)),Y.setStart(ue,0),Y.setEnd(ue,0),Oe||ue.getAttribute("data-mce-fragment")||!(G=(we=>{let Xe=oe.fromRangeStart(we);return Xe=Ia(A.getBody()).next(Xe),Xe?.toRange()})(Y))?J.add(ue,J.create("br",Oe?{}:{"data-mce-bogus":"1"})):(Y=G,J.remove(ue))}ne.setRng(Y)})(e,a.get("mce_marker")),w=e.getBody(),Se.each(w.getElementsByTagName("*"),A=>{A.removeAttribute("data-mce-fragment")}),((A,M,P)=>{O.from(A.getParent(M,"td,th")).map(k).each(H=>{return G=P,void Qn(K=H).each(J=>{Pn(J).each(ne=>{G.isBlock(Nt(K))&&ts(J)&&G.isBlock(Nt(ne))&&ce(J)})});var K,G})})(a,i.getStart(),e.schema),((A,M,P)=>{const H=jt(k(P),K=>Fe(K,k(M)));Wn(H,H.length-2).filter(Un).fold(()=>is(A,M),K=>is(A,K.dom))})(e.schema,e.getBody(),i.getStart()),t},Fu=e=>e instanceof ro,jp=(e,t,n)=>{var r;e.dom.setHTML(e.getBody(),t),!0!==n&&pl(r=e)&&$r(r.getBody()).each(o=>{const i=o.getNode(),a=$i(i)?$r(i).getOr(o):o;r.selection.setRng(a.toRange())})},Ly=e=>Ft(e)?e:Ut,Hp=(e,t,n)=>{const r=t(e),o=Ly(n);return r.orThunk(()=>o(e)?O.none():((i,a,s)=>{let l=i.dom;const d=Ly(s);for(;l.parentNode;){l=l.parentNode;const u=k(l),f=a(u);if(f.isSome())return f;if(d(u))break}return O.none()})(e,t,o))},$p=Uh,Iy=(e,t,n)=>{const r=e.formatter.get(n);if(r)for(let o=0;o<r.length;o++){const i=r[o];if(fi(i)&&!1===i.inherit&&e.dom.is(t,i.selector))return!0}return!1},Up=(e,t,n,r,o)=>{const i=e.dom.getRoot();if(t===i)return!1;const a=e.dom.getParent(t,s=>!!Iy(e,s,n)||s.parentNode===i||!!Ma(e,s,n,r,!0));return!!Ma(e,a,n,r,o)},ju=(e,t,n)=>!(!ir(n)||!$p(t,n.inline))||!(!Pa(n)||!$p(t,n.block))||!!fi(n)&&Le(t)&&e.is(t,n.selector),Py=(e,t,n,r,o,i)=>{const a=n[r],s="attributes"===r;if(Ft(n.onmatch))return n.onmatch(t,n,r);if(a)if(Nr(a)){for(let l=0;l<a.length;l++)if(s?e.getAttrib(t,a[l]):Cu(e,t,a[l]))return!0}else for(const l in a)if(nt(a,l)){const d=s?e.getAttrib(t,l):Cu(e,t,l),u=js(a[l],i),f=qt(d)||ri(d);if(f&&qt(u))continue;if(o&&f&&!n.exact||(!o||n.exact)&&!$p(d,Vh(u,l)))return!1}return!0},Ma=(e,t,n,r,o)=>{const i=e.formatter.get(n),a=e.dom;if(i&&Le(t))for(let s=0;s<i.length;s++){const l=i[s];if(ju(e.dom,t,l)&&Py(a,t,l,"attributes",o,r)&&Py(a,t,l,"styles",o,r)){const d=l.classes;if(d)for(let u=0;u<d.length;u++)if(!e.dom.hasClass(t,js(d[u],r)))return;return l}}},Vp=(e,t,n,r,o)=>{if(r)return Up(e,r,t,n,o);if(r=e.selection.getNode(),Up(e,r,t,n,o))return!0;const i=e.selection.getStart();return!(i===r||!Up(e,i,t,n,o))},fc=Bn,My=e=>{if(e){const t=new De(e,e);for(let n=t.current();n;n=t.next())if(Ce(n))return n}return null},zp=e=>{const t=z("span");return Yr(t,{id:kh,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&$(t,V(fc)),t},qp=(e,t,n)=>{const r=e.dom,o=e.selection;if(Tb(t))ml(e,!1,k(t),n,!0);else{const i=o.getRng(),a=r.getParent(t,r.isBlock),s=i.startContainer,l=i.startOffset,d=i.endContainer,u=i.endOffset,f=(m=>{const b=My(m);return b&&b.data.charAt(0)===fc&&b.deleteData(0,1),b})(t);r.remove(t,!0),s===f&&l>0&&i.setStart(f,l-1),d===f&&u>0&&i.setEnd(f,u-1),a&&r.isEmpty(a)&&Qo(k(a)),o.setRng(i)}},Wp=(e,t,n)=>{const r=e.dom,o=e.selection;if(t)qp(e,t,n);else if(!(t=cl(e.getBody(),o.getStart())))for(;t=r.get(kh);)qp(e,t,n)},By=(e,t)=>(e.appendChild(t),t),Fy=(e,t)=>{var n;const r=Fo(e,(i,a)=>By(i,a.cloneNode(!1)),t),o=null!==(n=r.ownerDocument)&&void 0!==n?n:document;return By(r,o.createTextNode(fc))},jy=e=>{const t=zp(!1),n=Fy(e,t.dom);return{caretContainer:t,caretPosition:oe(n,0)}},Hy=(e,t)=>{const{caretContainer:n,caretPosition:r}=jy(t);return Vn(k(e),n),ce(k(e)),r},$y=(e,t)=>{if(ci(t.dom))return!1;const n=e.schema.getTextInlineElements();return nt(n,Nt(t))&&!ci(t.dom)&&!sa(t.dom)},hc={},Uy=to(["pre"]);((e,t)=>{hc[e]||(hc[e]=[]),hc[e].push(n=>{if(!n.selection.getRng().collapsed){const r=n.selection.getSelectedBlocks(),o=tt(tt(r,Uy),(i=r,a=>{const s=a.previousSibling;return Uy(s)&&Bt(i,s)}));de(o,i=>{((a,s)=>{const l=k(s),d=an(l).dom;ce(l),se(k(a),[z("br",d),z("br",d),...fn(l)])})(i.previousSibling,i)})}var i})})("pre");const Vy=["fontWeight","fontStyle","color","fontSize","fontFamily"],zy=(e,t)=>{const n=e.get(t);return zt(n)?Gt(n,r=>{return ir(r)&&"span"===r.inline&&ut((o=r).styles)&&Zt(Zn(o.styles),i=>Bt(Vy,i));var o}):O.none()},qy=(e,t)=>Do(t,oe.fromRangeStart(e)).isNone(),Wy=(e,t)=>!1===To(t,oe.fromRangeEnd(e)).exists(n=>!dn(n.getNode())||To(t,n).isSome()),Ky=e=>t=>zf(t)&&e.isEditable(t),Yy=e=>tt(e.getSelectedBlocks(),Ky(e.dom)),Kp=Se.each,Yp=e=>Le(e)&&!ui(e)&&!ci(e)&&!sa(e),Qy=(e,t)=>{for(let n=e;n;n=n[t]){if(Ce(n)&&lr(n.data))return e;if(Le(n)&&!ui(n))return n}return e},Gy=(e,t,n)=>{const r=kp(e),o=rr(t)&&e.dom.isEditable(t),i=rr(n)&&e.dom.isEditable(n);if(o&&i){const a=Qy(t,"previousSibling"),s=Qy(n,"nextSibling");if(r.compare(a,s)){for(let l=a.nextSibling;l&&l!==s;){const d=l;l=l.nextSibling,a.appendChild(d)}return e.dom.remove(s),Se.each(Se.grep(s.childNodes),l=>{a.appendChild(l)}),a}}return n},Xy=(e,t,n,r)=>{var o;if(r&&!1!==t.merge_siblings){const i=null!==(o=Gy(e,Eb(r),r))&&void 0!==o?o:r;Gy(e,i,Eb(i,!0))}},Qp=(e,t,n)=>{Kp(e.childNodes,r=>{Yp(r)&&(t(r)&&n(r),r.hasChildNodes()&&Qp(r,t,n))})},Jy=(e,t)=>n=>!(!n||!Cu(e,n,t)),Zy=(e,t,n)=>r=>{var o,i;e.setStyle(r,t,n),""===r.getAttribute("style")&&r.removeAttribute("style"),o=e,"SPAN"===(i=r).nodeName&&0===o.getAttribs(i).length&&o.remove(i,!0)},bl=ka([{keep:[]},{rename:["name"]},{removed:[]}]),rx=/^(src|href|style)$/,Gp=Se.each,Hu=Uh,eE=(e,t,n)=>e.isChildOf(t,n)&&t!==n&&!e.isBlock(n),tE=(e,t,n)=>{let r=t[n?"startContainer":"endContainer"],o=t[n?"startOffset":"endOffset"];if(Le(r)){const i=r.childNodes.length-1;!n&&o&&o--,r=r.childNodes[o>i?i:o]}return Ce(r)&&n&&o>=r.data.length&&(r=new De(r,e.getBody()).next()||r),Ce(r)&&!n&&0===o&&(r=new De(r,e.getBody()).prev()||r),r},nE=(e,t)=>{const n=t?"firstChild":"lastChild",r=e[n];return/^(TR|TH|TD)$/.test(e.nodeName)&&r?"TR"===e.nodeName&&r[n]||r:e},Xp=(e,t,n,r)=>{var o;const i=e.create(n,r);return null===(o=t.parentNode)||void 0===o||o.insertBefore(i,t),i.appendChild(t),i},rE=(e,t,n,r,o)=>{const i=k(t),a=k(e.create(r,o)),s=n?Bi(i):ln(i);return se(a,s),n?(Vn(i,a),_o(a,i)):(hr(i,a),$(a,i)),a.dom},oE=(e,t,n)=>{const r=t.parentNode;let o;const i=e.dom,a=Hr(e);var s;Pa(n)&&r===i.getRoot()&&(n.list_block&&Hu(t,n.list_block)||de(_r(t.childNodes),s=>{ed(e,a,s.nodeName.toLowerCase())?o?o.appendChild(s):(o=Xp(i,s,a),i.setAttribs(o,Wd(e))):o=null})),fi(s=n)&&ir(s)&&go(Pt(s,"mixed"),!0)&&!Hu(n.inline,t)||i.remove(t,!0)},iE=(e,t,n)=>T(e)?{name:t,value:null}:{name:e,value:js(t,n)},aE=(e,t)=>{""===e.getAttrib(t,"style")&&(t.removeAttribute("style"),t.removeAttribute("data-mce-style"))},sE=(e,t,n,r,o)=>{let i=!1;Gp(n.styles,(a,s)=>{const{name:l,value:d}=iE(s,a,r),u=Vh(d,l);(n.remove_similar||ye(d)||!Le(o)||Hu(Cu(e,o,l),u))&&e.setStyle(t,l,""),i=!0}),i&&aE(e,t)},lE=(e,t,n,r,o)=>{const i=e.dom,a=kp(e),s=e.schema;if(ir(t)&&as(s,t.inline)&&ss(s,r)&&r.parentElement===e.getBody())return oE(e,r,t),bl.removed();if(!t.ceFalseOverride&&r&&"false"===i.getContentEditableParent(r)||r&&!ju(i,r,t)&&(!t.links||"A"!==r.nodeName))return bl.keep();const l=r,d=t.preserve_attributes;if(ir(t)&&"all"===t.remove&&zt(d)){const u=tt(i.getAttribs(l),f=>Bt(d,f.name.toLowerCase()));if(i.removeAllAttribs(l),de(u,f=>i.setAttrib(l,f.name,f.value)),u.length>0)return bl.rename("span")}if("all"!==t.remove){sE(i,l,t,n,o),Gp(t.attributes,(f,m)=>{const{name:b,value:g}=iE(m,f,n);if(t.remove_similar||ye(g)||!Le(o)||Hu(i.getAttrib(o,b),g)){if("class"===b){const E=i.getAttrib(l,b);if(E){let v="";if(de(E.split(/\s+/),C=>{/mce\-\w+/.test(C)&&(v+=(v?" ":"")+C)}),v)return void i.setAttrib(l,b,v)}}if(rx.test(b)&&l.removeAttribute("data-mce-"+b),"style"===b&&to(["li"])(l)&&"none"===i.getStyle(l,"list-style-type"))return l.removeAttribute(b),void i.setStyle(l,"list-style-type","none");"class"===b&&l.removeAttribute("className"),l.removeAttribute(b)}}),Gp(t.classes,f=>{f=js(f,n),Le(o)&&!i.hasClass(o,f)||i.removeClass(l,f)});const u=i.getAttribs(l);for(let f=0;f<u.length;f++)if(!a.isAttributeInternal(u[f].nodeName))return bl.keep()}return"none"!==t.remove?(oE(e,l,t),bl.removed()):bl.keep()},ox=(e,t,n,r)=>lE(e,t,n,r,r).fold(Ae(r),o=>(e.dom.createFragment().appendChild(r),e.dom.rename(r,o)),Ae(null)),dE=(e,t,n,r,o)=>{(r||e.selection.isEditable())&&((i,a,s,l,d)=>{const u=i.formatter.get(a),f=u[0],m=i.dom,b=i.selection,g=A=>{const M=((P,H,K,G,J)=>{let ne;return H.parentNode&&de(Su(P.dom,H.parentNode).reverse(),U=>{if(!ne&&Le(U)&&"_start"!==U.id&&"_end"!==U.id){const Y=Ma(P,U,K,G,J);Y&&!1!==Y.split&&(ne=U)}}),ne})(i,A,a,s,d);return((P,H,K,G,J,ne,U,Y)=>{var ee,ue;let Oe,we;const Xe=P.dom;if(K){const Ye=K.parentNode;for(let rt=G.parentNode;rt&&rt!==Ye;rt=rt.parentNode){let Je=Xe.clone(rt,!1);for(let Ie=0;Ie<H.length&&(Je=ox(P,H[Ie],Y,Je),null!==Je);Ie++);Je&&(Oe&&Je.appendChild(Oe),we||(we=Je),Oe=Je)}U.mixed&&Xe.isBlock(K)||(G=null!==(ee=Xe.split(K,G))&&void 0!==ee?ee:G),Oe&&we&&(null===(ue=J.parentNode)||void 0===ue||ue.insertBefore(Oe,J),we.appendChild(J),ir(U)&&Xy(P,U,0,Oe))}return G})(i,u,M,A,A,0,f,s)},E=A=>Zt(u,M=>pc(i,M,s,A,A)),v=A=>{const M=_r(A.childNodes),P=E(A)||Zt(u,K=>ju(m,A,K)),H=A.parentNode;if(!P&&Ne(H)&&qh(f)&&E(H),f.deep&&M.length)for(let K=0;K<M.length;K++)v(M[K]);de(["underline","line-through","overline"],K=>{Le(A)&&i.dom.getStyle(A,"text-decoration")===K&&A.parentNode&&Sb(m,A.parentNode)===K&&pc(i,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:K}},void 0,A)})},C=A=>{const M=m.get(A?"_start":"_end");if(M){let P=M[A?"firstChild":"lastChild"];return ui(H=P)&&Le(H)&&("_start"===H.id||"_end"===H.id)&&(P=P[A?"firstChild":"lastChild"]),Ce(P)&&0===P.data.length&&(P=A?M.previousSibling||M.nextSibling:M.nextSibling||M.previousSibling),m.remove(M,!0),P}var H;return null},w=A=>{let M,P,H=ul(m,A,u,A.collapsed);if(f.split){if(H=Ru(H),M=tE(i,H,!0),P=tE(i,H),M!==P){if(M=nE(M,!0),P=nE(P,!1),eE(m,M,P)){const G=O.from(M.firstChild).getOr(M);return g(rE(m,G,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void C(!0)}if(eE(m,P,M)){const G=O.from(P.lastChild).getOr(P);return g(rE(m,G,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void C(!1)}M=Xp(m,M,"span",{id:"_start","data-mce-type":"bookmark"}),P=Xp(m,P,"span",{id:"_end","data-mce-type":"bookmark"});const K=m.createRng();K.setStartAfter(M),K.setEndBefore(P),nc(m,K,G=>{de(G,J=>{ui(J)||ui(J.parentNode)||g(J)})}),g(M),g(P),M=C(!0),P=C()}else M=P=g(M);H.startContainer=M.parentNode?M.parentNode:M,H.startOffset=m.nodeIndex(M),H.endContainer=P.parentNode?P.parentNode:P,H.endOffset=m.nodeIndex(P)+1}nc(m,H,K=>{de(K,v)})};if(l){if(tc(l)){const A=m.createRng();A.setStartBefore(l),A.setEndAfter(l),w(A)}else w(l);Hb(i,a,l,s)}else b.isCollapsed()&&ir(f)&&!Zl(i).length?((e,t,n,r)=>{const o=e.dom,i=e.selection;let a=!1;const s=e.formatter.get(t);if(!s)return;const l=i.getRng(),d=l.startContainer,u=l.startOffset;let f=d;Ce(d)&&(u!==d.data.length&&(a=!0),f=f.parentNode);const m=[];let b;for(;f;){if(Ma(e,f,t,n,r)){b=f;break}f.nextSibling&&(a=!0),m.push(f),f=f.parentNode}if(b)if(a){const g=i.getBookmark();l.collapse(!0);let E=ul(o,l,s,!0);E=Ru(E),e.formatter.remove(t,n,E,r),i.moveToBookmark(g)}else{const g=cl(e.getBody(),b),E=Ne(g)?o.getParents(b.parentNode,tn,g):[],v=zp(!1).dom;((A,M,P)=>{var H,K;const G=A.dom,J=G.getParent(P,Re(Hh,A.schema));J&&G.isEmpty(J)?null===(H=P.parentNode)||void 0===H||H.replaceChild(M,P):((ne=>{const U=le(ne,"br"),Y=tt((ee=>{const ue=[];let Oe=ee.dom;for(;Oe;)ue.push(k(Oe)),Oe=Oe.lastChild;return ue})(ne).slice(-1),ts);U.length===Y.length&&de(Y,ce)})(k(P)),G.isEmpty(P)?null===(K=P.parentNode)||void 0===K||K.replaceChild(M,P):G.insertAfter(M,P))})(e,v,g??b);const C=((A,M,P,H,K,G)=>{const J=A.formatter,ne=A.dom,U=tt(Zn(J.get()),ee=>ee!==H&&!Cn(ee,"removeformat")),Y=(ee=A,ue=P,yn(U,(we,Xe)=>{const Ye=zh(ee,Xe,Ie=>{const He=lt=>Ft(lt)||lt.length>1&&"%"===lt.charAt(0);return Zt(["styles","attributes"],lt=>Pt(Ie,lt).exists(q=>{const Q=zt(q)?q:Ua(q);return Zt(Q,He)}))});return ee.formatter.matchNode(ue,Xe,{},Ye)?we.concat([Xe]):we},[]));var ee,ue;if(tt(Y,ee=>!((ue,Oe,we)=>{const Xe=["inline","block","selector","attributes","styles","classes"],Ye=rt=>Ni(rt,(Je,Ie)=>Zt(Xe,He=>He===Ie));return zh(ue,Oe,rt=>{const Je=Ye(rt);return zh(ue,we,Ie=>{const He=Ye(Ie);return((lt,q,Q=Jn)=>kn(Q).eq(lt,q))(Je,He)})})})(A,ee,H)).length>0){const ee=P.cloneNode(!1);return ne.add(M,ee),J.remove(H,K,ee,G),ne.remove(ee),O.some(ee)}return O.none()})(e,v,b,t,n,r),w=Fy([...m,...C.toArray(),...E],v);g&&qp(e,g,Ne(g)),i.setCursorLocation(w,1),o.isEmpty(b)&&o.remove(b)}})(i,a,s,d):(yb(i,()=>Fh(i,w),A=>ir(f)&&Vp(i,a,s,A)),i.nodeChanged()),A=i,P=s,"removeformat"===(M=a)?de(Yy(A.selection),H=>{de(Vy,K=>A.dom.setStyle(H,K,"")),aE(A.dom,H)}):zy(A.formatter,M).each(H=>{de(Yy(A.selection),K=>sE(A.dom,K,H,P,null))}),Hb(i,a,l,s);var A,M,P})(e,t,n,r,o)},pc=(e,t,n,r,o)=>lE(e,t,n,r,o).fold(Ut,i=>(e.dom.rename(r,i),!0),tn),cE=Se.each,$u=Se.each,uE=(e,t,n,r)=>{if($u(n.styles,(o,i)=>{e.setStyle(t,i,js(o,r))}),n.styles){const o=e.getAttrib(t,"style");o&&e.setAttrib(t,"data-mce-style",o)}},ix=(e,t,n,r)=>{const o=e.formatter.get(t),i=o[0],a=!r&&e.selection.isCollapsed(),s=e.dom,l=e.selection,d=(g,E=i)=>{Ft(E.onformat)&&E.onformat(g,E,n,r),uE(s,g,E,n),$u(E.attributes,(v,C)=>{s.setAttrib(g,C,js(v,n))}),$u(E.classes,v=>{const C=js(v,n);s.hasClass(g,C)||s.addClass(g,C)})},u=(g,E)=>{let v=!1;return $u(g,C=>!(!fi(C)||("false"!==s.getContentEditable(E)||C.ceFalseOverride)&&(!Ne(C.collapsed)||C.collapsed===a)&&s.is(E,C.selector)&&!ci(E)&&(d(E,C),v=!0,1))),v},m=(g,E,v)=>{const C=[];let w=!0;const A=i.inline||i.block,M=(g=>{if(We(g)){const E=s.create(g);return d(E),E}return null})(A);nc(g,E,P=>{let H;const K=G=>{let J=!1,ne=w,U=!1;const Y=G.parentNode,ee=Y.nodeName.toLowerCase(),ue=g.getContentEditable(G);Ne(ue)&&(ne=w,w="true"===ue,J=!0,U=Cb(e,G));const Oe=w&&!J;if(dn(G)&&!((we,Xe,Ye,rt)=>{if($N(we)&&ir(Xe)&&Ye.parentNode){const Je=au(we.schema),Ie=((e,t)=>((n,r)=>{const o=n.dom;return o.parentNode?(i=k(o.parentNode),Gt(i.dom.childNodes,s=>(i=>!Fe(n,i)&&r(i))(k(s))).map(k)):O.none();var i})(e,t).isSome())(k(Ye),He=>ci(He.dom));return $o(Je,rt)&&Tn(k(Ye.parentNode),!1)&&!Ie}return!1})(e,i,G,ee))return H=null,void(Pa(i)&&g.remove(G));if(we=G,Pa(Xe=i)&&!0===Xe.wrapper&&Ma(e,we,t,n))H=null;else{if(((we,Xe,Ye)=>{const rt=Pa(Je=i)&&!0!==Je.wrapper&&Hh(e.schema,we)&&ed(e,Xe,A);var Je;return Ye&&rt})(G,ee,Oe)){const we=g.rename(G,A);return d(we),C.push(we),void(H=null)}if(fi(i)){let we=u(o,G);if(!we&&Ne(Y)&&qh(i)&&(we=u(o,Y)),!ir(i)||we)return void(H=null)}Ne(M)&&((we,Xe,Ye,rt)=>{const Je=we.nodeName.toLowerCase(),Ie=ed(e,A,Je)&&ed(e,Xe,A),He=!v&&Ce(we)&&Pl(we.data),lt=ci(we),q=!ir(i)||!g.isBlock(we);return(Ye||rt)&&Ie&&!He&&!lt&&q})(G,ee,Oe,U)?(H||(H=g.clone(M,!1),Y.insertBefore(H,G),C.push(H)),U&&J&&(w=ne),H.appendChild(G)):(H=null,de(_r(G.childNodes),K),J&&(w=ne),H=null)}var we,Xe};de(P,K)}),!0===i.links&&de(C,P=>{const H=K=>{"A"===K.nodeName&&d(K,i),de(_r(K.childNodes),H)};H(P)}),de(C,P=>{const H=(K=>{let G=0;return de(K.childNodes,J=>{var ne;Ne(ne=J)&&Ce(ne)&&0===ne.length||ui(J)||G++}),G})(P);var K;!(C.length>1)&&g.isBlock(P)||0!==H?(ir(i)||Pa(i)&&i.wrapper)&&(i.exact||1!==H||(P=Gt((K=P).childNodes,jh).filter(J=>"false"!==g.getContentEditable(J)&&ju(g,J,i)).map(J=>{const ne=g.clone(J,!1);return d(ne),g.replace(ne,K,!0),g.remove(J,!0),ne}).getOr(K)),((K,G,J,ne)=>{cE(G,U=>{var Y,ee,ue;ir(U)&&cE(K.dom.select(U.inline,ne),Y=>{Yp(Y)&&pc(K,U,J,Y,U.exact?Y:null)}),Y=K.dom,ue=ne,(ee=U).clear_child_styles&&Kp(Y.select(ee.links?"*:not(a)":"*",ue),we=>{Yp(we)&&Y.isEditable(we)&&Kp(ee.styles,(Xe,Ye)=>{Y.setStyle(we,Ye,"")})})})})(e,o,n,P),((K,G,J,ne,U)=>{const Y=U.parentNode;Ma(K,Y,J,ne)&&pc(K,G,ne,U)||G.merge_with_parents&&Y&&K.dom.getParent(Y,ee=>!!Ma(K,ee,J,ne)&&(pc(K,G,ne,U),!0))})(e,i,t,n,P),((K,G,J,ne)=>{if(G.styles&&G.styles.backgroundColor){const U=Jy(K,"fontSize");Qp(ne,Y=>U(Y)&&K.isEditable(Y),Zy(K,"backgroundColor",js(G.styles.backgroundColor,J)))}})(g,i,n,P),((K,G,J,ne)=>{const U=Y=>{if(rr(Y)&&Le(Y.parentNode)&&K.isEditable(Y)){const ee=Sb(K,Y.parentNode);K.getStyle(Y,"color")&&ee?K.setStyle(Y,"text-decoration",ee):K.getStyle(Y,"text-decoration")===ee&&K.setStyle(Y,"text-decoration",null)}};G.styles&&(G.styles.color||G.styles.textDecoration)&&(Se.walk(ne,U,"childNodes"),U(ne))})(g,i,0,P),((K,G,J,ne)=>{if(ir(G)&&("sub"===G.inline||"sup"===G.inline)){const U=Jy(K,"fontSize");Qp(ne,ee=>U(ee)&&K.isEditable(ee),Zy(K,"fontSize",""));const Y=tt(K.select("sup"===G.inline?"sub":"sup",ne),K.isEditable);K.remove(Y,!0)}})(g,i,0,P),Xy(e,i,0,P)):g.remove(P,!0)})},b=tc(r)?r:l.getNode();if("false"===s.getContentEditable(b)&&!Cb(e,b))return u(o,r=b),void jb(e,t,r,n);if(i){if(r)if(tc(r)){if(!u(o,r)){const g=s.createRng();g.setStartBefore(r),g.setEndAfter(r),m(s,ul(s,g,o),!0)}}else m(s,r,!0);else a&&ir(i)&&!Zl(e).length?((g,E,v)=>{let C;const w=g.selection,A=g.formatter.get(E);if(!A)return;const M=w.getRng();let P=M.startOffset;const H=M.startContainer.nodeValue;C=cl(g.getBody(),w.getStart());const K=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(H&&P>0&&P<H.length&&K.test(H.charAt(P))&&K.test(H.charAt(P-1))){const ne=w.getBookmark();M.collapse(!0);let U=ul(g.dom,M,A);U=Ru(U),g.formatter.apply(E,v,U),w.moveToBookmark(ne)}else{let ne=C?My(C):null;C&&ne?.data===fc||(G=g.getDoc(),J=zp(!0).dom,C=G.importNode(J,!0),ne=C.firstChild,M.insertNode(C),P=1),g.formatter.apply(E,v,C),w.setCursorLocation(ne,P)}var G,J})(e,t,n):(l.setRng(Mp(l.getRng())),yb(e,()=>{Fh(e,(g,E)=>{const v=E?g:ul(s,g,o);m(s,v,!1)})},tn),e.nodeChanged()),zy(e.formatter,t).each(g=>{var E;de(tt((v=>{const C=v.getSelectedBlocks(),w=v.getRng();if(v.isCollapsed())return[];if(1===C.length)return qy(w,C[0])&&Wy(w,C[0])?C:[];{const A=En(C).filter(H=>qy(w,H)).toArray(),M=Zo(C).filter(H=>Wy(w,H)).toArray(),P=C.slice(1,-1);return A.concat(P).concat(M)}})(E=e.selection),Ky(E.dom)),E=>uE(s,E,g,n))});E=e,nt(hc,g=t)&&de(hc[g],v=>{v(E)})}var g,E;jb(e,t,r,n)},fE=(e,t,n,r)=>{(r||e.selection.isEditable())&&ix(e,t,n,r)},hE=e=>nt(e,"vars"),pE=e=>e.selection.getStart(),mE=(e,t,n,r,o)=>Ir(t,i=>{const a=e.formatter.matchNode(i,n,o??{},r);return!sn(a)},i=>!!Iy(e,i,n)||!r&&Ne(e.formatter.matchNode(i,n,o,!0))),gE=(e,t)=>{const n=t??pE(e);return tt(Su(e.dom,n),r=>Le(r)&&!sa(r))},vE=(e,t,n)=>{const r=gE(e,t);xt(n,(o,i)=>{const a=s=>{const l=mE(e,r,i,s.similar,hE(s)?s.vars:void 0),d=l.isSome();if(s.state.get()!==d){s.state.set(d);const u=l.getOr(t);hE(s)?s.callback(d,{node:u,format:i,parents:r}):de(s.callbacks,f=>f(d,{node:u,format:i,parents:r}))}};de([o.withSimilar,o.withoutSimilar],a),de(o.withVars,a)})},bE=Se.explode,_E=()=>{const e={};return{addFilter:(t,n)=>{de(bE(t),r=>{nt(e,r)||(e[r]={name:r,callbacks:[]}),e[r].callbacks.push(n)})},getFilters:()=>Ua(e),removeFilter:(t,n)=>{de(bE(t),r=>{if(nt(e,r))if(Ne(n)){const o=e[r],i=tt(o.callbacks,a=>a!==n);i.length>0?o.callbacks=i:delete e[r]}else delete e[r]})}}},yE=(e,t,n)=>{t.addNodeFilter("br",(r,o,i)=>{const a=Se.extend({},n.getBlockElements()),s=n.getNonEmptyElements(),l=n.getWhitespaceElements();a.body=1;const d=u=>u.name in a||ls(n,u);for(let u=0,f=r.length;u<f;u++){let m=r[u],b=m.parent;if(b&&d(b)&&m===b.lastChild){let g=m.prev;for(;g;){const E=g.name;if("span"!==E||"bookmark"!==g.attr("data-mce-type")){"br"===E&&(m=null);break}g=g.prev}if(m&&(m.remove(),uc(n,s,l,b))){const E=n.getElementRule(b.name);E&&(E.removeEmpty?b.remove():E.paddEmpty&&Dp(e,i,d,b))}}else{let g=m;for(;b&&b.firstChild===g&&b.lastChild===g&&(g=b,!a[b.name]);)b=b.parent;if(g===b){const E=new ro("#text",3);E.value=hn,m.replace(E)}}}})},Jp=e=>{const[t,...n]=e.split(","),r=n.join(","),o=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(o){const i=";base64"===o[2],a=i?(s=>{const l=/([a-z0-9+\/=\s]+)/i.exec(s);return l?l[1]:""})(r):decodeURIComponent(r);return O.some({type:o[1],data:a,base64Encoded:i})}return O.none()},EE=(e,t,n=!0)=>{let r=t;if(n)try{r=atob(t)}catch{return O.none()}const o=new Uint8Array(r.length);for(let i=0;i<o.length;i++)o[i]=r.charCodeAt(i);return O.some(new Blob([o],{type:e}))},CE=e=>new Promise((t,n)=>{const r=new FileReader;r.onloadend=()=>{t(r.result)},r.onerror=()=>{var o;n(null===(o=r.error)||void 0===o?void 0:o.message)},r.readAsDataURL(e)});let sx=0;const SE=(e,t,n)=>Jp(e).bind(({data:r,type:o,base64Encoded:i})=>{if(t&&!i)return O.none();{const a=i?r:btoa(r);return n(a,o)}}),TE=(e,t,n)=>{const r=e.create("blobid"+sx++,t,n);return e.add(r),r},wE=(e,t,n=!1)=>SE(t,n,(r,o)=>O.from(e.getByData(r,o)).orThunk(()=>EE(o,r).map(i=>TE(e,i,r)))),Zp=(e,t)=>un(e,`${t}/`),{entries:NE,setPrototypeOf:AE,isFrozen:dx,getPrototypeOf:cx,getOwnPropertyDescriptor:ux}=Object;let{freeze:Lo,seal:ua,create:fx}=Object,{apply:em,construct:tm}=typeof Reflect<"u"&&Reflect;em||(em=function(e,t,n){return e.apply(t,n)}),Lo||(Lo=function(e){return e}),ua||(ua=function(e){return e}),tm||(tm=function(e,t){return new e(...t)});const hx=zi(Array.prototype.forEach),px=zi(Array.prototype.pop),mc=zi(Array.prototype.push),Uu=zi(String.prototype.toLowerCase),nm=zi(String.prototype.toString),mx=zi(String.prototype.match),fa=zi(String.prototype.replace),gx=zi(String.prototype.indexOf),vx=zi(String.prototype.trim),mi=zi(RegExp.prototype.test),gc=(xE=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return tm(xE,t)});var xE;function zi(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return em(e,t,r)}}function $t(e,t,n){var r;n=null!==(r=n)&&void 0!==r?r:Uu,AE&&AE(e,null);let o=t.length;for(;o--;){let i=t[o];if("string"==typeof i){const a=n(i);a!==i&&(dx(t)||(t[o]=a),i=a)}e[i]=!0}return e}function od(e){const t=fx(null);for(const[n,r]of NE(e))t[n]=r;return t}function Vu(e,t){for(;null!==e;){const n=ux(e,t);if(n){if(n.get)return zi(n.get);if("function"==typeof n.value)return zi(n.value)}e=cx(e)}return function(n){return console.warn("fallback value for",n),null}}const OE=Lo(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),rm=Lo(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),om=Lo(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),bx=Lo(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),im=Lo(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),_x=Lo(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),RE=Lo(["#text"]),kE=Lo(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),am=Lo(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),DE=Lo(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),zu=Lo(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),yx=ua(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Ex=ua(/<%[\w\W]*|[\w\W]*%>/gm),Cx=ua(/\${[\w\W]*}/gm),Sx=ua(/^data-[\-\w.\u00B7-\uFFFF]/),Tx=ua(/^aria-[\-\w]+$/),LE=ua(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),wx=ua(/^(?:\w+script|data):/i),Nx=ua(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),IE=ua(/^html$/i);var PE=Object.freeze({__proto__:null,MUSTACHE_EXPR:yx,ERB_EXPR:Ex,TMPLIT_EXPR:Cx,DATA_ATTR:Sx,ARIA_ATTR:Tx,IS_ALLOWED_URI:LE,IS_SCRIPT_OR_DATA:wx,ATTR_WHITESPACE:Nx,DOCTYPE_NAME:IE}),ME=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:typeof window>"u"?null:window;const n=re=>e(re);if(n.version="3.0.5",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;const r=t.document,o=r.currentScript;let{document:i}=t;const{DocumentFragment:a,HTMLTemplateElement:s,Node:l,Element:d,NodeFilter:u,NamedNodeMap:f=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:m,DOMParser:b,trustedTypes:g}=t,E=d.prototype,v=Vu(E,"cloneNode"),C=Vu(E,"nextSibling"),w=Vu(E,"childNodes"),A=Vu(E,"parentNode");if("function"==typeof s){const re=i.createElement("template");re.content&&re.content.ownerDocument&&(i=re.content.ownerDocument)}let M,P="";const{implementation:H,createNodeIterator:K,createDocumentFragment:G,getElementsByTagName:J}=i,{importNode:ne}=r;let U={};n.isSupported="function"==typeof NE&&"function"==typeof A&&H&&void 0!==H.createHTMLDocument;const{MUSTACHE_EXPR:Y,ERB_EXPR:ee,TMPLIT_EXPR:ue,DATA_ATTR:Oe,ARIA_ATTR:we,IS_SCRIPT_OR_DATA:Xe,ATTR_WHITESPACE:Ye}=PE;let{IS_ALLOWED_URI:rt}=PE,Je=null;const Ie=$t({},[...OE,...rm,...om,...im,...RE]);let He=null;const lt=$t({},[...kE,...am,...DE,...zu]);let q=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Q=null,me=null,ge=!0,_e=!0,$e=!1,et=!0,ct=!1,ot=!1,Qt=!1,qe=!1,yt=!1,St=!1,ht=!1,Tt=!0,ar=!1,Ze=!0,Ct=!1,pn={},Gn=null;const Sr=$t({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let io=null;const _i=$t({},["audio","video","img","source","image","track"]);let Lr=null;const yi=$t({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Xn="http://www.w3.org/1998/Math/MathML",vs="http://www.w3.org/2000/svg",Ei="http://www.w3.org/1999/xhtml";let Wi=Ei,Nl=!1,Fc=null;const Al=$t({},[Xn,vs,Ei],nm);let Ci;const Ff=["application/xhtml+xml","text/html"];let mn,pa=null;const xl=i.createElement("form"),jc=function(re){return re instanceof RegExp||re instanceof Function},Bg=function(re){if(!pa||pa!==re){if(re&&"object"==typeof re||(re={}),re=od(re),Ci=Ci=-1===Ff.indexOf(re.PARSER_MEDIA_TYPE)?"text/html":re.PARSER_MEDIA_TYPE,mn="application/xhtml+xml"===Ci?nm:Uu,Je="ALLOWED_TAGS"in re?$t({},re.ALLOWED_TAGS,mn):Ie,He="ALLOWED_ATTR"in re?$t({},re.ALLOWED_ATTR,mn):lt,Fc="ALLOWED_NAMESPACES"in re?$t({},re.ALLOWED_NAMESPACES,nm):Al,Lr="ADD_URI_SAFE_ATTR"in re?$t(od(yi),re.ADD_URI_SAFE_ATTR,mn):yi,io="ADD_DATA_URI_TAGS"in re?$t(od(_i),re.ADD_DATA_URI_TAGS,mn):_i,Gn="FORBID_CONTENTS"in re?$t({},re.FORBID_CONTENTS,mn):Sr,Q="FORBID_TAGS"in re?$t({},re.FORBID_TAGS,mn):{},me="FORBID_ATTR"in re?$t({},re.FORBID_ATTR,mn):{},pn="USE_PROFILES"in re&&re.USE_PROFILES,ge=!1!==re.ALLOW_ARIA_ATTR,_e=!1!==re.ALLOW_DATA_ATTR,$e=re.ALLOW_UNKNOWN_PROTOCOLS||!1,et=!1!==re.ALLOW_SELF_CLOSE_IN_ATTR,ct=re.SAFE_FOR_TEMPLATES||!1,ot=re.WHOLE_DOCUMENT||!1,yt=re.RETURN_DOM||!1,St=re.RETURN_DOM_FRAGMENT||!1,ht=re.RETURN_TRUSTED_TYPE||!1,qe=re.FORCE_BODY||!1,Tt=!1!==re.SANITIZE_DOM,ar=re.SANITIZE_NAMED_PROPS||!1,Ze=!1!==re.KEEP_CONTENT,Ct=re.IN_PLACE||!1,rt=re.ALLOWED_URI_REGEXP||LE,Wi=re.NAMESPACE||Ei,q=re.CUSTOM_ELEMENT_HANDLING||{},re.CUSTOM_ELEMENT_HANDLING&&jc(re.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(q.tagNameCheck=re.CUSTOM_ELEMENT_HANDLING.tagNameCheck),re.CUSTOM_ELEMENT_HANDLING&&jc(re.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(q.attributeNameCheck=re.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),re.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof re.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(q.allowCustomizedBuiltInElements=re.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ct&&(_e=!1),St&&(yt=!0),pn&&(Je=$t({},[...RE]),He=[],!0===pn.html&&($t(Je,OE),$t(He,kE)),!0===pn.svg&&($t(Je,rm),$t(He,am),$t(He,zu)),!0===pn.svgFilters&&($t(Je,om),$t(He,am),$t(He,zu)),!0===pn.mathMl&&($t(Je,im),$t(He,DE),$t(He,zu))),re.ADD_TAGS&&(Je===Ie&&(Je=od(Je)),$t(Je,re.ADD_TAGS,mn)),re.ADD_ATTR&&(He===lt&&(He=od(He)),$t(He,re.ADD_ATTR,mn)),re.ADD_URI_SAFE_ATTR&&$t(Lr,re.ADD_URI_SAFE_ATTR,mn),re.FORBID_CONTENTS&&(Gn===Sr&&(Gn=od(Gn)),$t(Gn,re.FORBID_CONTENTS,mn)),Ze&&(Je["#text"]=!0),ot&&$t(Je,["html","head","body"]),Je.table&&($t(Je,["tbody"]),delete Q.tbody),re.TRUSTED_TYPES_POLICY){if("function"!=typeof re.TRUSTED_TYPES_POLICY.createHTML)throw gc('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof re.TRUSTED_TYPES_POLICY.createScriptURL)throw gc('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');M=re.TRUSTED_TYPES_POLICY,P=M.createHTML("")}else void 0===M&&(M=function(Qe,at){if("object"!=typeof Qe||"function"!=typeof Qe.createPolicy)return null;let Kt=null;const cn="data-tt-policy-suffix";at&&at.hasAttribute(cn)&&(Kt=at.getAttribute(cn));const _n="dompurify"+(Kt?"#"+Kt:"");try{return Qe.createPolicy(_n,{createHTML:gn=>gn,createScriptURL:gn=>gn})}catch{return console.warn("TrustedTypes policy "+_n+" could not be created."),null}}(g,o)),null!==M&&"string"==typeof P&&(P=M.createHTML(""));Lo&&Lo(re),pa=re}},qw=$t({},["mi","mo","mn","ms","mtext"]),Ww=$t({},["foreignobject","desc","title","annotation-xml"]),uD=$t({},["title","style","font","a","script"]),jf=$t({},rm);$t(jf,om),$t(jf,bx);const Fg=$t({},im);$t(Fg,_x);const Ol=function(re){mc(n.removed,{element:re});try{re.parentNode.removeChild(re)}catch{re.remove()}},Hc=function(re,Qe){try{mc(n.removed,{attribute:Qe.getAttributeNode(re),from:Qe})}catch{mc(n.removed,{attribute:null,from:Qe})}if(Qe.removeAttribute(re),"is"===re&&!He[re])if(yt||St)try{Ol(Qe)}catch{}else try{Qe.setAttribute(re,"")}catch{}},Kw=function(re){let Qe,at;if(qe)re="<remove></remove>"+re;else{const _n=mx(re,/^[\r\n\t ]+/);at=_n&&_n[0]}"application/xhtml+xml"===Ci&&Wi===Ei&&(re='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+re+"</body></html>");const Kt=M?M.createHTML(re):re;if(Wi===Ei)try{Qe=(new b).parseFromString(Kt,Ci)}catch{}if(!Qe||!Qe.documentElement){Qe=H.createDocument(Wi,"template",null);try{Qe.documentElement.innerHTML=Nl?P:Kt}catch{}}const cn=Qe.body||Qe.documentElement;return re&&at&&cn.insertBefore(i.createTextNode(at),cn.childNodes[0]||null),Wi===Ei?J.call(Qe,ot?"html":"body")[0]:ot?Qe.documentElement:cn},Yw=function(re){return K.call(re.ownerDocument||re,re,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT,null,!1)},Hf=function(re){return"object"==typeof l?re instanceof l:re&&"object"==typeof re&&"number"==typeof re.nodeType&&"string"==typeof re.nodeName},bs=function(re,Qe,at){U[re]&&hx(U[re],Kt=>{Kt.call(n,Qe,at,pa)})},Qw=function(re){let Qe;if(bs("beforeSanitizeElements",re,null),(at=re)instanceof m&&("string"!=typeof at.nodeName||"string"!=typeof at.textContent||"function"!=typeof at.removeChild||!(at.attributes instanceof f)||"function"!=typeof at.removeAttribute||"function"!=typeof at.setAttribute||"string"!=typeof at.namespaceURI||"function"!=typeof at.insertBefore||"function"!=typeof at.hasChildNodes))return Ol(re),!0;var at;const Kt=mn(re.nodeName);if(bs("uponSanitizeElement",re,{tagName:Kt,allowedTags:Je}),re.hasChildNodes()&&!Hf(re.firstElementChild)&&(!Hf(re.content)||!Hf(re.content.firstElementChild))&&mi(/<[/\w]/g,re.innerHTML)&&mi(/<[/\w]/g,re.textContent))return Ol(re),!0;if(!Je[Kt]||Q[Kt]){if(!Q[Kt]&&Xw(Kt)&&(q.tagNameCheck instanceof RegExp&&mi(q.tagNameCheck,Kt)||q.tagNameCheck instanceof Function&&q.tagNameCheck(Kt)))return!1;if(Ze&&!Gn[Kt]){const cn=A(re)||re.parentNode,_n=w(re)||re.childNodes;if(_n&&cn)for(let gn=_n.length-1;gn>=0;--gn)cn.insertBefore(v(_n[gn],!0),C(re))}return Ol(re),!0}return re instanceof d&&!function(cn){let _n=A(cn);_n&&_n.tagName||(_n={namespaceURI:Wi,tagName:"template"});const gn=Uu(cn.tagName),Rn=Uu(_n.tagName);return!!Fc[cn.namespaceURI]&&(cn.namespaceURI===vs?_n.namespaceURI===Ei?"svg"===gn:_n.namespaceURI===Xn?"svg"===gn&&("annotation-xml"===Rn||qw[Rn]):!!jf[gn]:cn.namespaceURI===Xn?_n.namespaceURI===Ei?"math"===gn:_n.namespaceURI===vs?"math"===gn&&Ww[Rn]:!!Fg[gn]:cn.namespaceURI===Ei?!(_n.namespaceURI===vs&&!Ww[Rn])&&!(_n.namespaceURI===Xn&&!qw[Rn])&&!Fg[gn]&&(uD[gn]||!jf[gn]):!("application/xhtml+xml"!==Ci||!Fc[cn.namespaceURI]))}(re)?(Ol(re),!0):"noscript"!==Kt&&"noembed"!==Kt&&"noframes"!==Kt||!mi(/<\/no(script|embed|frames)/i,re.innerHTML)?(ct&&3===re.nodeType&&(Qe=re.textContent,Qe=fa(Qe,Y," "),Qe=fa(Qe,ee," "),Qe=fa(Qe,ue," "),re.textContent!==Qe&&(mc(n.removed,{element:re.cloneNode()}),re.textContent=Qe)),bs("afterSanitizeElements",re,null),!1):(Ol(re),!0)},Gw=function(re,Qe,at){if(Tt&&("id"===Qe||"name"===Qe)&&(at in i||at in xl))return!1;if((!_e||me[Qe]||!mi(Oe,Qe))&&(!ge||!mi(we,Qe)))if(!He[Qe]||me[Qe]){if(!(Xw(re)&&(q.tagNameCheck instanceof RegExp&&mi(q.tagNameCheck,re)||q.tagNameCheck instanceof Function&&q.tagNameCheck(re))&&(q.attributeNameCheck instanceof RegExp&&mi(q.attributeNameCheck,Qe)||q.attributeNameCheck instanceof Function&&q.attributeNameCheck(Qe))||"is"===Qe&&q.allowCustomizedBuiltInElements&&(q.tagNameCheck instanceof RegExp&&mi(q.tagNameCheck,at)||q.tagNameCheck instanceof Function&&q.tagNameCheck(at))))return!1}else if(!Lr[Qe]&&!mi(rt,fa(at,Ye,""))&&("src"!==Qe&&"xlink:href"!==Qe&&"href"!==Qe||"script"===re||0!==gx(at,"data:")||!io[re])&&(!$e||mi(Xe,fa(at,Ye,"")))&&at)return!1;return!0},Xw=function(re){return re.indexOf("-")>0},Jw=function(re){let Qe,at,Kt,cn;bs("beforeSanitizeAttributes",re,null);const{attributes:_n}=re;if(!_n)return;const gn={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:He};for(cn=_n.length;cn--;){Qe=_n[cn];const{name:Rn,namespaceURI:_d}=Qe;at="value"===Rn?Qe.value:vx(Qe.value);const hD=at;if(Kt=mn(Rn),gn.attrName=Kt,gn.attrValue=at,gn.keepAttr=!0,gn.forceKeepAttr=void 0,bs("uponSanitizeAttribute",re,gn),at=gn.attrValue,gn.forceKeepAttr)continue;if(!gn.keepAttr){Hc(Rn,re);continue}if(!et&&mi(/\/>/i,at)){Hc(Rn,re);continue}ct&&(at=fa(at,Y," "),at=fa(at,ee," "),at=fa(at,ue," "));const Zw=mn(re.nodeName);if(Gw(Zw,Kt,at)){if(!ar||"id"!==Kt&&"name"!==Kt||(Hc(Rn,re),at="user-content-"+at),M&&"object"==typeof g&&"function"==typeof g.getAttributeType&&!_d)switch(g.getAttributeType(Zw,Kt)){case"TrustedHTML":at=M.createHTML(at);break;case"TrustedScriptURL":at=M.createScriptURL(at)}if(at!==hD)try{_d?re.setAttributeNS(_d,Rn,at):re.setAttribute(Rn,at)}catch{Hc(Rn,re)}}else Hc(Rn,re)}bs("afterSanitizeAttributes",re,null)},fD=function re(Qe){let at;const Kt=Yw(Qe);for(bs("beforeSanitizeShadowDOM",Qe,null);at=Kt.nextNode();)bs("uponSanitizeShadowNode",at,null),Qw(at)||(at.content instanceof a&&re(at.content),Jw(at));bs("afterSanitizeShadowDOM",Qe,null)};return n.sanitize=function(re){let Qe,at,Kt,cn,_n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Nl=!re,Nl&&(re="\x3c!--\x3e"),"string"!=typeof re&&!Hf(re)){if("function"!=typeof re.toString)throw gc("toString is not a function");if("string"!=typeof(re=re.toString()))throw gc("dirty is not a string, aborting")}if(!n.isSupported)return re;if(Qt||Bg(_n),n.removed=[],"string"==typeof re&&(Ct=!1),Ct){if(re.nodeName){const _d=mn(re.nodeName);if(!Je[_d]||Q[_d])throw gc("root node is forbidden and cannot be sanitized in-place")}}else if(re instanceof l)Qe=Kw("\x3c!----\x3e"),at=Qe.ownerDocument.importNode(re,!0),1===at.nodeType&&"BODY"===at.nodeName||"HTML"===at.nodeName?Qe=at:Qe.appendChild(at);else{if(!yt&&!ct&&!ot&&-1===re.indexOf("<"))return M&&ht?M.createHTML(re):re;if(Qe=Kw(re),!Qe)return yt?null:ht?P:""}Qe&&qe&&Ol(Qe.firstChild);const gn=Yw(Ct?re:Qe);for(;Kt=gn.nextNode();)Qw(Kt)||(Kt.content instanceof a&&fD(Kt.content),Jw(Kt));if(Ct)return re;if(yt){if(St)for(cn=G.call(Qe.ownerDocument);Qe.firstChild;)cn.appendChild(Qe.firstChild);else cn=Qe;return(He.shadowroot||He.shadowrootmode)&&(cn=ne.call(r,cn,!0)),cn}let Rn=ot?Qe.outerHTML:Qe.innerHTML;return ot&&Je["!doctype"]&&Qe.ownerDocument&&Qe.ownerDocument.doctype&&Qe.ownerDocument.doctype.name&&mi(IE,Qe.ownerDocument.doctype.name)&&(Rn="<!DOCTYPE "+Qe.ownerDocument.doctype.name+">\n"+Rn),ct&&(Rn=fa(Rn,Y," "),Rn=fa(Rn,ee," "),Rn=fa(Rn,ue," ")),M&&ht?M.createHTML(Rn):Rn},n.setConfig=function(re){Bg(re),Qt=!0},n.clearConfig=function(){pa=null,Qt=!1},n.isValidAttribute=function(re,Qe,at){pa||Bg({});const Kt=mn(re),cn=mn(Qe);return Gw(Kt,cn,at)},n.addHook=function(re,Qe){"function"==typeof Qe&&(U[re]=U[re]||[],mc(U[re],Qe))},n.removeHook=function(re){if(U[re])return px(U[re])},n.removeHooks=function(re){U[re]&&(U[re]=[])},n.removeAllHooks=function(){U={}},n}();const BE=Se.each,xx=Se.trim,Ox=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],Rx={ftp:21,http:80,https:443,mailto:25},kx=["img","video"],FE=(e,t,n)=>{const r=(o=>{try{return decodeURIComponent(o)}catch{return unescape(o)}})(t).replace(/\s/g,"");return!e.allow_script_urls&&(!!/((java|vb)script|mhtml):/i.test(r)||!e.allow_html_data_urls&&(/^data:image\//i.test(r)?(i=n,(Ne(o=e.allow_svg_data_urls)?!o:!Ne(i)||!Bt(kx,i))&&/^data:image\/svg\+xml/i.test(r)):/^data:/i.test(r)));var o,i};class qi{static parseDataUri(t){let n;const r=decodeURIComponent(t).split(","),o=/data:([^;]+)/.exec(r[0]);return o&&(n=o[1]),{type:n,data:r[1]}}static isDomSafe(t,n,r={}){if(r.allow_script_urls)return!0;{const o=Oa.decode(t).replace(/[\s\u0000-\u001F]+/g,"");return!FE(r,o,n)}}static getDocumentBaseUrl(t){var n;let r;return r=0!==t.protocol.indexOf("http")&&"file:"!==t.protocol?null!==(n=t.href)&&void 0!==n?n:"":t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/")),r}constructor(t,n={}){this.path="",this.directory="",t=xx(t),this.settings=n;const r=n.base_uri,o=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t))return void(o.source=t);const i=0===t.indexOf("//");if(0!==t.indexOf("/")||i||(t=(r&&r.protocol||"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){const s=r?r.path:new qi(document.location.href).directory;if(""===r?.protocol)t="//mce_host"+o.toAbsPath(s,t);else{const l=/([^#?]*)([#?]?.*)/.exec(t);l&&(t=(r&&r.protocol||"http")+"://mce_host"+o.toAbsPath(s,l[1])+l[2])}}t=t.replace(/@@/g,"(mce_at)");const a=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);a&&BE(Ox,(s,l)=>{let d=a[l];d&&(d=d.replace(/\(mce_at\)/g,"@@")),o[s]=d}),r&&(o.protocol||(o.protocol=r.protocol),o.userInfo||(o.userInfo=r.userInfo),o.port||"mce_host"!==o.host||(o.port=r.port),o.host&&"mce_host"!==o.host||(o.host=r.host),o.source=""),i&&(o.protocol="")}setPath(t){const n=/^(.*?)\/?(\w+)?$/.exec(t);n&&(this.path=n[0],this.directory=n[1],this.file=n[2]),this.source="",this.getURI()}toRelative(t){if("./"===t)return t;const n=new qi(t,{base_uri:this});if("mce_host"!==n.host&&this.host!==n.host&&n.host||this.port!==n.port||this.protocol!==n.protocol&&""!==n.protocol)return n.getURI();const r=this.getURI(),o=n.getURI();if(r===o||"/"===r.charAt(r.length-1)&&r.substr(0,r.length-1)===o)return r;let i=this.toRelPath(this.path,n.path);return n.query&&(i+="?"+n.query),n.anchor&&(i+="#"+n.anchor),i}toAbsolute(t,n){const r=new qi(t,{base_uri:this});return r.getURI(n&&this.isSameOrigin(r))}isSameOrigin(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;const n=this.protocol?Rx[this.protocol]:null;if(n&&(this.port||n)==(t.port||n))return!0}return!1}toRelPath(t,n){let r,o,i=0,a="";const s=t.substring(0,t.lastIndexOf("/")).split("/"),l=n.split("/");if(s.length>=l.length)for(r=0,o=s.length;r<o;r++)if(r>=l.length||s[r]!==l[r]){i=r+1;break}if(s.length<l.length)for(r=0,o=l.length;r<o;r++)if(r>=s.length||s[r]!==l[r]){i=r+1;break}if(1===i)return n;for(r=0,o=s.length-(i-1);r<o;r++)a+="../";for(r=i-1,o=l.length;r<o;r++)a+=r!==i-1?"/"+l[r]:l[r];return a}toAbsPath(t,n){let r=0;const o=/\/$/.test(n)?"/":"",i=t.split("/"),a=n.split("/"),s=[];BE(i,f=>{f&&s.push(f)});const l=[];for(let f=a.length-1;f>=0;f--)0!==a[f].length&&"."!==a[f]&&(".."!==a[f]?r>0?r--:l.push(a[f]):r++);const d=s.length-r;let u;return u=d<=0?br(l).join("/"):s.slice(0,d).join("/")+"/"+br(l).join("/"),0!==u.indexOf("/")&&(u="/"+u),o&&u.lastIndexOf("/")!==u.length-1&&(u+=o),u}getURI(t=!1){let n;return this.source&&!t||(n="",t||(n+=this.protocol?this.protocol+"://":"//",this.userInfo&&(n+=this.userInfo+"@"),this.host&&(n+=this.host),this.port&&(n+=":"+this.port)),this.path&&(n+=this.path),this.query&&(n+="?"+this.query),this.anchor&&(n+="#"+this.anchor),this.source=n),this.source}}const Dx=Se.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),sm="data-mce-type";let jE=0;const HE=(e,t,n,r,o)=>{var i,a,s,l;const d=t.validate,u=n.getSpecialElements();8===e.nodeType&&!t.allow_conditional_comments&&/^\[if/i.test(null!==(i=e.nodeValue)&&void 0!==i?i:"")&&(e.nodeValue=" "+e.nodeValue);const f=null!==(a=o?.tagName)&&void 0!==a?a:e.nodeName.toLowerCase();if("html"!==r&&n.isValid(r))return void(Ne(o)&&(o.allowedTags[f]=!0));if(1!==e.nodeType||"body"===f)return;const m=k(e),b=Mi(m,sm),g=Yn(m,"data-mce-bogus");if(!b&&We(g))return void("all"===g?ce(m):Be(m));const E=n.getElementRule(f);if(!d||E){if(Ne(o)&&(o.allowedTags[f]=!0),d&&E&&!b){if(de(null!==(s=E.attributesForced)&&void 0!==s?s:[],v=>{on(m,v.name,"{$uid}"===v.value?"mce_"+jE++:v.value)}),de(null!==(l=E.attributesDefault)&&void 0!==l?l:[],v=>{Mi(m,v.name)||on(m,v.name,"{$uid}"===v.value?"mce_"+jE++:v.value)}),E.attributesRequired&&!Zt(E.attributesRequired,v=>Mi(m,v))||E.removeEmptyAttrs&&(v=>{const C=v.dom.attributes;return null==C||0===C.length})(m))return void Be(m);E.outputName&&E.outputName!==f&&((v,C)=>{const w=((M,P)=>{const H=z(P),K=Qr(M);return Yr(H,K),H})(v,C);hr(v,w);const A=fn(v);se(w,A),ce(v)})(m,E.outputName)}}else nt(u,f)?ce(m):Be(m)},$E=(e,t,n,r,o,i)=>"html"!==n&&!xa(r)||!(o in Dx&&FE(e,i,r))&&(!e.validate||t.isValid(r,o)||un(o,"data-")||un(o,"aria-")),UE=(e,t)=>e.hasAttribute(sm)&&("id"===t||"class"===t||"style"===t),VE=(e,t)=>e in t.getBoolAttrs(),Lx=(e,t,n,r)=>{const{attributes:o}=e;for(let i=o.length-1;i>=0;i--){const a=o[i],s=a.name,l=a.value;$E(t,n,r,e.tagName.toLowerCase(),s,l)||UE(e,s)?VE(s,n)&&e.setAttribute(s,s):e.removeAttribute(s)}},Px=e=>{const n={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:["type","href","role","arcrole","title","show","actuate","label","from","to"].map(r=>`xlink:${r}`)};return ME().sanitize(e,n),e.innerHTML},zE=Se.makeMap,qE=Se.extend,WE=(e,t,n,r)=>{const o=e.name,i=o in n&&"title"!==o&&"textarea"!==o,a=t.childNodes;for(let s=0,l=a.length;s<l;s++){const d=a[s],u=new ro(d.nodeName.toLowerCase(),d.nodeType);if(Le(d)){const f=d.attributes;for(let m=0,b=f.length;m<b;m++){const g=f[m];u.attr(g.name,g.value)}xa(u.name)&&(r(d),u.value=d.innerHTML)}else Ce(d)?(u.value=d.data,i&&(u.raw=!0)):(Ta(d)||$f(d)||Uf(d))&&(u.value=d.data);xa(u.name)||WE(u,d,n,r),e.append(u)}},id=(e={},t=Ra())=>{const n=_E(),r=_E(),o={validate:!0,root_name:"body",sanitize:!0,...e},i=new DOMParser,a=((E,v)=>{const C=(()=>{let w=[];const A=()=>w[w.length-1];return{track:M=>{Xs(M)&&w.push(M);let P=A();return P&&!P.contains(M)&&(w.pop(),P=A()),Qc(P)},current:()=>Qc(A()),reset:()=>{w=[]}}})();if(E.sanitize){const w=((e,t,n)=>{const r=ME();return r.addHook("uponSanitizeElement",(o,i)=>{HE(o,e,t,n.track(o),i)}),r.addHook("uponSanitizeAttribute",(o,i)=>{((a,s,l,d,u)=>{const f=a.tagName.toLowerCase(),{attrName:m,attrValue:b}=u;u.keepAttr=$E(s,l,d,f,m,b),u.keepAttr?(u.allowedAttributes[m]=!0,VE(m,l)&&(u.attrValue=m),s.allow_svg_data_urls&&un(b,"data:image/svg+xml")&&(u.forceKeepAttr=!0)):UE(a,m)&&(u.forceKeepAttr=!0)})(o,e,t,n.current(),i)}),r})(E,v,C);return{sanitizeHtmlElement:(M,P)=>{w.sanitize(M,((H,K)=>{const G={IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]};return G.PARSER_MEDIA_TYPE=K,H.allow_script_urls?G.ALLOWED_URI_REGEXP=/.*/:H.allow_html_data_urls&&(G.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),G})(E,P)),w.removed=[],C.reset()},sanitizeNamespaceElement:Px}}return{sanitizeHtmlElement:(w,A)=>{const M=document.createNodeIterator(w,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let P;for(;P=M.nextNode();){const H=C.track(P);HE(P,E,v,H),Le(P)&&Lx(P,E,v,H)}C.reset()},sanitizeNamespaceElement:Ke}})(o,t),l=n.getFilters,f=r.getFilters,b=(E,v)=>{const C=We(v.attr(sm)),w=1===v.type&&!nt(E,v.name)&&!ls(t,v)&&!xa(v.name);return 3===v.type||w&&!C},g={schema:t,addAttributeFilter:r.addFilter,getAttributeFilters:f,removeAttributeFilter:r.removeFilter,addNodeFilter:n.addFilter,getNodeFilters:l,removeNodeFilter:n.removeFilter,parse:(E,v={})=>{var C;const w=o.validate,A=null!==(C=v.context)&&void 0!==C?C:o.root_name,M=((ee,ue,Oe="html")=>{const we="xhtml"===Oe?"application/xhtml+xml":"text/html",Xe=nt(t.getSpecialElements(),ue.toLowerCase()),Ye=Xe?`<${ue}>${ee}</${ue}>`:ee,Je=i.parseFromString("xhtml"===Oe?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${Ye}</body></html>`:`<body>${Ye}</body>`,we).body;return a.sanitizeHtmlElement(Je,we),Xe?Je.firstChild:Je})(E,A,v.format);is(t,M);const P=new ro(A,11);WE(P,M,t.getSpecialElements(),a.sanitizeNamespaceElement),M.innerHTML="";const[H,K]=((ee,ue,Oe,we)=>{const Xe=Oe.validate,Ye=ue.getNonEmptyElements(),rt=ue.getWhitespaceElements(),Je=qE(zE("script,style,head,html,body,title,meta,param"),ue.getBlockElements()),Ie=au(ue),He=/[ \t\r\n]+/g,lt=/^[ \t\r\n]+/,q=/[ \t\r\n]+$/,Q=_e=>{let $e=_e.parent;for(;Ne($e);){if($e.name in rt)return!0;$e=$e.parent}return!1},me=_e=>_e.name in Je||ls(ue,_e)||xa(_e.name)&&_e.parent===ee,ge=(_e,$e)=>!Ne($e?_e.prev:_e.next)&&!qt(_e.parent)&&me(_e.parent)&&(_e.parent!==ee||!0===we.isRootContent);return[_e=>{var $e,ct,ot;if(3===_e.type&&!Q(_e)){let et=null!==($e=_e.value)&&void 0!==$e?$e:"";et=et.replace(He," "),ot=me,(Ne(ct=_e.prev)&&(ot(ct)||"br"===ct.name)||ge(_e,!0))&&(et=et.replace(lt,"")),0===et.length?_e.remove():_e.value=et}},_e=>{var $e,ot,Qt;if(1===_e.type){const et=ue.getElementRule(_e.name);if(Xe&&et){const ct=uc(ue,Ye,rt,_e);et.paddInEmptyBlock&&ct&&(ot=>{let Qt=ot;for(;Ne(Qt);){if(Qt.name in Ie)return uc(ue,Ye,rt,Qt);Qt=Qt.parent}return!1})(_e)?Dp(Oe,we,me,_e):et.removeEmpty&&ct?me(_e)?_e.remove():_e.unwrap():et.paddEmpty&&(ct||ky(ot=_e,"#text")&&(null===(Qt=ot?.firstChild)||void 0===Qt?void 0:Qt.value)===hn)&&Dp(Oe,we,me,_e)}}else if(3===_e.type&&!Q(_e)){let et=null!==($e=_e.value)&&void 0!==$e?$e:"";(_e.next&&me(_e.next)||ge(_e,!1))&&(et=et.replace(q,"")),0===et.length?_e.remove():_e.value=et}}]})(P,t,o,v),G=[],ne={nodes:{},attributes:{}},U=ee=>xy(l(),f(),ee,ne);if(((ee,ue,Oe)=>{const we=[];for(let Xe=ee,Ye=Xe;Xe;Ye=Xe,Xe=Xe.walk()){const rt=Xe;de(ue,Je=>Je(rt)),qt(rt.parent)&&rt!==ee?Xe=Ye:we.push(rt)}for(let Xe=we.length-1;Xe>=0;Xe--){const Ye=we[Xe];de(Oe,rt=>rt(Ye))}})(P,[H,U],[K,w?ee=>{return Oe=G,void(Pp(t,ue=ee)&&Oe.push(ue));var ue,Oe}:Ke]),G.reverse(),w&&G.length>0)if(v.context){const{pass:ee,fail:ue}=qn(G,Oe=>Oe.parent===P);Ip(ue,t,P,U),v.invalid=ee.length>0}else Ip(G,t,P,U);const Y=((ee,ue)=>{var Oe;const we=null!==(Oe=ue.forced_root_block)&&void 0!==Oe?Oe:ee.forced_root_block;return!1===we?"":!0===we?"p":we})(o,v);return Y&&("body"===P.name||v.isRootContent)&&((ee,ue)=>{const Oe=qE(zE("script,style,head,html,body,title,meta,param"),t.getBlockElements()),we=/^[ \t\r\n]+/,Xe=/[ \t\r\n]+$/;let Ye=ee.firstChild,rt=null;const Je=Ie=>{var He,lt;Ie&&(Ye=Ie.firstChild,Ye&&3===Ye.type&&(Ye.value=null===(He=Ye.value)||void 0===He?void 0:He.replace(we,"")),Ye=Ie.lastChild,Ye&&3===Ye.type&&(Ye.value=null===(lt=Ye.value)||void 0===lt?void 0:lt.replace(Xe,"")))};if(t.isValidChild(ee.name,ue.toLowerCase())){for(;Ye;){const Ie=Ye.next;b(Oe,Ye)?(rt||(rt=new ro(ue,1),rt.attr(o.forced_root_block_attrs),ee.insert(rt,Ye)),rt.append(Ye)):(Je(rt),rt=null),Ye=Ie}Je(rt)}})(P,Y),v.invalid||Oy(ne,v),P}};return((e,t)=>{const n=e.schema;t.remove_trailing_brs&&yE(t,e,n),e.addAttributeFilter("href",o=>{let i=o.length;const a=s=>{const l=s?Se.trim(s):"";return/\b(noopener)\b/g.test(l)?l:l.split(" ").filter(u=>u.length>0).concat(["noopener"]).sort().join(" ")};if(!t.allow_unsafe_link_target)for(;i--;){const s=o[i];"a"===s.name&&"_blank"===s.attr("target")&&s.attr("rel",a(s.attr("rel")))}}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",o=>{let i,a,s,l,d=o.length;for(;d--;)if(l=o[d],"a"===l.name&&l.firstChild&&!l.attr("href"))for(s=l.parent,i=l.lastChild;i&&s;)a=i.prev,s.insert(i,l),i=a}),t.fix_list_elements&&e.addNodeFilter("ul,ol",o=>{let i,a,s=o.length;for(;s--;)if(i=o[s],a=i.parent,a&&("ul"===a.name||"ol"===a.name))if(i.prev&&"li"===i.prev.name)i.prev.append(i);else{const l=new ro("li",1);l.attr("style","list-style-type: none"),i.wrap(l)}});const r=n.getValidClasses();t.validate&&r&&e.addAttributeFilter("class",o=>{var i;let a=o.length;for(;a--;){const s=o[a],l=null!==(i=s.attr("class"))&&void 0!==i?i:"",d=Se.explode(l," ");let u="";for(let f=0;f<d.length;f++){const m=d[f];let b=!1,g=r["*"];g&&g[m]&&(b=!0),g=r[s.name],!b&&g&&g[m]&&(b=!0),b&&(u&&(u+=" "),u+=m)}u.length||(u=null),s.attr("class",u)}}),((o,i)=>{const{blob_cache:a}=i;if(a){const s=l=>{const d=l.attr("src");var u;(u=l).attr("src")===Et.transparentSrc||Ne(u.attr("data-mce-placeholder"))||(u=>Ne(u.attr("data-mce-bogus")))(l)||qt(d)||wE(a,d,!0).each(u=>{l.attr("src",u.blobUri())})};o.addAttributeFilter("src",l=>de(l,s))}})(e,t),t.convert_unsafe_embeds&&e.addNodeFilter("object,embed",o=>de(o,i=>{i.replace(((a,s,l,d,u)=>{let f;f=sn(a)?"iframe":Zp(a,"image")?"img":Zp(a,"video")?"video":Zp(a,"audio")?"audio":"iframe";const m=new ro(f,1);return m.attr("audio"===f?{src:s}:{src:s,width:l,height:d}),"audio"!==f&&"video"!==f||m.attr("controls",""),"iframe"===f&&u&&m.attr("sandbox",""),m})(i.attr("type"),i.attr("object"===i.name?"data":"src"),i.attr("width"),i.attr("height"),t.sandbox_iframes))})),t.sandbox_iframes&&e.addNodeFilter("iframe",o=>de(o,i=>i.attr("sandbox","")))})(g,o),(v=o).inline_styles&&((e,t,n)=>{var r;const o=ie();var i,a,s;t.convert_fonts_to_spans&&(i=e,a=o,s=Se.explode(null!==(r=t.font_size_legacy_values)&&void 0!==r?r:""),i.addNodeFilter("font",l=>{de(l,d=>{const u=a.parse(d.attr("style")),f=d.attr("color"),m=d.attr("face"),b=d.attr("size");var g;f&&(u.color=f),m&&(u["font-family"]=m),b&&uo(b).each(g=>{u["font-size"]=s[g-1]}),d.name="span",d.attr("style",a.serialize(u)),g=d,de(["color","face","size"],v=>{g.attr(v,null)})})})),((i,a,s)=>{i.addNodeFilter("strike",l=>{const d="html4"!==a.type;de(l,u=>{if(d)u.name="s";else{const f=s.parse(u.attr("style"));f["text-decoration"]="line-through",u.name="span",u.attr("style",s.serialize(f))}})})})(e,n,o)})(g,v,t),g;var v},KE=(e,t,n)=>{const r=Fu(i=e)?Hs({validate:!1}).serialize(i):i,o=t(r);var i;if(o.isDefaultPrevented())return o;if(Fu(e)){if(o.content!==r){const i=id({validate:!1,forced_root_block:!1,...n}).parse(o.content,{context:e.name});return{...o,content:i}}return{...o,content:e}}return o},YE=(e,t)=>{if(t.no_events)return So.value(t);{const n=e.dispatch("BeforeGetContent",t);return n.isDefaultPrevented()?So.error(Ub(e,{content:"",...n}).content):So.value(n)}},QE=(e,t,n)=>n.no_events?t:KE(t,o=>Ub(e,{...n,content:o}),{sanitize:Sh(e),sandbox_iframes:Th(e)}).content,lm=(e,t)=>{if(t.no_events)return So.value(t);{const n=KE(t.content,r=>{return o=e,i={...t,content:r},o.dispatch("BeforeSetContent",i);var o,i},{sanitize:Sh(e),sandbox_iframes:Th(e)});return n.isDefaultPrevented()?($b(e,n),So.error(void 0)):So.value(n)}},dm=(e,t,n)=>{n.no_events||$b(e,{...n,content:t})},cm=(e,t,n)=>({element:e,width:t,rows:n}),GE=(e,t)=>({element:e,cells:t}),Mx=(e,t)=>({x:e,y:t}),XE=(e,t)=>Br(e,t).bind(uo).getOr(1),Bx=(e,t,n)=>{const r=e.rows;return!!(r[n]?r[n].cells:[])[t]},JE=e=>yn(e,(t,n)=>n.cells.length>t?n.cells.length:t,0),ZE=(e,t)=>{const n=e.rows;for(let r=0;r<n.length;r++){const o=n[r].cells;for(let i=0;i<o.length;i++)if(Fe(o[i],t))return O.some(Mx(i,r))}return O.none()},e0=(e,t,n,r,o)=>{const i=[],a=e.rows;for(let s=n;s<=o;s++){const l=a[s].cells,d=t<r?l.slice(t,r+1):l.slice(r,t+1);i.push(GE(a[s].element,d))}return i},Fx=e=>((t,n)=>{const r=ol(t.element),o=z("tbody");return se(o,n),$(r,o),r})(e,wt(e.rows,n=>{const r=wt(n.cells,i=>{const a=Gg(i);return nn(a,"colspan"),nn(a,"rowspan"),a}),o=ol(n.element);return se(o,r),o})),t0=()=>Gh([]),qu=(e,t)=>t>=0&&t<e.length&&Jl(e.charAt(t)),n0=e=>Eo(e.innerText),r0=e=>Le(e)?e.outerHTML:Ce(e)?Oa.encodeRaw(e.data,!1):Ta(e)?"\x3c!--"+e.data+"--\x3e":"",Vx=Ar(()=>document.implementation.createHTMLDocument("undo")),Wu=e=>{const t=e.serializer.getTempAttrs(),n=k_(e.getBody(),t);return null!==n.querySelector("iframe")?{type:"fragmented",fragments:tt(wt(_r(n.childNodes),Ur(Eo,r0)),r=>r.length>0),content:"",bookmark:null,beforeBookmark:null}:{type:"complete",fragments:null,content:Eo(n.innerHTML),bookmark:null,beforeBookmark:null}},um=(e,t,n)=>{const r=n?t.beforeBookmark:t.bookmark;"fragmented"===t.type?((e,t)=>{((n,r)=>{let o=0;de(n,i=>{var a,s;0===i[0]?o++:1===i[0]?(((a,s,l)=>{const d=(u=>{let f;const m=document.createElement("div"),b=document.createDocumentFragment();for(u&&(m.innerHTML=u);f=m.firstChild;)b.appendChild(f);return b})(s);a.hasChildNodes()&&l<a.childNodes.length?a.insertBefore(d,a.childNodes[l]):a.appendChild(d)})(r,i[1],o),o++):2===i[0]&&(s=o,(a=r).hasChildNodes()&&s<a.childNodes.length&&a.removeChild(a.childNodes[s]))})})(((n,r)=>{const o=n.length+r.length+2,i=new Array(o),a=new Array(o),s=(f,m,b,g,E)=>{const v=d(f,m,b,g);if(null===v||v.start===m&&v.diag===m-g||v.end===f&&v.diag===f-b){let C=f,w=b;for(;C<m||w<g;)C<m&&w<g&&n[C]===r[w]?(E.push([0,n[C]]),++C,++w):m-f>g-b?(E.push([2,n[C]]),++C):(E.push([1,r[w]]),++w)}else{s(f,v.start,b,v.start-v.diag,E);for(let C=v.start;C<v.end;++C)E.push([0,n[C]]);s(v.end,m,v.end-v.diag,g,E)}},l=(f,m,b,g)=>{let E=f;for(;E-m<g&&E<b&&n[E]===r[E-m];)++E;return{start:f,end:E,diag:m}},d=(f,m,b,g)=>{const E=m-f,v=g-b;if(0===E||0===v)return null;const C=E-v,w=v+E,A=(w%2==0?w:w+1)/2;let M,P,H,K,G;for(i[1+A]=f,a[1+A]=m+1,M=0;M<=A;++M){for(P=-M;P<=M;P+=2){for(H=P+A,i[H]=P===-M||P!==M&&i[H-1]<i[H+1]?i[H+1]:i[H-1]+1,K=i[H],G=K-f+b-P;K<m&&G<g&&n[K]===r[G];)i[H]=++K,++G;if(C%2!=0&&C-M<=P&&P<=C+M&&a[H-C]<=i[H])return l(a[H-C],P+f-b,m,g)}for(P=C-M;P<=C+M;P+=2){for(H=P+A-C,a[H]=P===C-M||P!==C+M&&a[H+1]<=a[H-1]?a[H+1]-1:a[H-1],K=a[H]-1,G=K-f+b-P;K>=f&&G>=b&&n[K]===r[G];)a[H]=K--,G--;if(C%2==0&&-M<=P&&P<=M&&a[H]<=i[H+C])return l(a[H],P+f-b,m,g)}}return null},u=[];return s(0,n.length,0,r.length,u),u})(wt(_r(t.childNodes),r0),e),t)})(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:!Ne(r)||!ub(r)||!r.isFakeCaret}),r&&(e.selection.moveToBookmark(r),e.selection.scrollIntoView())},fm=e=>"fragmented"===e.type?e.fragments.join(""):e.content,o0=e=>{const t=z("body",Vx());return ze(t,fm(e)),de(le(t,"*[data-mce-bogus]"),Be),dt(t)},hm=(e,t)=>{return!(!e||!t)&&(r=t,!(fm(e)!==fm(r))||((n,r)=>o0(n)===o0(r))(e,t));var r},pm=e=>0===e.get(),Ku=(e,t,n)=>{pm(n)&&(e.typing=t)},i0=(e,t)=>{e.typing&&(Ku(e,!1,t),e.add())},a0=e=>({init:{bindEvents:Ke},undoManager:{beforeChange:(t,n)=>{return r=e,i=n,void(pm(t)&&i.set(vh(r.selection)));var r,i},add:(t,n,r,o,i,a)=>((s,l,d,u,f,m,b)=>{const g=Wu(s),E=Se.extend(m||{},g);if(!pm(u)||s.removed)return null;const v=l.data[d.get()];if(s.dispatch("BeforeAddUndo",{level:E,lastLevel:v,originalEvent:b}).isDefaultPrevented()||v&&hm(v,E))return null;l.data[d.get()]&&f.get().each(A=>{l.data[d.get()].beforeBookmark=A});const C=YN(s);if(C&&l.data.length>C){for(let A=0;A<l.data.length-1;A++)l.data[A]=l.data[A+1];l.data.length--,d.set(l.data.length)}E.bookmark=vh(s.selection),d.get()<l.data.length-1&&(l.data.length=d.get()+1),l.data.push(E),d.set(l.data.length-1);const w={level:E,lastLevel:v,originalEvent:b};return d.get()>0?(s.setDirty(!0),s.dispatch("AddUndo",w),s.dispatch("change",w)):s.dispatch("AddUndo",w),E})(e,t,n,r,o,i,a),undo:(t,n,r)=>((o,i,a,s)=>{let l;return i.typing&&(i.add(),i.typing=!1,Ku(i,!1,a)),s.get()>0&&(s.set(s.get()-1),l=i.data[s.get()],um(o,l,!0),o.setDirty(!0),o.dispatch("Undo",{level:l})),l})(e,t,n,r),redo:(t,n)=>((r,o,i)=>{let a;return o.get()<i.length-1&&(o.set(o.get()+1),a=i[o.get()],um(r,a,!1),r.setDirty(!0),r.dispatch("Redo",{level:a})),a})(e,t,n),clear:(t,n)=>{return r=e,i=n,(o=t).data=[],i.set(0),o.typing=!1,void r.dispatch("ClearUndos");var r,o,i},reset:t=>{return(n=t).clear(),void n.add();var n},hasUndo:(t,n)=>{return r=e,o=t,n.get()>0||o.typing&&o.data[0]&&!hm(Wu(r),o.data[0]);var r,o},hasRedo:(t,n)=>{return r=t,n.get()<r.data.length-1&&!r.typing;var r},transact:(t,n,r)=>{return a=r,i0(o=t,n),o.beforeChange(),o.ignore(a),o.add();var o,a},ignore:(t,n)=>((r,o)=>{try{r.set(r.get()+1),o()}finally{r.set(r.get()-1)}})(t,n),extra:(t,n,r,o)=>((i,a,s,l,d)=>{if(a.transact(l)){const u=a.data[s.get()].bookmark,f=a.data[s.get()-1];um(i,f,!0),a.transact(d)&&(a.data[s.get()-1].beforeBookmark=u)}})(e,t,n,r,o)},formatter:{match:(t,n,r,o)=>Vp(e,t,n,r,o),matchAll:(t,n)=>((r,o,i)=>{const a=[],s={},l=r.selection.getStart();return r.dom.getParent(l,d=>{for(let u=0;u<o.length;u++){const f=o[u];!s[f]&&Ma(r,d,f,i)&&(s[f]=!0,a.push(f))}},r.dom.getRoot()),a})(e,t,n),matchNode:(t,n,r,o)=>Ma(e,t,n,r,o),canApply:t=>((n,r)=>{const o=n.formatter.get(r),i=n.dom;if(o&&n.selection.isEditable()){const a=n.selection.getStart(),s=Su(i,a);for(let l=o.length-1;l>=0;l--){const d=o[l];if(!fi(d))return!0;for(let u=s.length-1;u>=0;u--)if(i.is(s[u],d.selector))return!0}}return!1})(e,t),closest:t=>((n,r)=>{const o=i=>Fe(i,k(n.getBody()));return O.from(n.selection.getStart(!0)).bind(i=>Hp(k(i),a=>ei(r,s=>{return Ma(n,a.dom,d=s)?O.some(d):O.none();var d}),o)).getOrNull()})(e,t),apply:(t,n,r)=>fE(e,t,n,r),remove:(t,n,r,o)=>dE(e,t,n,r,o),toggle:(t,n,r)=>((o,i,a,s)=>{const l=o.formatter.get(i);l&&(!Vp(o,i,a,s)||"toggle"in l[0]&&!l[0].toggle?fE(o,i,a,s):dE(o,i,a,s))})(e,t,n,r),formatChanged:(t,n,r,o,i)=>{return((m,b,g,E,v,C)=>{const w=b.get();de(g.split(","),A=>{const M=Pt(w,A).getOrThunk(()=>{const H={withSimilar:{state:mr(!1),similar:!0,callbacks:[]},withoutSimilar:{state:mr(!1),similar:!1,callbacks:[]},withVars:[]};return w[A]=H,H}),P=()=>{const H=gE(m);return mE(m,H,A,v,C).isSome()};if(sn(C)){const H=v?M.withSimilar:M.withoutSimilar;H.callbacks.push(E),1===H.callbacks.length&&H.state.set(P())}else M.withVars.push({state:mr(P()),similar:v,vars:C,callback:E})}),b.set(w)})(e,s=t,l=n,d=r,o,i),{unbind:()=>((m,b,g)=>{const E=m.get();de(b.split(","),v=>Pt(E,v).each(C=>{E[v]={withSimilar:{...C.withSimilar,callbacks:tt(C.withSimilar.callbacks,w=>w!==g)},withoutSimilar:{...C.withoutSimilar,callbacks:tt(C.withoutSimilar.callbacks,w=>w!==g)},withVars:tt(C.withVars,w=>w.callback!==g)}})),m.set(E)})(s,l,d)};var s,l,d}},editor:{getContent:t=>{return r=t,O.from((n=e).getBody()).fold(Ae("tree"===r.format?new ro("body",11):""),o=>((e,t,n)=>{let r;return r="raw"===t.format?Se.trim(Eo(k_(n,e.serializer.getTempAttrs()).innerHTML)):"text"===t.format?((o,i)=>{const a=o.getDoc(),s=xn(k(o.getBody())),l=z("div",a);on(l,"data-mce-bogus","all"),bo(l,{position:"fixed",left:"-9999999px",top:"0"}),ze(l,i.innerHTML),D_(l),L_(l);const d=Er(f=s)?f:k(an(f).dom.body);var f;$(d,l);const u=Eo(l.dom.innerText);return ce(l),u})(e,n):"tree"===t.format?e.serializer.serialize(n,t):((o,i)=>{const a=Hr(o),s=new RegExp(`^(<${a}[^>]*>(&nbsp;|&#160;|\\s|\xa0|<br \\/>|)<\\/${a}>[\r\n]*|<br \\/>[\r\n]*)$`);return i.replace(s,"")})(e,e.serializer.serialize(n,t)),"text"!==t.format&&!Il(k(n))&&We(r)?Se.trim(r):r})(n,r,o));var n,r},setContent:(t,n)=>{return o=t,i=n,O.from((r=e).getBody()).map(a=>Fu(o)?((s,l,d,u)=>{Ry(s.parser.getNodeFilters(),s.parser.getAttributeFilters(),d);const f=Hs({validate:!1},s.schema).serialize(d),m=Eo(Il(k(l))?f:Se.trim(f));return jp(s,m,u.no_selection),{content:d,html:m}})(r,a,o,i):((s,l,d,u)=>{if(0===(d=Eo(d)).length||/^\s+$/.test(d)){const f='<br data-mce-bogus="1">';"TABLE"===l.nodeName?d="<tr><td>"+f+"</td></tr>":/^(UL|OL)$/.test(l.nodeName)&&(d="<li>"+f+"</li>");const m=Hr(s);return s.schema.isValidChild(l.nodeName.toLowerCase(),m.toLowerCase())?(d=f,d=s.dom.createHTML(m,Wd(s),d)):d||(d=f),jp(s,d,u.no_selection),{content:d,html:d}}{"raw"!==u.format&&(d=Hs({validate:!1},s.schema).serialize(s.parser.parse(d,{isRootContent:!0,insert:!0})));const f=Il(k(l))?d:Se.trim(d);return jp(s,f,u.no_selection),{content:f,html:f}}})(r,a,o,i)).getOr({content:o,html:Fu(i.content)?"":i.content});var r,o,i},insertContent:(t,n)=>tx(e,t,n),addVisual:t=>((n,r)=>{const o=n.dom,i=Ne(r)?r:n.getBody();de(o.select("table,a",i),a=>{switch(a.nodeName){case"TABLE":const s=e1(n),l=o.getAttrib(a,"border");l&&"0"!==l||!n.hasVisual?o.removeClass(a,s):o.addClass(a,s);break;case"A":if(!o.getAttrib(a,"href")){const d=o.getAttrib(a,"name")||a.id,u=Hv(n);d&&n.hasVisual?o.addClass(a,u):o.removeClass(a,u)}}}),n.dispatch("VisualAid",{element:r,hasVisual:n.hasVisual})})(e,t)},selection:{getContent:(t,n)=>((r,o,i={})=>{const a=(s=i,l=o,{...s,format:l,get:!0,selection:!0,getInner:!0});var s,l;return YE(r,a).fold(At,s=>{const l=((d,u)=>{if("text"===u.format)return O.from((f=d).selection.getRng()).map(m=>{var b;const g=O.from(f.dom.getParent(m.commonAncestorContainer,f.dom.isBlock)),E=f.getBody(),v=g.map(H=>H.nodeName).getOr("div").toLowerCase(),C=k(m.cloneContents());D_(C),L_(C);const w=f.dom.add(E,v,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},C.dom),A=n0(w),M=Eo(null!==(b=w.textContent)&&void 0!==b?b:"");if(f.dom.remove(w),qu(M,0)||qu(M,M.length-1)){const P=g.getOr(E),H=n0(P),K=H.indexOf(A);return-1===K?A:(qu(H,K-1)?" ":"")+A+(qu(H,K+A.length)?" ":"")}return A}).getOr("");var f;{const f=((m,b)=>{const g=m.selection.getRng(),E=m.dom.create("body"),v=m.selection.getSel(),C=dp(m,Ih(v)),w=b.contextual?((e,t,n)=>{const r=vb(t,e);return r.length>0?((e,t)=>{return(n=e,r=t[0],fr(r,"table",Re(Fe,n))).bind(n=>{const r=t[0],o=t[t.length-1],i=(a=>{const s=cm(ol(a),0,[]);return de(le(a,"tr"),(l,d)=>{de(le(l,"td,th"),(u,f)=>{((m,b,g,E,v)=>{const C=XE(v,"rowspan"),w=XE(v,"colspan"),A=m.rows;for(let M=g;M<g+C;M++){A[M]||(A[M]=GE(Gg(E),[]));for(let P=b;P<b+w;P++)A[M].cells[P]=M===g&&P===b?v:ol(v)}})(s,((m,b,g)=>{for(;Bx(m,b,g);)b++;return b})(s,f,d),d,l,u)})}),cm(s.element,JE(s.rows),s.rows)})(n);return(a=i,s=r,l=o,ZE(a,s).bind(d=>ZE(a,l).map(u=>((f,m,b)=>{const g=m.x,E=m.y,v=b.x,C=b.y,w=E<C?e0(f,g,E,v,C):e0(f,g,C,v,E);return cm(f.element,JE(w),w)})(a,d,u)))).map(a=>Gh([Fx(a)]));var a,s,l}).getOrThunk(t0);var n,r})(e,r):(o=e,a=n,(i=t).length>0&&i[0].collapsed?t0():(s=o,d=a,((u,f)=>{const m=yn(f,(b,g)=>($(g,b),g),u);return f.length>0?Gh([m]):m})(k((l=i[0]).cloneContents()),((e,t,n)=>{const r=k(t.commonAncestorContainer),o=ps(r,e),i=tt(o,l=>n.isWrapper(Nt(l))),a=(d=t,Gt(l=o,u=>"li"===Nt(u)&&Mh(u,d)).fold(Ae([]),u=>{return(f=l,Gt(f,m=>"ul"===Nt(m)||"ol"===Nt(m))).map(f=>{const m=z(Nt(f)),b=Ni(Hi(f),(g,E)=>un(E,"list-style"));return bo(m,b),[z("li"),m]}).getOr([]);var f})),s=i.concat(a.length?a:(l=>la(l)?en(l).filter(ns).fold(Ae([]),d=>[l,d]):ns(l)?[l]:[])(r));var l,d;return wt(s,ol)})(s,l,d))));var o,i,a,s,l,d})(k(m.getBody()),C,m.schema).dom:g.cloneContents();return w&&E.appendChild(w),m.selection.serializer.serialize(E,b)})(d,u);return"tree"===u.format?f:d.selection.isCollapsed()?"":f}})(r,s);return QE(r,l,s)})})(e,t,n)},autocompleter:{addDecoration:t=>((e,t)=>{if(T_(k(e.getBody())).isNone()){const r=B('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',e.getDoc());$(r,k(t.extractContents())),t.insertNode(r.dom),en(r).each(o=>o.dom.normalize()),(n=r,((o,i)=>{const a=s=>{const l=fn(s);for(let d=l.length-1;d>=0;d--){const u=l[d];if(i(u))return O.some(u);const f=a(u);if(f.isSome())return f}return O.none()};return a(o)})(n,C_)).map(o=>{var i;e.selection.setCursorLocation(o.dom,"img"===Nt(i=o)?1:Uc(i).fold(()=>fn(i).length,a=>a.length))})}var n})(e,t),removeDecoration:()=>{return t=e,n=k(e.getBody()),T_(n).each(r=>{const o=t.selection.getBookmark();Be(r),t.selection.moveToBookmark(o)});var t,n}},raw:{getModel:()=>O.none()}}),Ba=e=>nt(e.plugins,"rtc"),mm=e=>e.rtcInstance?e.rtcInstance:a0(e),Fn=e=>{const t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},s0=e=>Fn(e).init.bindEvents(),l0=e=>0===e.dom.length?(ce(e),O.none()):O.some(e),d0=(e,t,n,r,o)=>{e.bind(i=>((r?_p:Iu)(i.dom,r?i.dom.length:0,o),t.filter(In).map(a=>((s,l,d,u,f)=>{const m=s.dom,b=l.dom,g=u?m.length:b.length;u?(yp(m,b,f,!1,!u),d.setStart(b,g)):(yp(b,m,f,!1,!u),d.setEnd(b,g))})(i,a,n,r,o)))).orThunk(()=>{return(a=t,s=r,a.filter(l=>rc.isBookmarkNode(l.dom)).bind(s?Lt:Pn)).or(t).filter(In).map(a=>((s,l,d)=>{en(s).each(u=>{const f=s.dom;l&&lc(u,oe(f,0),d)?Iu(f,0,d):!l&&dc(u,oe(f,f.length),d)&&_p(f,f.length,d)})})(a,r,o));var a,s})},c0=(e,t,n)=>{if(nt(e,t)){const r=tt(e[t],o=>o!==n);0===r.length?delete e[t]:e[t]=r}},u0=e=>!(!e||!e.ownerDocument)&&Ot(k(e.ownerDocument),k(e)),f0=(e,t,n,r)=>{let o,i;const{selectorChangedWithUnbind:a}=((v,C)=>{let w,A;const M=(H,K)=>Gt(K,G=>v.is(G,H)),P=H=>v.getParents(H,void 0,v.getRoot());return{selectorChangedWithUnbind:(H,K)=>(w||(w={},A={},C.on("NodeChange",G=>{const J=G.element,ne=P(J),U={};xt(w,(Y,ee)=>{M(ee,ne).each(ue=>{A[ee]||(de(Y,Oe=>{Oe(!0,{node:ue,selector:ee,parents:ne})}),A[ee]=Y),U[ee]=Y})}),xt(A,(Y,ee)=>{U[ee]||(delete A[ee],de(Y,ue=>{ue(!1,{node:J,selector:ee,parents:ne})}))})})),w[H]||(w[H]=[]),w[H].push(K),M(H,P(C.selection.getStart())).each(()=>{A[H]=w[H]}),{unbind:()=>{c0(w,H,K),c0(A,H,K)}})}})(e,r),s=(v,C)=>((w,A,M={})=>{const P=(H=M,K=A,{format:"html",...H,set:!0,selection:!0,content:K});var H,K;lm(w,P).each(H=>{const K=((J,ne)=>{if("raw"!==ne.format){const U=J.selection.getRng(),Y=J.dom.getParent(U.commonAncestorContainer,J.dom.isBlock),ee=Y?{context:Y.nodeName.toLowerCase()}:{},ue=J.parser.parse(ne.content,{forced_root_block:!1,...ee,...ne});return Hs({validate:!1},J.schema).serialize(ue)}return ne.content})(w,H),G=w.selection.getRng();((J,ne,U)=>{const Y=O.from(ne.firstChild).map(k),ee=O.from(ne.lastChild).map(k);J.deleteContents(),J.insertNode(ne);const ue=Y.bind(Pn).filter(In).bind(l0),Oe=ee.bind(Lt).filter(In).bind(l0);d0(ue,Y,J,!0,U),d0(Oe,ee,J,!1,U),J.collapse(!1)})(G,G.createContextualFragment(K),w.schema),w.selection.setRng(G),ic(w,G),dm(w,K,H)})})(r,v,C),l=v=>{const C=u();C.collapse(!!v),f(C)},d=()=>t.getSelection?t.getSelection():t.document.selection,u=()=>{let v;const C=(A,M,P)=>{try{return M.compareBoundaryPoints(A,P)}catch{return-1}},w=t.document;if(Ne(r.bookmark)&&!pl(r)){const A=rp(r);if(A.isSome())return A.map(M=>dp(r,[M])[0]).getOr(w.createRange())}try{const A=d();A&&!Vt(A.anchorNode)&&(v=A.rangeCount>0?A.getRangeAt(0):w.createRange(),v=dp(r,[v])[0])}catch{}if(v||(v=w.createRange()),Ks(v.startContainer)&&v.collapsed){const A=e.getRoot();v.setStart(A,0),v.setEnd(A,0)}return o&&i&&(0===C(v.START_TO_START,v,o)&&0===C(v.END_TO_END,v,o)?v=i:(o=null,i=null)),v},f=(v,C)=>{if(!((A=v)&&u0(A.startContainer)&&u0(A.endContainer)))return;var A;const w=d();if(v=r.dispatch("SetSelectionRange",{range:v,forward:C}).range,w){i=v;try{w.removeAllRanges(),w.addRange(v)}catch{}!1===C&&w.extend&&(w.collapse(v.endContainer,v.endOffset),w.extend(v.startContainer,v.startOffset)),o=w.rangeCount>0?w.getRangeAt(0):null}if(!v.collapsed&&v.startContainer===v.endContainer&&w?.setBaseAndExtent&&v.endOffset-v.startOffset<2&&v.startContainer.hasChildNodes()){const A=v.startContainer.childNodes[v.startOffset];A&&"IMG"===A.nodeName&&(w.setBaseAndExtent(v.startContainer,v.startOffset,v.endContainer,v.endOffset),w.anchorNode===v.startContainer&&w.focusNode===v.endContainer||w.setBaseAndExtent(A,0,A,1))}r.dispatch("AfterSetSelectionRange",{range:v,forward:C})},m=()=>{const v=d(),C=v?.anchorNode,w=v?.focusNode;if(!v||!C||!w||Vt(C)||Vt(w))return!0;const A=e.createRng(),M=e.createRng();try{A.setStart(C,v.anchorOffset),A.collapse(!0),M.setStart(w,v.focusOffset),M.collapse(!0)}catch{return!0}return A.compareBoundaryPoints(A.START_TO_START,M)<=0},b={dom:e,win:t,serializer:n,editor:r,expand:(v={type:"word"})=>f(hl(e).expand(u(),v)),collapse:l,setCursorLocation:(v,C)=>{const w=e.createRng();Ne(v)&&Ne(C)?(w.setStart(v,C),w.setEnd(v,C),f(w),l(!1)):(Bh(e,w,r.getBody(),!0),f(w))},getContent:v=>((C,w={})=>{return M=w.format?w.format:"html",P=w,Fn(C).selection.getContent(M,P);var M,P})(r,v),setContent:s,getBookmark:(v,C)=>g.getBookmark(v,C),moveToBookmark:v=>g.moveToBookmark(v),select:(v,C)=>{return(w=e,A=v,M=C,O.from(A).bind(P=>O.from(P.parentNode).map(H=>{const K=w.nodeIndex(P),G=w.createRng();return G.setStart(H,K),G.setEnd(H,K+1),M&&(Bh(w,G,P,!0),Bh(w,G,P,!1)),G}))).each(f),v;var w,A,M},isCollapsed:()=>{const v=u(),C=d();return!(!v||v.item)&&(v.compareEndPoints?0===v.compareEndPoints("StartToEnd",v):!C||v.collapsed)},isEditable:()=>{const v=u(),C=r.getBody().querySelectorAll('[data-mce-selected="1"]');return C.length>0?jo(C,w=>e.isEditable(w.parentElement)):v_(e,v)},isForward:m,setNode:v=>(s(e.getOuterHTML(v)),v),getNode:()=>((v,C)=>{if(!C)return v;let w=C.startContainer,A=C.endContainer;const M=C.startOffset,P=C.endOffset;let H=C.commonAncestorContainer;C.collapsed||(w===A&&P-M<2&&w.hasChildNodes()&&(H=w.childNodes[M]),Ce(w)&&Ce(A)&&(w=w.length===M?E_(w.nextSibling,!0):w.parentNode,A=0===P?E_(A.previousSibling,!1):A.parentNode,w&&w===A&&(H=w)));const K=Ce(H)?H.parentNode:H;return rr(K)?K:v})(r.getBody(),u()),getSel:d,setRng:f,getRng:u,getStart:v=>__(r.getBody(),u(),v),getEnd:v=>y_(r.getBody(),u(),v),getSelectedBlocks:(v,C)=>((w,A,M,P)=>{const H=[],K=w.getRoot(),G=w.getParent(M||__(K,A,A.collapsed),w.isBlock),J=w.getParent(P||y_(K,A,A.collapsed),w.isBlock);if(G&&G!==K&&H.push(G),G&&J&&G!==J){let ne;const U=new De(G,K);for(;(ne=U.next())&&ne!==J;)w.isBlock(ne)&&H.push(ne)}return J&&G!==J&&J!==K&&H.push(J),H})(e,u(),v,C),normalize:()=>{const v=u(),C=d();if(!(Ih(C).length>1)&&Eu(r)){const w=xu(e,v);return w.each(A=>{f(A,m())}),w.getOr(v)}return v},selectorChanged:(v,C)=>(a(v,C),b),selectorChangedWithUnbind:a,getScrollContainer:()=>{let v,C=e.getRoot();for(;C&&"BODY"!==C.nodeName;){if(C.scrollHeight>C.clientHeight){v=C;break}C=C.parentNode}return v},scrollIntoView:(v,C)=>{var w;Ne(v)?((w=r).inline?lA:cA)(w,v,C):ic(r,u(),C)},placeCaretAt:(v,C)=>f(Gb(v,C,r.getDoc())),getBoundingClientRect:()=>{const v=u();return v.collapsed?oe.fromRangeStart(v).getClientRects()[0]:v.getBoundingClientRect()},destroy:()=>{t=o=i=null,E.destroy()}},g=rc(b),E=qb(b,r);return b.bookmarkManager=g,b.controlSelection=E,b},zx=(e,t,n)=>{-1===Se.inArray(t,n)&&(e.addAttributeFilter(n,(r,o)=>{let i=r.length;for(;i--;)r[i].attr(o,null)}),t.push(n))},h0=(e,t)=>{const n=((e,t)=>{const n=["data-mce-selected"],r={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},o=t&&t.dom?t.dom:Xt.DOM,i=t&&t.schema?t.schema:Ra(r),a=id(r,i);return l=r,d=o,(s=a).addAttributeFilter("data-mce-tabindex",(u,f)=>{let m=u.length;for(;m--;){const b=u[m];b.attr("tabindex",b.attr("data-mce-tabindex")),b.attr(f,null)}}),s.addAttributeFilter("src,href,style",(u,f)=>{const m="data-mce-"+f,b=l.url_converter,g=l.url_converter_scope;let E=u.length;for(;E--;){const v=u[E];let C=v.attr(m);void 0!==C?(v.attr(f,C.length>0?C:null),v.attr(m,null)):(C=v.attr(f),"style"===f?C=d.serializeStyle(d.parseStyle(C),v.name):b&&(C=b.call(g,C,f,v.name)),v.attr(f,C.length>0?C:null))}}),s.addAttributeFilter("class",u=>{let f=u.length;for(;f--;){const m=u[f];let b=m.attr("class");b&&(b=b.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),m.attr("class",b.length>0?b:null))}}),s.addAttributeFilter("data-mce-type",(u,f,m)=>{let b=u.length;for(;b--;){const g=u[b];"bookmark"===g.attr("data-mce-type")&&!m.cleanup&&(O.from(g.firstChild).exists(v=>{var C;return!Pl(null!==(C=v.value)&&void 0!==C?C:"")})?g.unwrap():g.remove())}}),s.addNodeFilter("noscript",u=>{var f;let m=u.length;for(;m--;){const b=u[m].firstChild;b&&(b.value=Oa.decode(null!==(f=b.value)&&void 0!==f?f:""))}}),s.addNodeFilter("script,style",(u,f)=>{var m;const b=E=>E.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let g=u.length;for(;g--;){const E=u[g],v=E.firstChild,C=null!==(m=v?.value)&&void 0!==m?m:"";if("script"===f){const w=E.attr("type");w&&E.attr("type","mce-no/type"===w?null:w.replace(/^mce\-/,"")),"xhtml"===l.element_format&&v&&C.length>0&&(v.value="// <![CDATA[\n"+b(C)+"\n// ]]>")}else"xhtml"===l.element_format&&v&&C.length>0&&(v.value="\x3c!--\n"+b(C)+"\n--\x3e")}}),s.addNodeFilter("#comment",u=>{let f=u.length;for(;f--;){const m=u[f],b=m.value;l.preserve_cdata&&0===b?.indexOf("[CDATA[")?(m.name="#cdata",m.type=4,m.value=d.decode(b.replace(/^\[CDATA\[|\]\]$/g,""))):0===b?.indexOf("mce:protected ")&&(m.name="#text",m.type=3,m.raw=!0,m.value=unescape(b).substr(14))}}),s.addNodeFilter("xml:namespace,input",(u,f)=>{let m=u.length;for(;m--;){const b=u[m];7===b.type?b.remove():1===b.type&&("input"!==f||b.attr("type")||b.attr("type","text"))}}),s.addAttributeFilter("data-mce-type",u=>{de(u,f=>{"format-caret"===f.attr("data-mce-type")&&(f.isEmpty(s.schema.getNonEmptyElements())?f.remove():f.unwrap())})}),s.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(u,f)=>{let m=u.length;for(;m--;)u[m].attr(f,null)}),l.remove_trailing_brs&&yE(l,s,s.schema),{schema:i,addNodeFilter:a.addNodeFilter,addAttributeFilter:a.addAttributeFilter,serialize:(s,l={})=>{const d={format:"html",...l},u=(g=s,C=E=d,Ne(v=b=t)&&v.hasEventListeners("PreProcess")&&!C.no_events?((v,C,w)=>{let A;const M=v.dom;let P=C.cloneNode(!0);const H=document.implementation;if(H.createHTMLDocument){const K=H.createHTMLDocument("");Se.each("BODY"===P.nodeName?P.childNodes:[P],G=>{K.body.appendChild(K.importNode(G,!0))}),P="BODY"!==P.nodeName?K.body.firstChild:K.body,A=M.doc,M.doc=K}return G={...w,node:P},v.dispatch("PreProcess",G),A&&(M.doc=A),P;var G})(b,g,E):g),f=((b,g,E)=>{const v=Eo(E.getInner?g.innerHTML:b.getOuterHTML(g));return E.selection||Il(k(g))?v:Se.trim(v)})(o,u,d),m=((b,g,E)=>{const v=E.selection?{forced_root_block:!1,...E}:E,C=b.parse(g,v);return(w=>{const A=P=>"br"===P?.name,M=w.lastChild;if(A(M)){const P=M.prev;A(P)&&(M.remove(),P.remove())}})(C),C})(a,f,d);var b,g,E,v,C;return"tree"===d.format?m:((b,g,E,v,C)=>{var P;return((A,M,P)=>{return!M.no_events&&A?(K=A,G={...M,content:P},K.dispatch("PostProcess",G)).content:P;var K,G})(b,C,(P=v,Hs(g,E).serialize(P)))})(t,r,i,m,d)},addRules:i.addValidElements,setRules:i.setValidElements,addTempAttr:Re(zx,a,n),getTempAttrs:Ae(n),getNodeFilters:a.getNodeFilters,getAttributeFilters:a.getAttributeFilters,removeNodeFilter:a.removeNodeFilter,removeAttributeFilter:a.removeAttributeFilter};var s,l,d})(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters,removeNodeFilter:n.removeNodeFilter,removeAttributeFilter:n.removeAttributeFilter}},gm=(e,t,n={})=>{const r=(o=n,i=t,{format:"html",...o,set:!0,content:i});var o,i;return lm(e,r).map(o=>{const i=(s=o.content,l=o,mm(e).editor.setContent(s,l));var s,l;return dm(e,i.html,o),i.content}).getOr(t)},Wx="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),Kx="template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),Yx="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),p0=[{name:"template",replacedWith:"Advanced Template"},{name:"rtc"}],m0=(e,t)=>{const n=tt(t,r=>nt(e,r));return st(n)},g0=(e,t)=>{const n=Se.makeMap(e.plugins," "),r=tt(t,o=>nt(n,o));return st(r)},Zx=e=>Gt(p0,t=>t.name===e).fold(()=>e,t=>t.replacedWith?`${e}, replaced by ${t.replacedWith}`:e),Yu=Xt.DOM,Qu=e=>O.from(e).each(t=>t.destroy()),Gu=(()=>{const e={};return{add:(t,n)=>{e[t]=n},get:t=>e[t]?e[t]:{icons:{}},has:t=>nt(e,t)}})(),ad=no.ModelManager,v0=(e,t)=>t.dom[e],b0=(e,t)=>parseInt(nr(t,e),10),eO=Re(v0,"clientWidth"),tO=Re(v0,"clientHeight"),nO=Re(b0,"margin-top"),rO=Re(b0,"margin-left"),_0=e=>{const t=[],n=()=>{const l=e.theme;return l&&l.getNotificationManagerImpl?l.getNotificationManagerImpl():(()=>{const d=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:d,close:d,getArgs:d}})()},r=()=>O.from(t[0]),o=()=>{de(t,l=>{l.reposition()})},i=l=>{vn(t,d=>d===l).each(d=>{t.splice(d,1)})},a=(l,d=!0)=>{return e.removed||!(f=(u=e).inline?u.getBody():u.getContentAreaContainer(),O.from(f).map(k)).map(Ht).getOr(!1)?{}:(d&&e.dispatch("BeforeOpenNotification",{notification:l}),Gt(t,u=>{return!((f=n().getArgs(u)).type!==(m=l).type||f.text!==m.text||f.progressBar||f.timeout||m.progressBar||m.timeout);var f,m}).getOrThunk(()=>{e.editorManager.setActive(e);const u=n().open(l,()=>{i(u),o(),g_(e)&&r().fold(()=>e.focus(),f=>d_(k(f.getEl())))});return(f=>{t.push(f)})(u),o(),e.dispatch("OpenNotification",{notification:{...u}}),u}));var u,f},s=Ae(t);return(l=e).on("SkinLoaded",()=>{const d=MN(l);d&&a({text:d,type:"warning",timeout:0},!1),o()}),l.on("show ResizeEditor ResizeWindow NodeChange",()=>{requestAnimationFrame(o)}),l.on("remove",()=>{de(t.slice(),d=>{n().close(d)})}),{open:a,close:()=>{r().each(l=>{n().close(l),i(l),o()})},getNotifications:s};var l},sd=no.PluginManager,_l=no.ThemeManager,y0=e=>{let t=[];const n=()=>{const a=e.theme;return a&&a.getWindowManagerImpl?a.getWindowManagerImpl():(()=>{const s=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:s,openUrl:s,alert:s,confirm:s,close:s}})()},r=(a,s)=>(...l)=>s?s.apply(a,l):void 0,o=a=>{e.dispatch("CloseWindow",{dialog:a}),t=tt(t,s=>s!==a),0===t.length&&e.focus()},i=a=>{e.editorManager.setActive(e),np(e),e.ui.show();const s=a();return t.push(l=s),e.dispatch("OpenWindow",{dialog:l}),s;var l};return e.on("remove",()=>{de(t,a=>{n().close(a)})}),{open:(a,s)=>i(()=>n().open(a,s,o)),openUrl:a=>i(()=>n().openUrl(a,o)),alert:(a,s,l)=>{const d=n();d.alert(a,r(l||d,s))},confirm:(a,s,l)=>{const d=n();d.confirm(a,r(l||d,s))},close:()=>{O.from(t[t.length-1]).each(a=>{n().close(a),o(a)})}}},E0=(e,t)=>{e.notificationManager.open({type:"error",text:t})},Xu=(e,t)=>{e._skinLoaded?E0(e,t):e.on("SkinLoaded",()=>{E0(e,t)})},vc=(e,t,n)=>{Fb(e,t,{message:n}),console.error(n)},bc=(e,t,n)=>n?`Failed to load ${e}: ${n} from url ${t}`:`Failed to load ${e} url: ${t}`,Ju=(e,...t)=>{const n=window.console;n&&(n.error?n.error(e,...t):n.log(e,...t))},vm=e=>"content/"+e+"/content.css",C0=(e,t)=>{const n=e.editorManager.baseURL+"/skins/content",r=`content${e.editorManager.suffix}.css`;return wt(t,o=>tinymce.Resource.has(vm(o))?o:/^[a-z0-9\-]+$/i.test(o)&&!e.inline?`${n}/${o}/${r}`:e.documentBaseURI.toAbsolute(o))},S0=()=>{let e={};const t=(r,o)=>({status:r,resultUri:o}),n=r=>r in e;return{hasBlobUri:n,getResultUri:r=>{const o=e[r];return o?o.resultUri:null},isPending:r=>!!n(r)&&1===e[r].status,isUploaded:r=>!!n(r)&&2===e[r].status,markPending:r=>{e[r]=t(1,null)},markUploaded:(r,o)=>{e[r]=t(2,o)},removeFailed:r=>{delete e[r]},destroy:()=>{e={}}}};let iO=0;const T0=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),w0=(e,t)=>((e,t)=>{const n={},r=(l,d)=>new Promise((u,f)=>{const m=new XMLHttpRequest;m.open("POST",t.url),m.withCredentials=t.credentials,m.upload.onprogress=g=>{d(g.loaded/g.total*100)},m.onerror=()=>{f("Image upload failed due to a XHR Transport error. Code: "+m.status)},m.onload=()=>{if(m.status<200||m.status>=300)return void f("HTTP Error: "+m.status);const g=JSON.parse(m.responseText);var E,v;g&&We(g.location)?u((v=g.location,(E=t.basePath)?E.replace(/\/$/,"")+"/"+v.replace(/^\//,""):v)):f("Invalid JSON: "+m.responseText)};const b=new FormData;b.append("file",l.blob(),l.filename()),m.send(b)}),o=Ft(t.handler)?t.handler:r,i=(l,d)=>({url:d,blobInfo:l,status:!0}),a=(l,d)=>({url:"",blobInfo:l,status:!1,error:d}),s=(l,d)=>{Se.each(n[l],u=>{u(d)}),delete n[l]};return{upload:(l,d)=>{return t.url||o!==r?(f=d,u=Se.grep(u=l,m=>!e.isUploaded(m.blobUri())),Promise.all(Se.map(u,m=>{return e.isPending(m.blobUri())?(b=>{const g=b.blobUri();return new Promise(E=>{n[g]=n[g]||[],n[g].push(E)})})(m):(g=o,E=f,e.markPending((b=m).blobUri()),new Promise(v=>{let C,w;try{const A=()=>{C&&(C.close(),w=Ke)},M=H=>{A(),e.markUploaded(b.blobUri(),H),s(b.blobUri(),i(b,H)),v(i(b,H))},P=H=>{A(),e.removeFailed(b.blobUri()),s(b.blobUri(),a(b,H)),v(a(b,H))};w=H=>{H<0||H>100||O.from(C).orThunk(()=>O.from(E).map(No)).each(K=>{C=K,K.progressBar.value(H)})},g(b,w).then(M,H=>{P(We(H)?{message:H}:H)})}catch(A){v(a(b,A))}}));var b,g,E}))):new Promise(u=>{u([])});var u,f}}})(t,{url:SN(e),basePath:TN(e),credentials:wN(e),handler:NN(e)}),N0={remove_similar:!0,inherit:!1},ld={selector:"td,th",...N0},lO={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...ld},tablecellverticalalign:{styles:{"vertical-align":"%value"},...ld},tablecellbordercolor:{styles:{borderColor:"%value"},...ld},tablecellclass:{classes:["%value"],...ld},tableclass:{selector:"table",classes:["%value"],...N0},tablecellborderstyle:{styles:{borderStyle:"%value"},...ld},tablecellborderwidth:{styles:{borderWidth:"%value"},...ld}},dO=Ae(lO),Zu=Se.each,gi=Xt.DOM,bm=e=>Ne(e)&&ut(e),A0=(e,t)=>{const n=t&&t.schema||Ra({}),r=a=>{const s=We(a)?{name:a,classes:[],attrs:{}}:a,l=gi.create(s.name);return d=l,(u=s).classes.length>0&&gi.addClass(d,u.classes.join(" ")),gi.setAttribs(d,u.attrs),l;var d,u},o=(a,s,l)=>{let d;const u=s[0],f=bm(u)?u.name:void 0,m=((E,v)=>{const C=n.getElementRule(E.nodeName.toLowerCase()),w=C?.parentsRequired;return!(!w||!w.length)&&(v&&Bt(w,v)?v:w[0])})(a,f);if(m)f===m?(d=u,s=s.slice(1)):d=m;else if(u)d=u,s=s.slice(1);else if(!l)return a;const b=d?r(d):gi.create("div");b.appendChild(a),l&&Se.each(l,E=>{const v=r(E);b.insertBefore(v,a)});const g=bm(d)?d.siblings:void 0;return o(b,s,g)},i=gi.create("div");if(e.length>0){const a=e[0],s=r(a),l=bm(a)?a.siblings:void 0;i.appendChild(o(s,e.slice(1),l))}return i},cO=e=>{let t="div";const n={name:t,classes:[],attrs:{},selector:e=Se.trim(e)};return"*"!==e&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(r,o,i,a,s)=>{switch(o){case"#":n.attrs.id=i;break;case".":n.classes.push(i);break;case":":-1!==Se.inArray("checked disabled enabled read-only required".split(" "),i)&&(n.attrs[i]=i)}if("["===a){const l=s.match(/([\w\-]+)(?:\=\"([^\"]+))?/);l&&(n.attrs[l[1]]=l[2])}return""})),n.name=t||"div",n},uO=(e,t)=>{let n="",r=HN(e);if(""===r)return"";const o=b=>We(b)?b.replace(/%(\w+)/g,""):"",i=(b,g)=>gi.getStyle(g??e.getBody(),b,!0);if(We(t)){const b=e.formatter.get(t);if(!b)return"";t=b[0]}if("preview"in t){const b=t.preview;if(!1===b)return"";r=b||r}let a,s=t.block||t.inline||"span";const l=We(d=t.selector)?(d=(d=d.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Se.map(d.split(/(?:>|\s+(?![^\[\]]+\]))/),b=>{const g=Se.map(b.split(/(?:~\+|~|\+)/),cO),E=g.pop();return g.length&&(E.siblings=g),E}).reverse()):[];var d;l.length>0?(l[0].name||(l[0].name=s),s=t.selector,a=A0(l,e)):a=A0([s],e);const u=gi.select(s,a)[0]||a.firstChild;Zu(t.styles,(b,g)=>{const E=o(b);E&&gi.setStyle(u,g,E)}),Zu(t.attributes,(b,g)=>{const E=o(b);E&&gi.setAttrib(u,g,E)}),Zu(t.classes,b=>{const g=o(b);gi.hasClass(u,g)||gi.addClass(u,g)}),e.dispatch("PreviewFormats"),gi.setStyles(a,{position:"absolute",left:-65535}),e.getBody().appendChild(a);const f=i("fontSize"),m=/px$/.test(f)?parseInt(f,10):0;return Zu(r.split(" "),b=>{let g=i(b,u);if(!("background-color"===b&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(g)&&(g=i(b),"#ffffff"===Z(g).toLowerCase())||"color"===b&&"#000000"===Z(g).toLowerCase())){if("font-size"===b&&/em|%$/.test(g)){if(0===m)return;g=parseFloat(g)/(/%$/.test(g)?100:1)*m+"px"}"border"===b&&g&&(n+="padding:0 2px;"),n+=b+":"+g+";"}}),e.dispatch("AfterPreviewFormats"),gi.remove(a),n},x0=e=>{const t=(r=>{const o={},i=(a,s)=>{a&&(We(a)?(zt(s)||(s=[s]),de(s,l=>{sn(l.deep)&&(l.deep=!fi(l)),sn(l.split)&&(l.split=!fi(l)||ir(l)),sn(l.remove)&&fi(l)&&!ir(l)&&(l.remove="none"),fi(l)&&ir(l)&&(l.mixed=!0,l.block_expand=!0),We(l.classes)&&(l.classes=l.classes.split(/\s+/))}),o[a]=s):xt(a,(l,d)=>{i(d,l)}))};return i((a=>{const s=a.dom,l=a.schema.type,d={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:u=>{s.setStyle(u,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:u=>{s.setStyle(u,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const u={inline:"span",styles:{textDecoration:"line-through"},exact:!0},f={inline:"strike",remove:"all",preserve_attributes:["class","style"]},m={inline:"s",remove:"all",preserve_attributes:["class","style"]};return"html4"!==l?[m,u,f]:[u,m,f]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(u,f,m)=>Le(u)&&u.hasAttribute("href"),onformat:(u,f,m)=>{Se.each(m,(b,g)=>{s.setAttrib(u,g,b)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":u=>{var f;return null!==(f=u?.customValue)&&void 0!==f?f:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Se.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),u=>{d[u]={block:u,remove:"all"}}),d})(r)),i(dO()),i(jN(r)),{get:a=>Ne(a)?o[a]:o,has:a=>nt(o,a),register:i,unregister:a=>(a&&o[a]&&delete o[a],o)}})(e),n=mr({});return(r=>{r.addShortcut("meta+b","","Bold"),r.addShortcut("meta+i","","Italic"),r.addShortcut("meta+u","","Underline");for(let o=1;o<=6;o++)r.addShortcut("access+"+o,"",["FormatBlock",!1,"h"+o]);r.addShortcut("access+7","",["FormatBlock",!1,"p"]),r.addShortcut("access+8","",["FormatBlock",!1,"div"]),r.addShortcut("access+9","",["FormatBlock",!1,"address"])})(e),(r=e).on("mouseup keydown",o=>{var i;((a,s,l)=>{const d=a.selection,u=a.getBody();Wp(a,null,l),8!==s&&46!==s||!d.isCollapsed()||d.getStart().innerHTML!==fc||Wp(a,cl(u,d.getStart()),!0),37!==s&&39!==s||Wp(a,cl(u,d.getStart()),!0)})(r,o.keyCode,(i=r.selection.getRng().endContainer,Ce(i)&&zr(i.data,hn)))}),Ba(e)||((r,o)=>{r.set({}),o.on("NodeChange",i=>{vE(o,i.element,r.get())}),o.on("FormatApply FormatRemove",i=>{const a=O.from(i.node).map(s=>tc(s)?s:s.startContainer).bind(s=>Le(s)?O.some(s):O.from(s.parentElement)).getOrThunk(()=>pE(o));vE(o,a,r.get())})})(n,e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(r,o,i)=>{var s,l,d;s=r,l=o,d=i,Fn(e).formatter.apply(s,l,d)},remove:(r,o,i,a)=>{var l,d,u,f;l=r,d=o,u=i,f=a,Fn(e).formatter.remove(l,d,u,f)},toggle:(r,o,i)=>{var s,l,d;s=r,l=o,d=i,Fn(e).formatter.toggle(s,l,d)},match:(r,o,i,a)=>{return l=r,d=o,u=i,f=a,Fn(e).formatter.match(l,d,u,f);var l,d,u,f},closest:r=>{return i=r,Fn(e).formatter.closest(i);var i},matchAll:(r,o)=>{return a=r,s=o,Fn(e).formatter.matchAll(a,s);var a,s},matchNode:(r,o,i,a)=>{return l=r,d=o,u=i,f=a,Fn(e).formatter.matchNode(l,d,u,f);var l,d,u,f},canApply:r=>{return i=r,Fn(e).formatter.canApply(i);var i},formatChanged:(r,o,i,a)=>{return l=n,d=r,u=o,f=i,m=a,Fn(e).formatter.formatChanged(l,d,u,f,m);var l,d,u,f,m},getCssText:Re(uO,e)};var r},O0=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},R0=e=>{const t=Ps(),n=mr(0),r=mr(0),o={data:[],typing:!1,beforeChange:()=>{var a,s;a=n,s=t,Fn(e).undoManager.beforeChange(a,s)},add:(i,a)=>{return l=o,d=r,u=n,f=t,m=i,b=a,Fn(e).undoManager.add(l,d,u,f,m,b);var l,d,u,f,m,b},dispatchChange:()=>{e.setDirty(!0);const i=Wu(e);i.bookmark=vh(e.selection),e.dispatch("change",{level:i,lastLevel:Wn(o.data,r.get()).getOrUndefined()})},undo:()=>{return a=o,s=n,l=r,Fn(e).undoManager.undo(a,s,l);var a,s,l},redo:()=>{return a=r,s=o.data,Fn(e).undoManager.redo(a,s);var a,s},clear:()=>{var a,s;a=o,s=r,Fn(e).undoManager.clear(a,s)},reset:()=>{var a;a=o,Fn(e).undoManager.reset(a)},hasUndo:()=>{return a=o,s=r,Fn(e).undoManager.hasUndo(a,s);var a,s},hasRedo:()=>{return a=o,s=r,Fn(e).undoManager.hasRedo(a,s);var a,s},transact:i=>{return s=o,l=n,d=i,Fn(e).undoManager.transact(s,l,d);var s,l,d},ignore:i=>{var s,l;s=n,l=i,Fn(e).undoManager.ignore(s,l)},extra:(i,a)=>{var l,d,u,f;l=o,d=r,u=i,f=a,Fn(e).undoManager.extra(l,d,u,f)}};return Ba(e)||((i,a,s)=>{const l=mr(!1),d=u=>{Ku(a,!1,s),a.add({},u)};i.on("init",()=>{a.add()}),i.on("BeforeExecCommand",u=>{O0(u.command)||(i0(a,s),a.beforeChange())}),i.on("ExecCommand",u=>{O0(u.command)||d(u)}),i.on("ObjectResizeStart cut",()=>{a.beforeChange()}),i.on("SaveContent ObjectResized blur",d),i.on("dragend",d),i.on("keyup",u=>{const f=u.keyCode;if(u.isDefaultPrevented())return;const m=Et.os.isMacOS()&&"Meta"===u.key;(f>=33&&f<=36||f>=37&&f<=40||45===f||u.ctrlKey||m)&&(d(),i.nodeChanged()),46!==f&&8!==f||i.nodeChanged(),l.get()&&a.typing&&!hm(Wu(i),a.data[0])&&(i.isDirty()||i.setDirty(!0),i.dispatch("TypingUndo"),l.set(!1),i.nodeChanged())}),i.on("keydown",u=>{const f=u.keyCode;if(!u.isDefaultPrevented()){if(!(f>=33&&f<=36||f>=37&&f<=40||45===f))return!(f<16||f>20)||224===f||91===f||a.typing||u.ctrlKey&&!u.altKey||u.metaKey?void((Et.os.isMacOS()?u.metaKey:u.ctrlKey&&!u.altKey)&&a.beforeChange()):(a.beforeChange(),Ku(a,!0,s),a.add({},u),void l.set(!0));a.typing&&d(u)}}),i.on("mousedown",u=>{a.typing&&d(u)}),i.on("input",u=>{var f,m;u.inputType&&("insertReplacementText"===u.inputType||"insertText"===(f=u).inputType&&null===f.data||"insertFromPaste"===(m=u).inputType||"insertFromDrop"===m.inputType)&&d(u)}),i.on("AddUndo Undo Redo ClearUndos",u=>{u.isDefaultPrevented()||i.nodeChanged()})})(e,o,n),(i=e).addShortcut("meta+z","","Undo"),i.addShortcut("meta+y,meta+shift+z","","Redo"),o;var i},fO=[9,27,Pe.HOME,Pe.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Pe.DOWN,Pe.UP,Pe.LEFT,Pe.RIGHT].concat(Et.browser.isFirefox()?[224]:[]),k0="data-mce-placeholder",D0=e=>"keydown"===e.type||"keyup"===e.type,L0=e=>{const t=e.keyCode;return t===Pe.BACKSPACE||t===Pe.DELETE},hO=(e,t)=>({from:e,to:t}),_m=(e,t)=>{const n=k(e),r=k(t.container());return Pu(n,r).map(o=>({block:o,position:t}))},I0=(e,t)=>Fr(t,n=>rs(n)||Yo(n.dom),n=>Fe(n,e)).filter(Un).getOr(e),P0=(e,t)=>{const n=((r,o)=>{const i=fn(r);return vn(i,a=>o.isBlock(Nt(a))).fold(Ae(i),a=>i.slice(0,a))})(e,t);return de(n,ce),n},M0=(e,t)=>{const n=ps(t,e);return Gt(n.reverse(),r=>Tn(r)).each(ce)},pO=(e,t,n,r,o)=>{if(Tn(n))return Qo(n),$r(n.dom);0===tt(ln(o),a=>!Tn(a)).length&&Tn(t)&&Vn(o,z("br"));const i=Do(n.dom,oe.before(o.dom));return de(P0(t,r),a=>{Vn(o,a)}),M0(e,t),i},mO=(e,t,n,r)=>{if(Tn(n)){if(Tn(t)){const a=Fo((s=>{const l=(d,u)=>Xr(d).fold(()=>u,f=>r.isInline(Nt(f))?l(f,u.concat(ol(f))):u);return l(s,[])})(n),(s,l)=>(te(s,l),l),Qs());fe(t),$(t,a)}return ce(n),$r(t.dom)}const o=Vi(n.dom);return de(P0(t,r),i=>{$(n,i)}),M0(e,t),o},B0=(e,t)=>{Xl(e,t.dom).bind(n=>O.from(n.getNode())).map(k).filter(ts).each(ce)},F0=(e,t,n,r)=>{return B0(!0,t),B0(!1,n),(o=t,i=n,Ot(i,o)?((a,s)=>{const l=ps(s,a);return O.from(l[l.length-1])})(i,o):O.none()).fold(Re(mO,e,t,n,r),Re(pO,e,t,n,r));var o,i},j0=(e,t,n,r,o)=>t?F0(e,r,n,o):F0(e,n,r,o),ym=(e,t)=>{const n=k(e.getBody());return(o=n.dom,i=t,a=e.selection.getRng(),a.collapsed?((s,l,d)=>{const u=_m(s,oe.fromRangeStart(d)),f=u.bind(m=>di(l,s,m.position).bind(b=>_m(s,b).map(g=>{return E=s,v=l,dn((C=g).position.getNode())&&!Tn(C.block)?Xl(!1,C.block.dom).bind(w=>w.isEqual(C.position)?di(v,E,w).bind(A=>_m(E,A)):O.some(C)).getOr(C):C;var E,v,C})));return Ln(u,f,hO).filter(m=>{return!Fe((b=m).from.block,b.to.block)&&((b,g)=>{const E=k(b);return Fe(I0(E,g.from.block),I0(E,g.to.block))})(s,m)&&(b=>!1===Wt(b.from.block.dom)&&!1===Wt(b.to.block.dom))(m)&&(b=>{const g=E=>Vc(E)||Rs(E.dom);return g(b.from.block)&&g(b.to.block)})(m);var b})})(o,i,a):O.none()).map(o=>()=>{j0(n,t,o.from.block,o.to.block,e.schema).each(i=>{e.selection.setRng(i.toRange())})});var o,i,a},H0=(e,t)=>{const n=k(t),r=Re(Fe,e);return Mn(n,rs,r).isSome()},Em=(e,t)=>e.selection.isCollapsed()?O.none():(e=>{const t=k(e.getBody());return((n,r)=>{const o=Do(n.dom,oe.fromRangeStart(r)).isNone(),i=To(n.dom,oe.fromRangeEnd(r)).isNone();return!(H0(a=n,(s=r).startContainer)||H0(a,s.endContainer))&&o&&i;var a,s})(t,e.selection.getRng())?(n=e,O.some(()=>{n.setContent(""),n.selection.setCursorLocation()})):((n,r,o)=>{const i=r.getRng();return Ln(Pu(n,k(i.startContainer)),Pu(n,k(i.endContainer)),(a,s)=>Fe(a,s)?O.none():O.some(()=>{i.deleteContents(),j0(n,!0,a,s,o).each(l=>{r.setRng(l.toRange())})})).getOr(O.none())})(t,e.selection,e.schema);var n})(e),ms=(e,t,n,r,o)=>O.from(t._selectionOverrides.showCaret(e,n,r,o)),_c=(e,t)=>e.dispatch("BeforeObjectSelected",{target:t}).isDefaultPrevented()?O.none():O.some((n=>{const r=n.ownerDocument.createRange();return r.selectNode(n),r})(t)),Cm=(e,t,n)=>t.collapsed?((r,o,i)=>{const a=Ah(1,r.getBody(),o),s=oe.fromRangeStart(a),l=s.getNode();if(Yd(l))return ms(1,r,l,!s.isAtEnd(),!1);const d=s.getNode(!0);if(Yd(d))return ms(1,r,d,!1,!1);const u=vl(r.dom.getRoot(),s.getNode());return Yd(u)?ms(1,r,u,!1,i):O.none()})(e,t,n).getOr(t):t,vO=e=>Us(e)||ac(e),bO=e=>Vs(e)||sc(e),$0=(e,t,n,r,o,i)=>{var a,s;ms(r,e,i.getNode(!o),o,!0).each(a=>{if(t.collapsed){const s=t.cloneRange();o?s.setEnd(a.startContainer,a.startOffset):s.setStart(a.endContainer,a.endOffset),s.deleteContents()}else t.deleteContents();e.selection.setRng(a)}),a=e.dom,Ce(s=n)&&0===s.data.length&&a.remove(s)},Sm=(e,t)=>((n,r)=>{const o=n.selection.getRng();if(!Ce(o.commonAncestorContainer))return O.none();const i=r?gr.Forwards:gr.Backwards,a=Ia(n.getBody()),s=Re(xh,r?a.next:a.prev),l=r?vO:bO,d=Zd(i,n.getBody(),o),u=s(d),f=u&&pi(r,u);if(!f||!vu(d,f))return O.none();if(l(f))return O.some(()=>$0(n,o,d.getNode(),i,r,f));const m=s(f);return m&&l(m)&&vu(f,m)?O.some(()=>$0(n,o,d.getNode(),i,r,m)):O.none()})(e,t),Tm=(e,t)=>{const n=e.getBody();return t?$r(n).filter(Us):Vi(n).filter(Vs)},wm=e=>{const t=e.selection.getRng();return!t.collapsed&&(Tm(e,!0).exists(n=>n.isEqual(oe.fromRangeStart(t)))||Tm(e,!1).exists(n=>n.isEqual(oe.fromRangeEnd(t))))},vi=ka([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),U0=(e,t,n,r)=>di(t,e,n).bind(o=>{return i=o.getNode(),Ne(i)&&(rs(k(i))||la(k(i)))||((a,s,l,d,u)=>{const f=m=>u.isInline(m.nodeName.toLowerCase())&&!Da(l,d,a);return tb(!s,l).fold(()=>tb(s,d).fold(Ut,f),f)})(e,t,n,o,r)?O.none():t&&Wt(o.getNode())||!t&&Wt(o.getNode(!0))?((a,s,l,d)=>{const u=d.getNode(!s);return Pu(k(a),k(l.getNode())).map(f=>Tn(f)?vi.remove(f.dom):vi.moveToElement(u)).orThunk(()=>O.some(vi.moveToElement(u)))})(e,t,n,o):t&&Vs(n)||!t&&Us(n)?O.some(vi.moveToPosition(o)):O.none();var i}),V0=(e,t)=>O.from(vl(e.getBody(),t)),z0=e=>{const t=e.dom,n=e.selection,r=vl(e.getBody(),n.getNode());if(Yo(r)&&t.isBlock(r)&&t.isEmpty(r)){const o=t.create("br",{"data-mce-bogus":"1"});t.setHTML(r,""),r.appendChild(o),n.setRng(oe.before(o).toRange())}return!0},Nm=(e,t)=>e.selection.isCollapsed()?((e,t)=>{const n=e.selection.getNode();return V0(e,n).filter(Wt).fold(()=>((r,o,i,a)=>{const s=Ah(o?1:-1,r,i),l=oe.fromRangeStart(s),d=k(r);return!o&&Vs(l)?O.some(vi.remove(l.getNode(!0))):o&&Us(l)?O.some(vi.remove(l.getNode())):!o&&Us(l)&&gp(d,l,a)?PA(d,l,a).map(u=>vi.remove(u.getNode())):o&&Vs(l)&&mp(d,l,a)?MA(d,l,a).map(u=>vi.remove(u.getNode())):(u=r,b=a,((g,E)=>{const v=E.getNode(!g),C=g?"after":"before";return Le(v)&&v.getAttribute("data-mce-caret")===C})(f=o,m=l)?(g=f,E=m.getNode(!f),qt(E)?O.none():g&&Wt(E.nextSibling)?O.some(vi.moveToElement(E.nextSibling)):!g&&Wt(E.previousSibling)?O.some(vi.moveToElement(E.previousSibling)):O.none()).orThunk(()=>U0(u,f,m,b)):U0(u,f,m,b).bind(g=>((E,v,C)=>C.fold(w=>O.some(vi.remove(w)),w=>O.some(vi.moveToElement(w)),w=>Da(v,w,E)?O.none():O.some(vi.moveToPosition(w))))(u,m,g)));var u,f,m,b,g,E})(e.getBody(),t,e.selection.getRng(),e.schema).map(r=>()=>{return r.fold((o=e,i=t,a=>(o._selectionOverrides.hideFakeCaret(),ml(o,i,k(a)),!0)),((o,i)=>a=>{const s=i?oe.before(a):oe.after(a);return o.selection.setRng(s.toRange()),!0})(e,t),(o=>i=>(o.selection.setRng(i.toRange()),!0))(e));var o,i}),()=>O.some(Ke))})(e,t):((n,r)=>{const o=n.selection.getNode();return Wt(o)&&!Ll(o)?V0(n,o.parentNode).filter(Wt).fold(()=>O.some(()=>{var i;i=k(n.getBody()),de(le(i,".mce-offscreen-selection"),ce),ml(n,r,k(n.selection.getNode())),Cp(n)}),()=>O.some(Ke)):wm(n)?O.some(()=>{py(n,n.selection.getRng(),k(n.getBody()))}):O.none()})(e,t),Am=(e,t)=>e.selection.isCollapsed()?((n,r)=>{const o=oe.fromRangeStart(n.selection.getRng());return di(r,n.getBody(),o).filter(i=>r?RA(i):kA(i)).bind(i=>Nh(r?0:-1,i)).map(i=>()=>n.selection.select(i))})(e,t):O.none(),dd=Ce,q0=e=>dd(e)&&e.data[0]===Bn,W0=e=>dd(e)&&e.data[e.data.length-1]===Bn,K0=e=>{var t;return(null!==(t=e.ownerDocument)&&void 0!==t?t:document).createTextNode(Bn)},ef=(e,t)=>e?(n=>{var r;if(dd(n.previousSibling))return W0(n.previousSibling)||n.previousSibling.appendData(Bn),n.previousSibling;if(dd(n))return q0(n)||n.insertData(0,Bn),n;{const o=K0(n);return null===(r=n.parentNode)||void 0===r||r.insertBefore(o,n),o}})(t):(n=>{var r,o;if(dd(n.nextSibling))return q0(n.nextSibling)||n.nextSibling.insertData(0,Bn),n.nextSibling;if(dd(n))return W0(n)||n.appendData(Bn),n;{const i=K0(n);return n.nextSibling?null===(r=n.parentNode)||void 0===r||r.insertBefore(i,n.nextSibling):null===(o=n.parentNode)||void 0===o||o.appendChild(i),i}})(t),yO=Re(ef,!0),EO=Re(ef,!1),Y0=(e,t)=>Ce(e.container())?ef(t,e.container()):ef(t,e.getNode()),Q0=(e,t)=>{const n=t.get();return n&&e.container()===n&&wa(n)},xm=(e,t)=>t.fold(n=>{ll(e.get());const r=yO(n);return e.set(r),O.some(oe(r,r.length-1))},n=>$r(n).map(r=>{if(Q0(r,e)){const o=e.get();return oe(o,1)}{ll(e.get());const o=Y0(r,!0);return e.set(o),oe(o,1)}}),n=>Vi(n).map(r=>{if(Q0(r,e)){const o=e.get();return oe(o,o.length-1)}{ll(e.get());const o=Y0(r,!1);return e.set(o),oe(o,o.length-1)}}),n=>{ll(e.get());const r=EO(n);return e.set(r),O.some(oe(r,1))}),G0=(e,t)=>{for(let n=0;n<e.length;n++){const r=e[n].apply(null,t);if(r.isSome())return r}return O.none()},oo=ka([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),X0=(e,t)=>Fs(t,e)||e,CO=(e,t,n)=>{const r=dy(n),o=X0(t,r.container());return zs(e,o,r).fold(()=>To(o,r).bind(Re(zs,e,o)).map(i=>oo.before(i)),O.none)},SO=(e,t)=>null===cl(e,t),J0=(e,t,n)=>zs(e,t,n).filter(Re(SO,t)),TO=(e,t,n)=>{const r=cy(n);return J0(e,t,r).bind(o=>Do(o,r).isNone()?O.some(oo.start(o)):O.none())},wO=(e,t,n)=>{const r=dy(n);return J0(e,t,r).bind(o=>To(o,r).isNone()?O.some(oo.end(o)):O.none())},NO=(e,t,n)=>{const r=cy(n),o=X0(t,r.container());return zs(e,o,r).fold(()=>Do(o,r).bind(Re(zs,e,o)).map(i=>oo.after(i)),O.none)},Z0=e=>!ly(Om(e)),Fa=(e,t,n)=>G0([CO,TO,wO,NO],[e,t,n]).filter(Z0),Om=e=>e.fold(At,At,At,At),eC=e=>e.fold(Ae("before"),Ae("start"),Ae("end"),Ae("after")),tf=e=>e.fold(oo.before,oo.before,oo.after,oo.after),Rm=e=>e.fold(oo.start,oo.start,oo.end,oo.end),AO=(e,t,n,r,o,i)=>Ln(zs(t,n,r),zs(t,n,o),(a,s)=>a!==s&&((l,d,u)=>{const f=Fs(d,l),m=Fs(u,l);return Ne(f)&&f===m})(n,a,s)?oo.after(e?a:s):i).getOr(i),xO=(e,t)=>e.fold(tn,n=>{return o=t,!(eC(r=n)===eC(o)&&Om(r)===Om(o));var r,o}),OO=(e,t)=>e?t.fold(Ur(O.some,oo.start),O.none,Ur(O.some,oo.after),O.none):t.fold(O.none,Ur(O.some,oo.before),O.none,Ur(O.some,oo.end)),tC=(e,t,n)=>{const r=e?1:-1;return t.setRng(oe(n.container(),n.offset()+r).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0};var ja;!function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"}(ja||(ja={}));const nf=(e,t)=>e===gr.Backwards?br(t):t,RO=(e,t,n)=>e===gr.Forwards?t.next(n):t.prev(n),kO=(e,t,n,r)=>dn(r.getNode(t===gr.Forwards))?ja.Br:!1===Da(n,r)?ja.Block:ja.Wrap,nC=(e,t,n,r)=>{const o=Ia(n);let i=r;const a=[];for(;i;){const s=RO(t,o,i);if(!s)break;if(dn(s.getNode(!1)))return t===gr.Forwards?{positions:nf(t,a).concat([s]),breakType:ja.Br,breakAt:O.some(s)}:{positions:nf(t,a),breakType:ja.Br,breakAt:O.some(s)};if(s.isVisible()){if(e(i,s)){const l=kO(0,t,i,s);return{positions:nf(t,a),breakType:l,breakAt:O.some(s)}}a.push(s),i=s}else i=s}return{positions:nf(t,a),breakType:ja.Eol,breakAt:O.none()}},rC=(e,t,n,r)=>t(n,r).breakAt.map(o=>{const i=t(n,o).positions;return e===gr.Backwards?i.concat(o):[o].concat(i)}).getOr([]),km=(e,t)=>yn(e,(n,r)=>n.fold(()=>O.some(r),o=>Ln(En(o.getClientRects()),En(r.getClientRects()),(i,a)=>{const s=Math.abs(t-i.left);return Math.abs(t-a.left)<=s?r:o}).or(n)),O.none()),rf=(e,t)=>En(t.getClientRects()).bind(n=>km(e,n.left)),yc=Re(nC,oe.isAbove,-1),Ec=Re(nC,oe.isBelow,1),oC=Re(rC,-1,yc),iC=Re(rC,1,Ec),aC=(e,t)=>yc(e,t).breakAt.isNone(),sC=(e,t)=>Ec(e,t).breakAt.isNone(),DO=(e,t)=>rf(oC(e,t),t),LO=(e,t)=>rf(iC(e,t),t),IO=Wt,lC=(e,t)=>Math.abs(e.left-t),dC=(e,t)=>Math.abs(e.right-t),cC=(e,t)=>Gi(e,(n,r)=>{const o=Math.min(lC(n,t),dC(n,t)),i=Math.min(lC(r,t),dC(r,t));return i===o&&$o(r,"node")&&IO(r.node)||i<o?r:n}),PO=e=>{const t=n=>wt(n,r=>{const o=al(r);return o.node=e,o});if(Le(e))return t(e.getClientRects());if(Ce(e)){const n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}return[]},uC=e=>vr(e,PO);var Cc;!function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"}(Cc||(Cc={}));const fC=(e,t,n,r,o,i)=>{let a=0;const s=[],l=f=>{let m=uC([f]);-1===e&&(m=m.reverse());for(let b=0;b<m.length;b++){const g=m[b];if(!n(g,d)){if(s.length>0&&t(g,Nn(s))&&a++,g.line=a,o(g))return!0;s.push(g)}}return!1},d=Nn(i.getClientRects());if(!d)return s;const u=i.getNode();return u&&(l(u),((f,m,b,g)=>{let E=g;for(;E=Gd(E,f,Gs,m);)if(b(E))return})(e,r,l,u)),s},MO=Re(fC,Cc.Up,Ud,Vd),BO=Re(fC,Cc.Down,Vd,Ud),hC=e=>Nn(e.getClientRects()),pC=e=>t=>t.line>e,Dm=e=>t=>t.line===e,gs=(e,t)=>{e.selection.setRng(t),ic(e,e.selection.getRng())},Lm=(e,t,n)=>O.some(Cm(e,t,n)),mC=(e,t,n,r,o,i)=>{const a=t===gr.Forwards,s=Ia(e.getBody()),l=Re(xh,a?s.next:s.prev),d=a?r:o;if(!n.collapsed){const g=du(n);if(i(g))return ms(t,e,g,t===gr.Backwards,!1);if(wm(e)){const E=n.cloneRange();return E.collapse(t===gr.Backwards),O.from(E)}}const u=Zd(t,e.getBody(),n);if(d(u))return _c(e,u.getNode(!a));let f=l(u);const m=zc(n);if(!f)return m?O.some(n):O.none();if(f=pi(a,f),d(f))return ms(t,e,f.getNode(!a),a,!1);const b=l(f);return b&&d(b)&&vu(f,b)?ms(t,e,b.getNode(!a),a,!1):m?Lm(e,f.toRange(),!1):O.none()},gC=(e,t,n,r,o,i)=>{const a=Zd(t,e.getBody(),n),s=Nn(a.getClientRects()),l=t===Cc.Down,d=e.getBody();if(!s)return O.none();if(wm(e)){const E=l?oe.fromRangeEnd(n):oe.fromRangeStart(n);return(l?LO:DO)(d,E).orThunk(()=>O.from(E)).map(v=>v.toRange())}const u=(l?BO:MO)(d,pC(1),a),f=tt(u,Dm(1)),m=s.left,b=cC(f,m);if(b&&i(b.node)){const E=Math.abs(m-b.left),v=Math.abs(m-b.right);return ms(t,e,b.node,E<v,!1)}let g;if(g=r(a)?a.getNode():o(a)?a.getNode(!0):du(n),g){const E=((C,w,A,M)=>{const P=Ia(w);let H,K,G,J;const ne=[];let U=0;1===C?(H=P.next,K=Vd,G=Ud,J=oe.after(M)):(H=P.prev,K=Ud,G=Vd,J=oe.before(M));const Y=hC(J);do{if(!J.isVisible())continue;const ee=hC(J);if(G(ee,Y))continue;ne.length>0&&K(ee,Nn(ne))&&U++;const ue=al(ee);if(ue.position=J,ue.line=U,A(ue))return ne;ne.push(ue)}while(J=H(J));return ne})(t,d,pC(1),g);let v=cC(tt(E,Dm(1)),m);if(v||(v=Nn(tt(E,Dm(0))),v))return Lm(e,v.position.toRange(),!1)}return 0===f.length?Im(e,l).filter(l?o:r).map(E=>Cm(e,E.toRange(),!1)):O.none()},Im=(e,t)=>{const n=e.selection.getRng(),r=t?oe.fromRangeEnd(n):oe.fromRangeStart(n),o=(i=r.container(),a=e.getBody(),Mn(k(i),s=>M1(s.dom),s=>s.dom===a).map(s=>s.dom).getOr(a));var i,a;if(t){const s=Ec(o,r);return Zo(s.positions)}{const s=yc(o,r);return En(s.positions)}},vC=(e,t,n)=>Im(e,t).filter(n).exists(r=>(e.selection.setRng(r.toRange()),!0)),of=(e,t)=>{const n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},bC=(e,t)=>{e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},_C=(e,t,n)=>xm(t,n).map(r=>(of(e,r),n)),yC=(e,t,n)=>!!Kd(e)&&((e,t,n)=>{const r=e.getBody(),o=((i,a,s)=>{const l=oe.fromRangeStart(i);if(i.collapsed)return l;{const d=oe.fromRangeEnd(i);return s?Do(a,d).getOr(d):To(a,l).getOr(l)}})(e.selection.getRng(),r,n);return((i,a,s,l)=>{const d=pi(i,l),u=Fa(a,s,d);return Fa(a,s,d).bind(Re(OO,i)).orThunk(()=>((f,m,b,g,E)=>{const v=pi(f,E);return di(f,b,v).map(Re(pi,f)).fold(()=>g.map(tf),C=>Fa(m,b,C).map(Re(AO,f,m,b,v,C)).filter(Re(xO,g))).filter(Z0)})(i,a,s,u,l))})(n,Re(gl,e),r,o).bind(i=>_C(e,t,i))})(e,t,n).isSome(),EC=(e,t,n)=>!!Kd(t)&&((r,o)=>{const i=o.selection.getRng(),a=r?oe.fromRangeEnd(i):oe.fromRangeStart(i);return!!Ft(o.selection.getSel().modify)&&(r&&Sd(a)?tC(!0,o.selection,a):!(r||!Os(a))&&tC(!1,o.selection,a))})(e,t),HO=Re(EC,!0),$O=Re(EC,!1),af=(e,t,n)=>{if(Kd(e)){const r=Im(e,t).getOrThunk(()=>{const o=e.selection.getRng();return t?oe.fromRangeEnd(o):oe.fromRangeStart(o)});return Fa(Re(gl,e),e.getBody(),r).exists(o=>{const i=tf(o);return xm(n,i).exists(a=>(of(e,a),!0))})}return!1},CC=(e,t)=>n=>xm(t,n).map(r=>()=>of(e,r)),SC=(e,t,n,r)=>{const o=e.getBody(),i=Re(gl,e);e.undoManager.ignore(()=>{e.selection.setRng(((a,s)=>{const l=document.createRange();return l.setStart(a.container(),a.offset()),l.setEnd(s.container(),s.offset()),l})(n,r)),Ep(e),Fa(i,o,oe.fromRangeStart(e.selection.getRng())).map(Rm).bind(CC(e,t)).each(wr)}),e.nodeChanged()},Pm=(e,t,n)=>{if(e.selection.isCollapsed()&&Kd(e)){const r=oe.fromRangeStart(e.selection.getRng());return((o,i,a,s)=>{const l=(f=o.getBody(),m=s.container(),Fs(m,f)||f),d=Re(gl,o),u=Fa(d,l,s);var f,m;return u.bind(f=>a?f.fold(Ae(O.some(Rm(f))),O.none,Ae(O.some(tf(f))),O.none):f.fold(O.none,Ae(O.some(tf(f))),O.none,Ae(O.some(Rm(f))))).map(CC(o,i)).getOrThunk(()=>{const f=Gl(a,l,s),m=f.bind(b=>Fa(d,l,b));return Ln(u,m,()=>zs(d,l,s).bind(b=>{return Ln($r(g=b),Vi(g),(E,v)=>{const C=pi(!0,E),w=pi(!1,v);return To(g,C).forall(A=>A.isEqual(w))}).getOr(!0)?O.some(()=>{ml(o,a,k(b))}):O.none();var g})).getOrThunk(()=>m.bind(()=>f.map(b=>()=>{a?SC(o,i,s,b):SC(o,i,b,s)})))})})(e,t,n,r)}return O.none()},TC=(e,t)=>{const n=k(e.getBody()),r=k(e.selection.getStart()),o=ps(r,n);return vn(o,t).fold(Ae(o),i=>o.slice(0,i))},UO=e=>1===tr(e),wC=(e,t)=>{const n=Re($y,e);return vr(t,r=>n(r)?[r.dom]:[])},NC=e=>{const t=TC(n=e,r=>n.schema.isBlock(Nt(r)));var n;return wC(e,t)},AC=(e,t)=>{const n=e.selection.getStart(),r=((o,i)=>{const a=i.parentElement;return dn(i)&&!ye(a)&&o.dom.isEmpty(a)})(e,n)||Wh(k(n))?Hy(n,t):((o,i)=>{const{caretContainer:a,caretPosition:s}=jy(i);return o.insertNode(a.dom),s})(e.selection.getRng(),t);e.selection.setRng(r.toRange())},xC=e=>Ce(e.startContainer),Mm=(e,t)=>e.selection.isCollapsed()?((e,t)=>{const n=tt(TC(r=e,o=>r.schema.isBlock(Nt(o))||tr(o)>1),UO);var r;return Zo(n).bind(r=>{const o=oe.fromRangeStart(e.selection.getRng());return fy(t,o,r.dom)&&!Wh(r)?O.some(()=>((i,a,s,l)=>{const d=wC(a,l);if(0===d.length)ml(a,i,s);else{const u=Hy(s.dom,d);a.selection.setRng(u.toRange())}})(t,e,r,n)):O.none()})})(e,t):(n=>{if((e=>{const t=e.selection.getRng();return 0===(n=t).startOffset&&xC(n)&&((n,r)=>{const o=r.startContainer.parentElement;return!ye(o)&&$y(n,k(o))})(e,t)&&(n=>{return(o=>{const i=o.startContainer.parentNode,a=o.endContainer.parentNode;return!ye(i)&&!ye(a)&&i.isEqualNode(a)})(r=n)&&(o=>{const i=o.endContainer;return o.endOffset===(Ce(i)?i.length:i.childNodes.length)})(r)||(r=>!r.endContainer.isEqualNode(r.commonAncestorContainer))(n);var r})(t);var n})(n)){const r=NC(n);return O.some(()=>{Ep(n),((o,i)=>{const a=Ho(i,NC(o));a.length>0&&AC(o,a)})(n,r)})}return O.none()})(e),Sc=e=>((t=>{const n=t.selection.getRng();return n.collapsed&&(xC(n)||t.dom.isEmpty(n.startContainer))&&!((e,t)=>Mn(e,n=>ci(n.dom),n=>t.isBlock(Nt(n))).isSome())(k((r=t).selection.getStart()),r.schema);var r})(e)&&AC(e,[]),!0),Bm=(e,t,n)=>Ne(n)?O.some(()=>{e._selectionOverrides.hideFakeCaret(),ml(e,t,k(n))}):O.none(),Fm=(e,t)=>e.selection.isCollapsed()?((n,r)=>{const o=r?ac:sc,a=Zd(r?gr.Forwards:gr.Backwards,n.getBody(),n.selection.getRng());return o(a)?Bm(n,r,a.getNode(!r)):O.from(pi(r,a)).filter(s=>o(s)&&vu(a,s)).bind(s=>Bm(n,r,s.getNode(!r)))})(e,t):((n,r)=>{const o=n.selection.getNode();return Ui(o)?Bm(n,r,o):O.none()})(e,t),jm=e=>uo(e??"").getOr(0),OC=(e,t)=>(e||"table"===Nt(t)?"margin":"padding")+("rtl"===nr(t,"direction")?"-right":"-left"),RC=e=>{const t=DC(e);return!e.mode.isReadOnly()&&(t.length>1||(n=e,jo(t,o=>{const i=OC(Iv(n),o),a=Ro(o,i).map(jm).getOr(0);return"false"!==n.dom.getContentEditable(o.dom)&&a>0})));var n},kC=e=>ns(e)||la(e),DC=e=>tt(Ge(e.selection.getSelectedBlocks()),t=>!kC(t)&&!en(t).exists(kC)&&Fr(t,n=>Yo(n.dom)||Wt(n.dom)).exists(n=>Yo(n.dom))),LC=(e,t)=>{var n,r;const{dom:o}=e,i=ON(e),a=null!==(r=null===(n=/[a-z%]+$/i.exec(i))||void 0===n?void 0:n[0])&&void 0!==r?r:"px",s=jm(i),l=Iv(e);de(DC(e),d=>{((u,f,m,b,g,E)=>{const v=OC(m,k(E)),C=jm(u.getStyle(E,v));if("outdent"===f){const w=Math.max(0,C-b);u.setStyle(E,v,w?w+g:"")}else u.setStyle(E,v,C+b+g)})(o,t,l,s,a,d.dom)})},IC=e=>LC(e,"outdent"),PC=e=>{if(e.selection.isCollapsed()&&RC(e)){const t=e.dom,n=e.selection.getRng(),r=oe.fromRangeStart(n),o=t.getParent(n.startContainer,t.isBlock);if(null!==o&&pp(k(o),r,e.schema))return O.some(()=>IC(e))}return O.none()},MC=(e,t,n)=>ei([PC,Nm,Sm,(r,o)=>Pm(r,t,o),ym,Rp,Am,Fm,Em,Mm],r=>r(e,n)).filter(r=>e.selection.isEditable()),BC=e=>void 0===e.touches||1!==e.touches.length?O.none():O.some(e.touches[0]),Hm=(e,t)=>nt(e,t.nodeName),KO=(e,t)=>!!Ce(t)||!!Le(t)&&!(Hm(e.getBlockElements(),t)||ui(t)||ss(e,t)||Xs(t)),YO=(e,t)=>{if(Ce(t)){if(0===t.data.length)return!0;if(/^\s+$/.test(t.data))return!t.nextSibling||Hm(e,t.nextSibling)||Xs(t.nextSibling)}return!1},FC=e=>e.dom.create(Hr(e),Wd(e)),QO=e=>{const t=e.dom,n=e.selection,r=e.schema,o=r.getBlockElements(),i=n.getStart(),a=e.getBody();let s,l,d=!1;const u=Hr(e);if(!i||!Le(i))return;const f=a.nodeName.toLowerCase();if(!r.isValidChild(f,u.toLowerCase())||(A=o,M=a,Zt(V_(k(i),k(M)),H=>Hm(A,H.dom))))return;var A,M;const m=n.getRng(),{startContainer:b,startOffset:g,endContainer:E,endOffset:v}=m,C=pl(e);let w=a.firstChild;for(;w;)if(Le(w)&&nh(r,w),KO(r,w)){if(YO(o,w)){l=w,w=w.nextSibling,t.remove(l);continue}s||(s=FC(e),a.insertBefore(s,w),d=!0),l=w,w=w.nextSibling,s.appendChild(l)}else s=null,w=w.nextSibling;d&&C&&(m.setStart(b,g),m.setEnd(E,v),n.setRng(m),e.nodeChanged())},jC=(e,t,n)=>{const r=k(FC(e)),o=Qs();$(r,o),n(t,r);const i=document.createRange();return i.setStartBefore(o.dom),i.setEndBefore(o.dom),i},HC=e=>t=>-1!==(" "+t.attr("class")+" ").indexOf(e),GO=(e,t,n)=>function(r){const o=arguments,i=o[o.length-2],a=i>0?t.charAt(i-1):"";if('"'===a)return r;if(">"===a){const s=t.lastIndexOf("<",i);if(-1!==s&&-1!==t.substring(s,i).indexOf('contenteditable="false"'))return r}return'<span class="'+n+'" data-mce-content="'+e.dom.encode(o[0])+'">'+e.dom.encode("string"==typeof o[1]?o[1]:o[0])+"</span>"},$C=(e,t)=>{t.hasAttribute("data-mce-caret")&&(Bl(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},XO=(e,t)=>{const n=Fi(k(e.getBody()),"*[data-mce-caret]").map(o=>o.dom).getOrNull();if(n)return"compositionstart"===t.type?(t.preventDefault(),t.stopPropagation(),void $C(e,n)):void(os(n)&&($C(e,n),e.undoManager.add()))},UC=Wt,VC=(e,t,n)=>{const r=Ia(e.getBody()),o=Re(xh,1===t?r.next:r.prev);if(n.collapsed){const i=e.dom.getParent(n.startContainer,"PRE");if(!i)return;if(!o(oe.fromRangeStart(n))){const a=k((s=>{const l=s.dom.create(Hr(s));return l.innerHTML='<br data-mce-bogus="1">',l})(e));1===t?hr(k(i),a):Vn(k(i),a),e.selection.select(a.dom,!0),e.selection.collapse()}}},zC=(e,t)=>((n,r)=>{const o=r?gr.Forwards:gr.Backwards,i=n.selection.getRng();return(a=o,s=n,l=i,mC(s,a,l,Us,Vs,UC)).orThunk(()=>(VC(n,o,i),O.none()));var a,s,l})(e,((n,r)=>{const o=r?n.getEnd(!0):n.getStart(!0);return ly(o)?!r:r})(e.selection,t)).exists(n=>(gs(e,n),!0)),qC=(e,t)=>((n,r)=>{const o=r?1:-1,i=n.selection.getRng();return(a=o,s=n,l=i,gC(s,a,l,d=>Us(d)||$_(d),d=>Vs(d)||U_(d),UC)).orThunk(()=>(VC(n,o,i),O.none()));var a,s,l})(e,t).exists(n=>(gs(e,n),!0)),WC=(e,t)=>vC(e,t,t?Vs:Us),sf=(e,t)=>Tm(e,!t).map(n=>{const r=n.toRange(),o=e.selection.getRng();return t?r.setStart(o.startContainer,o.startOffset):r.setEnd(o.endContainer,o.endOffset),r}).exists(n=>(gs(e,n),!0)),JO=e=>Bt(["figcaption"],Nt(e)),KC=(e,t)=>!!e.selection.isCollapsed()&&((n,r)=>{const o=k(n.getBody()),i=oe.fromRangeStart(n.selection.getRng());return((a,s,l)=>{const d=Re(Fe,s);return Fr(k(a.container()),u=>l.isBlock(Nt(u)),d).filter(JO)})(i,o,n.schema).exists(()=>{if(a=o,l=i,r?sC(a.dom,l):aC(a.dom,l)){const a=jC(n,o,r?$:_o);return n.selection.setRng(a),!0}var a,l;return!1})})(e,t),YC=(e,t)=>{return n=e,t?O.from(n.dom.getParent(n.selection.getNode(),"details")).map(o=>((i,a)=>{const s=i.selection.getRng(),l=oe.fromRangeStart(s);return!(i.getBody().lastChild!==a||!sC(a,l)||(i.execCommand("InsertNewBlockAfter"),0))})(n,o)).getOr(!1):O.from(n.dom.getParent(n.selection.getNode(),"summary")).bind(o=>O.from(n.dom.getParent(o,"details")).map(i=>((a,s,l)=>{const d=a.selection.getRng(),u=oe.fromRangeStart(d);return!(a.getBody().firstChild!==s||!aC(l,u)||(a.execCommand("InsertNewBlockBefore"),0))})(n,i,o))).getOr(!1);var n},QC={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},GC=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,it=(e,...t)=>()=>e.apply(null,t),Tc=(e,t)=>{return Gt((r=t,vr(wt(e,i=>({...QC,...i})),o=>GC(o,r)?[o]:[])),n=>n.action());var r},XC=(e,t)=>{return ei((r=t,vr(wt(e,i=>({...QC,...i})),o=>GC(o,r)?[o]:[])),n=>n.action());var r},JC=(e,t)=>{const n=t?gr.Forwards:gr.Backwards,r=e.selection.getRng();return mC(e,n,r,ac,sc,Ui).exists(o=>(gs(e,o),!0))},ZC=(e,t)=>{const n=t?1:-1,r=e.selection.getRng();return gC(e,n,r,ac,sc,Ui).exists(o=>(gs(e,o),!0))},eS=(e,t)=>vC(e,t,t?sc:ac),tS=ka([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),wc={...tS,none:e=>tS.none(e)},nS=(e,t,n)=>vr(fn(e),r=>ae(r,t)?n(r)?[r]:[]:nS(r,t,n)),rS=(e,t)=>Rr(e,"table",t),$m=(e,t,n,r,o=tn)=>{const i=1===r;if(!i&&n<=0)return wc.first(e[0]);if(i&&n>=e.length-1)return wc.last(e[e.length-1]);{const a=n+r,s=e[a];return o(s)?wc.middle(t,s):$m(e,t,a,r,o)}},oS=(e,t)=>rS(e,t).bind(n=>{const r=nS(n,"th,td",tn);return vn(r,o=>Fe(e,o)).map(o=>({index:o,all:r}))}),iS=(e,t,n,r,o)=>{const i=le(k(n),"td,th,caption").map(s=>s.dom);var s;return((s,l,d)=>yn(s,(u,f)=>u.fold(()=>O.some(f),m=>{const b=Math.sqrt(Math.abs(m.x-l)+Math.abs(m.y-d)),g=Math.sqrt(Math.abs(f.x-l)+Math.abs(f.y-d));return O.some(g<b?f:m)}),O.none()))(tt((s=e,vr(i,d=>{const u={left:(f=al(d.getBoundingClientRect())).left- -1,top:f.top- -1,right:f.right+-2,bottom:f.bottom+-2,width:f.width+-1,height:f.height+-1};var f;return[{x:u.left,y:s(u),cell:d},{x:u.right,y:s(u),cell:d}]})),s=>t(s,o)),r,o).map(s=>s.cell)},ZO=Re(iS,e=>e.bottom,(e,t)=>e.y<t),eR=Re(iS,e=>e.top,(e,t)=>e.y>t),aS=(e,t,n)=>{const r=e(t,n);return(o=r).breakType===ja.Wrap&&0===o.positions.length||!dn(n.getNode())&&(o=>o.breakType===ja.Br&&1===o.positions.length)(r)?!((o,i,a)=>a.breakAt.exists(s=>o(i,s).breakAt.isSome()))(e,t,r):r.breakAt.isNone();var o},tR=Re(aS,yc),nR=Re(aS,Ec),rR=(e,t,n,r)=>{const o=e.selection.getRng(),i=t?1:-1;return!(!Qv()||!((a,s,l)=>{const d=oe.fromRangeStart(s);return Xl(!a,l).exists(u=>u.isEqual(d))})(t,o,n)||(ms(i,e,n,!t,!1).each(a=>{gs(e,a)}),0))},sS=(e,t,n)=>{const r=((i,a)=>{const s=a.getNode(i);return $i(s)?O.some(s):O.none()})(!!t,n),o=!1===t;r.fold(()=>gs(e,n.toRange()),i=>Xl(o,e.getBody()).filter(a=>a.isEqual(n)).fold(()=>gs(e,n.toRange()),a=>{return s=t,d=i,void(l=e).undoManager.transact(()=>{const u=s?hr:Vn,f=jC(l,k(d),u);gs(l,f)});var s,l,d}))},oR=(e,t,n,r)=>{const o=e.selection.getRng(),i=oe.fromRangeStart(o),a=e.getBody();if(!t&&tR(r,i)){const s=(l=a,(f=d=n,m=u=i,En(m.getClientRects()).bind(b=>ZO(f,b.left,b.top)).bind(b=>{return rf(Vi(g=b).map(E=>yc(g,E).positions.concat(E)).getOr([]),m);var g})).orThunk(()=>En(u.getClientRects()).bind(f=>km(oC(l,oe.before(d)),f.left))).getOr(oe.before(d)));return sS(e,t,s),!0}var l,d,u,f,m;if(t&&nR(r,i)){const s=((l,d,u)=>((f,m)=>Zo(m.getClientRects()).bind(b=>eR(f,b.left,b.top)).bind(b=>{return rf($r(g=b).map(E=>[E].concat(Ec(g,E).positions)).getOr([]),m);var g}))(d,u).orThunk(()=>En(u.getClientRects()).bind(f=>km(iC(l,oe.after(d)),f.left))).getOr(oe.after(d)))(a,n,i);return sS(e,t,s),!0}return!1},lS=(e,t,n)=>O.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(r=>O.from(e.dom.getParent(r,"table")).map(o=>n(e,t,o,r))).getOr(!1),dS=(e,t)=>lS(e,t,rR),Um=(e,t)=>lS(e,t,oR),cS=(e,t,n)=>n.fold(O.none,O.none,(r,o)=>{return(i=o,oa(i,C_)).map(a=>{return(e=>{const t=nd.getWin(e).dom,n=(o,i,a,s)=>Yh(t,o,i,a,s),r=e.match({domRange:i=>{const a=k(i.startContainer),s=k(i.endContainer);return Qb(a,i.startOffset,s,i.endOffset)},relative:Z1,exact:Qb});return((o,i)=>{var s;return((s,l)=>{const d=l.ltr();return d.collapsed?l.rtl().filter(u=>!1===u.collapsed).map(u=>oc.rtl(k(u.endContainer),u.endOffset,k(u.startContainer),u.startOffset)).getOrThunk(()=>Kb(0,oc.ltr,d)):Kb(0,oc.ltr,d)})(0,(s=o,i.match({domRange:d=>({ltr:Ae(d),rtl:O.none}),relative:(d,u)=>({ltr:Ar(()=>Wb(s,d,u)),rtl:Ar(()=>O.some(Wb(s,u,d)))}),exact:(d,u,f,m)=>({ltr:Ar(()=>Yh(s,d,u,f,m)),rtl:Ar(()=>O.some(Yh(s,f,m,d,u)))})})))})(t,r).match({ltr:n,rtl:n})})(nd.exact(s=a,0,s,0));var s});var i},r=>(e.execCommand("mceTableInsertRowAfter"),uS(e,t,r))),uS=(e,t,n)=>{return cS(e,t,(o=eo,oS(r=n,void 0).fold(()=>wc.none(r),i=>$m(i.all,r,i.index,1,o))));var r,o},iR=(e,t,n)=>{return cS(e,t,(o=eo,oS(r=n,void 0).fold(()=>wc.none(),i=>$m(i.all,r,i.index,-1,o))));var r,o},fS=(e,t)=>{const n=["table","li","dl"],r=k(e.getBody()),o=a=>{const s=Nt(a);return Fe(a,r)||Bt(n,s)},i=e.selection.getRng();return(a=k(t?i.endContainer:i.startContainer),s=o,((l,d,u=Ut)=>u(d)?O.none():Bt(l,Nt(d))?O.some(d):fr(d,l.join(","),f=>ae(f,"table")||u(f)))(["td","th"],a,s)).map(a=>(rS(a,o).each(s=>{e.model.table.clearSelectedCells(s.dom)}),e.selection.collapse(!t),(t?uS:iR)(e,o,a).each(s=>{e.selection.setRng(s)}),!0)).getOr(!1);var a,s},ha=(e,t)=>({container:e,offset:t}),lf=Xt.DOM,df=e=>t=>e===t?-1:0,Vm=(e,t,n)=>{if(Ce(e)&&t>=0)return O.some(ha(e,t));{const r=il(lf);return O.from(r.backwards(e,t,df(e),n)).map(o=>ha(o.container,o.container.data.length))}},zm=(e,t,n)=>{if(!Ce(e))return O.none();if(t>=0&&t<=e.data.length)return O.some(ha(e,t));{const o=il(lf);return O.from(o.backwards(e,t,df(e),n)).bind(i=>zm(i.container,t+i.container.data.length,n))}},hS=(e,t,n)=>{if(!Ce(e))return O.none();const r=e.data;if(t<=r.length)return O.some(ha(e,t));{const o=il(lf);return O.from(o.forwards(e,t,df(e),n)).bind(i=>hS(i.container,t-r.length,n))}},qm=(e,t,n,r,o)=>{const i=il(e,(a=e,s=>a.isBlock(s)||Bt(["BR","IMG","HR","INPUT"],s.nodeName)||"false"===a.getContentEditable(s)));var a;return O.from(i.backwards(t,n,r,o))},pS=e=>Eo(e.toString().replace(/\u00A0/g," ")),mS=e=>""!==e&&-1!==" \xa0\f\n\r\t\v".indexOf(e),Wm=(e,t)=>e.substring(t.length),gS=(e,t,n,r=0)=>{return(o=k(t.startContainer),Rr(o,S_)).fold(()=>((i,a,s,l=0)=>{if(!(d=a).collapsed||!Ce(d.startContainer))return O.none();var d;const u={text:"",offset:0},f=i.getParent(a.startContainer,i.isBlock)||i.getRoot();return qm(i,a.startContainer,a.startOffset,(m,b,g)=>(u.text=g+u.text,u.offset+=b,((E,v,C)=>{let w;const A=C.charAt(0);for(w=v-1;w>=0;w--){const M=E.charAt(w);if(mS(M))return O.none();if(A===M&&Cn(E,C,w,v))break}return O.some(w)})(u.text,u.offset,s).getOr(b)),f).bind(m=>{const b=a.cloneRange();if(b.setStart(m.container,m.offset),b.setEnd(a.endContainer,a.endOffset),b.collapsed)return O.none();const g=pS(b);return 0!==g.lastIndexOf(s)||Wm(g,s).length<l?O.none():O.some({text:Wm(g,s),range:b,trigger:s})})})(e,t,n,r),i=>{const a=e.createRng();a.selectNode(i.dom);const s=pS(a);return O.some({range:a,text:Wm(s,n),trigger:n})});var o},vS=e=>{if(3===e.nodeType)return ha(e,e.data.length);{const t=e.childNodes;return t.length>0?vS(t[t.length-1]):ha(e,t.length)}},bS=(e,t)=>{const n=e.childNodes;return n.length>0&&t<n.length?bS(n[t],0):n.length>0&&1===e.nodeType&&n.length===t?vS(n[n.length-1]):ha(e,t)},_S=(e,t,n,r={})=>{var o;const i=t(),a=null!==(o=e.selection.getRng().startContainer.nodeValue)&&void 0!==o?o:"",s=tt(i.lookupByTrigger(n.trigger),d=>n.text.length>=d.minChars&&d.matches.getOrThunk(()=>{return u=e.dom,f=>{const m=bS(f.startContainer,f.startOffset);return!((b,g)=>{var E;const v=null!==(E=b.getParent(g.container,b.isBlock))&&void 0!==E?E:b.getRoot();return qm(b,g.container,g.offset,(C,w)=>0===w?-1:w,v).filter(C=>{const w=C.container.data.charAt(C.offset-1);return!mS(w)}).isSome()})(u,m)};var u})(n.range,a,n.text));if(0===s.length)return O.none();const l=Promise.all(wt(s,d=>d.fetch(n.text,d.maxResults,r).then(u=>({matchText:n.text,items:u,columns:d.columns,onAction:d.onAction,highlightOn:d.highlightOn}))));return O.some({lookupData:l,context:n})};var Ha;!function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"}(Ha||(Ha={}));const Km=(e,t,n)=>e.stype===Ha.Error?t(e.serror):n(e.svalue),cd=e=>({stype:Ha.Value,svalue:e}),Nc=e=>({stype:Ha.Error,serror:e}),aR=Km,Ym=e=>ut(e)&&Zn(e).length>100?" removed due to size":JSON.stringify(e,null,2),cf=(e,t)=>Nc([{path:e,getErrorInfo:t}]),yS=e=>(...t)=>{if(0===t.length)throw new Error("Can't merge zero objects");const n={};for(let r=0;r<t.length;r++){const o=t[r];for(const i in o)nt(o,i)&&(n[i]=e(n[i],o[i]))}return n},Qm=yS((e,t)=>Dt(e)&&Dt(t)?Qm(e,t):t),ES=(yS((e,t)=>t),e=>({tag:"defaultedThunk",process:Ae(e)})),CS=(e,t,n)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return n(e.newKey,e.instantiator)}},Gm=e=>({extract:(t,n)=>{return(r=e(n)).stype===Ha.Error?cf(t,Ae(r.serror)):r;var r},toString:Ae("val")}),dR=Gm(cd),SS=(e,t,n,r)=>r(Pt(e,t).getOrThunk(()=>n(e))),cR=(e,t,n,r,o)=>{const i=s=>o.extract(t.concat([r]),s),a=s=>s.fold(()=>cd(O.none()),l=>{return(u=o.extract(t.concat([r]),l)).stype===Ha.Value?{stype:Ha.Value,svalue:(0,O.some)(u.svalue)}:u;var u});switch(e.tag){case"required":return s=t,u=i,Pt(l=n,d=r).fold(()=>{return m=d,b=l,cf(s,()=>'Could not find valid *required* value for "'+m+'" in '+Ym(b));var m,b},u);case"defaultedThunk":return SS(n,r,e.process,i);case"option":return((s,l,d)=>d(Pt(s,l)))(n,r,a);case"defaultedOptionThunk":return((s,l,d,u)=>u(Pt(s,l).map(f=>!0===f?d(s):f)))(n,r,e.process,a);case"mergeWithThunk":return SS(n,r,Ae({}),s=>{const l=Qm(e.process(n),s);return i(l)})}var s,l,d,u},Xm=e=>({extract:(t,n)=>((r,o,i)=>{const a={},s=[];for(const l of i)CS(l,(d,u,f,m)=>{const b=cR(f,r,o,d,m);aR(b,g=>{s.push(...g)},g=>{a[u]=g})},(d,u)=>{a[d]=u(o)});return s.length>0?Nc(s):cd(a)})(t,n,e),toString:()=>"obj{\n"+wt(e,n=>CS(n,(r,o,i,a)=>r+" -> "+a.toString(),(r,o)=>"state("+r+")")).join("\n")+"}"}),TS=e=>({extract:(t,n)=>(e=>{const t=(r=>{const o=[],i=[];return de(r,a=>{Km(a,s=>i.push(s),s=>o.push(s))}),{values:o,errors:i}})(e);return t.errors.length>0?(n=t.errors,Ur(Nc,wn)(n)):cd(t.values);var n})(wt(n,(o,i)=>e.extract(t.concat(["["+i+"]"]),o))),toString:()=>"array("+e.toString()+")"}),wS=(e,t)=>((e,t)=>({extract:(n,r)=>Pt(r,e).fold(()=>{return i=e,cf(n,()=>'Choice schema did not contain choice key: "'+i+'"');var i},o=>{return i=n,a=r,Pt(s=t,l=o).fold(()=>{return u=s,f=l,cf(i,()=>'The chosen schema: "'+f+'" did not exist in branches: '+Ym(u));var u,f},d=>d.extract(i.concat(["branch: "+l]),a));var i,a,s,l}),toString:()=>"chooseOn("+e+"). Possible values: "+Zn(t)}))(e,sr(t,Xm)),fR=Ae(dR),uf=(e,t)=>Gm(n=>{const r=typeof n;return e(n)?cd(n):Nc(`Expected type: ${t} but got: ${r}`)}),hR=uf(T,"number"),ff=uf(We,"string"),pR=uf(Tr,"boolean"),Jm=uf(Ft,"function"),Ac=(e,t,n,r)=>({tag:"field",key:e,newKey:t,presence:n,prop:r}),NS=(e,t)=>({tag:"custom",newKey:e,instantiator:t}),AS=(e,t)=>Ac(e,e,{tag:"required",process:{}},t),xS=e=>AS(e,ff),OS=e=>AS(e,Jm),Zm=(e,t)=>Ac(e,e,{tag:"option",process:{}},t),hf=e=>Zm(e,ff),ud=(e,t,n)=>Ac(e,e,ES(t),n),RS=(e,t)=>ud(e,t,hR),kS=(e,t,n)=>{return ud(e,t,(r=n,o=i=>Bt(r,i)?So.value(i):So.error(`Unsupported value: "${i}", choose one of "${r.join(", ")}".`),Gm(i=>o(i).fold(Nc,cd))));var r,o},eg=(e,t)=>ud(e,t,pR),tg=(e,t)=>ud(e,t,Jm),mR=xS("type"),gR=OS("fetch"),ng=OS("onAction"),vR=tg("onSetup",()=>Ke),bR=hf("text"),_R=hf("icon"),yR=hf("tooltip"),ER=hf("label"),CR=eg("active",!1),SR=eg("enabled",!0),DS=eg("primary",!1),xc=e=>ud("type",e,ff),TR=Xm([mR,xS("trigger"),RS("minChars",1),((e,t)=>Ac(e,e,ES(1),fR()))("columns"),RS("maxResults",10),Zm("matches",Jm),gR,ng,(LS=ff,ud("highlightOn",[],TS(LS)))]);var LS;const rg=[SR,yR,_R,bR,vR],IS=[CR].concat(rg),wR=[tg("predicate",Ut),kS("scope","node",["node","editor"]),kS("position","selection",["node","selection","line"])],NR=rg.concat([xc("contextformbutton"),DS,ng,NS("original",At)]),AR=IS.concat([xc("contextformbutton"),DS,ng,NS("original",At)]),xR=rg.concat([xc("contextformbutton")]),OR=IS.concat([xc("contextformtogglebutton")]),RR=wS("type",{contextformbutton:NR,contextformtogglebutton:AR});Xm([xc("contextform"),tg("initValue",Ae("")),ER,((e,t)=>Ac(e,e,{tag:"required",process:{}},TS(t)))("commands",RR),Zm("launch",wS("type",{contextformbutton:xR,contextformtogglebutton:OR}))].concat(wR));const DR=e=>{const t=Ps(),n=mr(!1),r=t.isSet,o=()=>{r()&&(Fn(e).autocompleter.removeDecoration(),e.dispatch("AutocompleterEnd"),n.set(!1),t.clear())},i=Ar(()=>(e=>{const t=e.ui.registry.getAll().popups,n=sr(t,i=>{return(a=i,((e,t,n)=>{return r=(s=t.extract([e],a=n)).stype===Ha.Error?{stype:Ha.Error,serror:(s=>({input:a,errors:s}))(s.serror)}:s,Km(r,So.error,So.value);var a,s,r})("Autocompleter",TR,{trigger:a.ch,...a})).fold(s=>{throw new Error("Errors: \n"+(d=>{const u=d.length>10?d.slice(0,10).concat([{path:[],getErrorInfo:Ae("... (only showing first ten failures)")}]):d;return wt(u,f=>"Failed path: ("+f.path.join(" > ")+")\n"+f.getErrorInfo())})((l=s).errors).join("\n")+"\n\nInput object: "+Ym(l.input));var l},At);var a}),r=Va(Ai(n,i=>i.trigger)),o=Ua(n);return{dataset:n,triggers:r,lookupByTrigger:i=>tt(o,a=>a.trigger===i)}})(e)),a=s=>{var l;(l=s,t.get().map(d=>gS(e.dom,e.selection.getRng(),d.trigger).bind(u=>_S(e,i,u,l))).getOrThunk(()=>((d,u)=>{const f=u(),m=d.selection.getRng();return(b=d.dom,g=m,E=f,ei(E.triggers,v=>gS(b,g,v))).bind(b=>_S(d,u,b));var b,g,E})(e,i))).fold(o,l=>{var d,f;d=l.context,r()||(f=d.range,Fn(e).autocompleter.addDecoration(f),t.set({trigger:d.trigger,matchLength:d.text.length})),l.lookupData.then(d=>{t.get().map(u=>{const f=l.context;u.trigger===f.trigger&&(f.text.length-u.matchLength>=10?o():(t.set({...u,matchLength:f.text.length}),n.get()?e.dispatch("AutocompleterUpdate",{lookupData:d}):(n.set(!0),e.dispatch("AutocompleterStart",{lookupData:d}))))})})})};e.addCommand("mceAutocompleterReload",(s,l)=>{const d=ut(l)?l.fetchOptions:{};a(d)}),e.addCommand("mceAutocompleterClose",o),((s,l)=>{const d=dh(l.load,50);s.on("keypress compositionend",u=>{27!==u.which&&d.throttle()}),s.on("keydown",u=>{const f=u.which;8===f?d.throttle():27===f&&l.cancelIfNecessary()}),s.on("remove",d.cancel)})(e,{cancelIfNecessary:o,load:a})},LR=dr().browser.isSafari(),PS=e=>Qo(k(e)),MS=(e,t)=>{var n;return 0===e.startOffset&&e.endOffset===(null===(n=t.textContent)||void 0===n?void 0:n.length)},pf=(e,t)=>O.from(e.getParent(t.container(),"details")),BS=(e,t)=>pf(e,t).isSome(),FS=(e,t)=>{const n=t.getNode();sn(n)||e.selection.setCursorLocation(n,t.offset())},jS=(e,t,n)=>{const r=e.dom.getParent(t.container(),"details");if(r&&!r.open){const o=e.dom.select("summary",r)[0];o&&(n?$r(o):Vi(o)).each(i=>FS(e,i))}else FS(e,t)},HS=(e,t,n)=>{const{dom:r,selection:o}=e,i=e.getBody();if("character"===n){const a=oe.fromRangeStart(o.getRng()),s=r.getParent(a.container(),r.isBlock),l=pf(r,a),d=s&&r.isEmpty(s),u=ye(s?.previousSibling),f=ye(s?.nextSibling);return!!(d&&(t?f:u)&&Gl(!t,i,a).exists(m=>BS(r,m)&&!Ss(l,pf(r,m))))||Gl(t,i,a).fold(Ut,m=>{const b=pf(r,m);if(BS(r,m)&&!Ss(l,b)){if(t||jS(e,m,!1),s&&d){if(t&&u||!t&&f)return!0;jS(e,m,t),e.dom.remove(s)}return!0}return!1})}return!1},yl=(e,t,n)=>{return o=t,i=n,((a,s)=>{const l=O.from(a.getParent(s.startContainer,"details")),d=O.from(a.getParent(s.endContainer,"details"));if(l.isSome()||d.isSome()){const u=l.bind(f=>O.from(a.select("summary",f)[0]));return O.some({startSummary:u,startDetails:l,endDetails:d})}return O.none()})((r=e).dom,r.selection.getRng()).fold(()=>HS(r,o,i),a=>((e,t,n,r)=>{const o=e.selection.getRng(),i=oe.fromRangeStart(o),a=e.getBody();return"selection"===r?((s,l)=>{const d=l.startSummary.exists(m=>m.contains(s.startContainer)),u=l.startSummary.exists(m=>m.contains(s.endContainer)),f=l.startDetails.forall(m=>l.endDetails.forall(b=>m!==b));return(d||u)&&!(d&&u)||f})(o,t):n?(s=i,t.startSummary.exists(d=>{return u=s,Vi(f=d).exists(m=>dn(m.getNode())&&Do(f,m).exists(b=>b.isEqual(u))||m.isEqual(u));var u,f})||((s,l,d)=>d.startDetails.exists(u=>To(s,l).forall(f=>!u.contains(f.container()))))(a,i,t)):((s,l)=>l.startSummary.exists(d=>{return u=s,$r(d).exists(m=>m.isEqual(u));var u}))(i,t)||((s,l)=>l.startDetails.exists(d=>Do(d,s).forall(u=>l.startSummary.exists(f=>!f.contains(s.container())&&f.contains(u.container())))))(i,t);var s})(r,a,o,i)||HS(r,o,i))||LR&&((r,o,i)=>{const a=r.selection,s=a.getNode(),l=a.getRng(),d=oe.fromRangeStart(l);return!!qf(s)&&("selection"===i&&MS(l,s)||fy(o,d,s)?PS(s):r.undoManager.transact(()=>{const u=a.getSel();let{anchorNode:f,anchorOffset:m,focusNode:b,focusOffset:g}=u??{};const E=()=>{Ne(f)&&Ne(m)&&Ne(b)&&Ne(g)&&u?.setBaseAndExtent(f,m,b,g)},v=(w,A)=>{de(w.childNodes,M=>{tc(M)&&A.appendChild(M)})},C=r.dom.create("span",{"data-mce-bogus":"1"});v(s,C),s.appendChild(C),E(),"word"!==i&&"line"!==i||null==u||u.modify("extend",o?"right":"left",i),!a.isCollapsed()&&MS(a.getRng(),C)?PS(s):(r.execCommand(o?"ForwardDelete":"Delete"),f=u?.anchorNode,m=u?.anchorOffset,b=u?.focusNode,g=u?.focusOffset,v(C,s),E()),r.dom.remove(C)}),!0)})(e,t,n)?O.some(Ke):O.none();var r,o,i},$S=e=>(t,n,r={})=>{const o=t.getBody(),i={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:o,currentTarget:o,eventPhase:Event.AT_TARGET,originalTarget:o,explicitOriginalTarget:o,isTrusted:!1,srcElement:o,cancelable:!1,preventDefault:Ke,inputType:n},a=Ve(new InputEvent(e));return t.dispatch(e,{...a,...i,...r})},Oc=$S("input"),mf=$S("beforeinput"),US=dr(),VS=US.os,zS=VS.isMacOS()||VS.isiOS(),PR=US.browser.isFirefox(),fd=(e,t)=>{const n=e.dom,r=e.schema.getMoveCaretBeforeOnEnterElements();if(!t)return;if(/^(LI|DT|DD)$/.test(t.nodeName)){const i=(a=>{for(;a;){if(Le(a)||Ce(a)&&a.data&&/[\r\n\s]/.test(a.data))return a;a=a.nextSibling}return null})(t.firstChild);i&&/^(UL|OL|DL)$/.test(i.nodeName)&&t.insertBefore(n.doc.createTextNode(hn),t.firstChild)}const o=n.createRng();if(t.normalize(),t.hasChildNodes()){const i=new De(t,t);let a,s=t;for(;a=i.current();){if(Ce(a)){o.setStart(a,0),o.setEnd(a,0);break}if(r[a.nodeName.toLowerCase()]){o.setStartBefore(a),o.setEndBefore(a);break}s=a,a=i.next()}a||(o.setStart(s,0),o.setEnd(s,0))}else dn(t)?t.nextSibling&&n.isBlock(t.nextSibling)?(o.setStartBefore(t),o.setEndBefore(t)):(o.setStartAfter(t),o.setEndAfter(t)):(o.setStart(t,0),o.setEnd(t,0));e.selection.setRng(o),ic(e,o)},Rc=(e,t)=>{const n=e.getRoot();let r,o=t;for(;o!==n&&o&&"false"!==e.getContentEditable(o);){if("true"===e.getContentEditable(o)){r=o;break}o=o.parentNode}return o!==n?r:n},og=e=>O.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),ig=e=>{e.innerHTML='<br data-mce-bogus="1">'},kc=(e,t)=>{Hr(e).toLowerCase()===t.tagName.toLowerCase()&&((n,r,o)=>{const i=n.dom;O.from(o.style).map(i.parseStyle).each(u=>{const f={...Hi(k(r)),...u};i.setStyles(r,f)});const a=O.from(o.class).map(u=>u.split(/\s+/)),s=O.from(r.className).map(u=>tt(u.split(/\s+/),f=>""!==f));Ln(a,s,(u,f)=>{const m=tt(f,g=>!Bt(u,g)),b=[...u,...m];i.setAttrib(r,"class",b.join(" "))});const l=["style","class"],d=Ni(o,(u,f)=>!Bt(l,f));i.setAttribs(r,d)})(e,t,Wd(e))},qS=(e,t,n,r,o=!0,i,a)=>{const s=e.dom,l=e.schema,d=Hr(e),u=n?n.nodeName.toUpperCase():"";let f=t;const m=l.getTextInlineElements();let b;b=i||"TABLE"===u||"HR"===u?s.create(i||d,a||{}):n.cloneNode(!1);let g=b;if(o){do{if(m[f.nodeName]){if(ci(f)||ui(f))continue;const E=f.cloneNode(!1);s.setAttrib(E,"id",""),b.hasChildNodes()?(E.appendChild(b.firstChild),b.appendChild(E)):(g=E,b.appendChild(E))}}while((f=f.parentNode)&&f!==r)}else s.setAttrib(b,"style",null),s.setAttrib(b,"class",null);return kc(e,b),ig(g),b},WS=(e,t)=>{const n=e?.parentNode;return Ne(n)&&n.nodeName===t},KS=e=>Ne(e)&&/^(OL|UL|LI)$/.test(e.nodeName),ag=e=>Ne(e)&&/^(LI|DT|DD)$/.test(e.nodeName),gf=e=>{const t=e.parentNode;return ag(t)?t:e},vf=(e,t,n)=>{let r=e[n?"firstChild":"lastChild"];for(;r&&!Le(r);)r=r[n?"nextSibling":"previousSibling"];return r===t},YS=e=>yn(Ai(Hi(k(e)),(t,n)=>`${n}: ${t};`),(t,n)=>t+n,""),MR=(e,t)=>t&&"A"===t.nodeName&&e.isEmpty(t),sg=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,lg=(e,t)=>Ne(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.isEditable(t.parentNode)&&"false"!==e.getContentEditable(t),dg=(e,t,n)=>Ce(t)?e?1===n&&t.data.charAt(n-1)===Bn?0:n:n===t.data.length-1&&t.data.charAt(n)===Bn?t.data.length:n:n,QS={insert:(e,t)=>{let n,r,o,i,a=!1;const s=e.dom,l=e.schema.getNonEmptyElements(),d=e.selection.getRng(),u=Hr(e),f=k(d.startContainer),m=ur(f,d.startOffset),b=m.exists(J=>Ii(J)&&!eo(J)),g=d.collapsed&&b,E=(J,ne)=>qS(e,n,P,M,_N(e),J,ne),v=J=>{const ne=dg(J,n,r);if(Ce(n)&&(J?ne>0:ne<n.data.length))return!1;if(n.parentNode===P&&a&&!J||J&&Le(n)&&n===P.firstChild)return!0;if(sg(n,"TABLE")||sg(n,"HR"))return a&&!J||!a&&J;const U=new De(n,P);let Y;for(Ce(n)&&(J&&0===ne?U.prev():J||ne!==n.data.length||U.next());Y=U.current();){if(Le(Y)){if(!Y.getAttribute("data-mce-bogus")){const ee=Y.nodeName.toLowerCase();if(l[ee]&&"br"!==ee)return!1}}else if(Ce(Y)&&!Na(Y.data))return!1;J?U.prev():U.next()}return!0},C=()=>{let J;return J=/^(H[1-6]|PRE|FIGURE)$/.test(o)&&"HGROUP"!==H?E(u):E(),((ne,U)=>{const Y=yN(ne);return!qt(U)&&(We(Y)?Bt(Se.explode(Y),U.nodeName.toLowerCase()):Y)})(e,i)&&lg(s,i)&&s.isEmpty(P,void 0,{includeZwsp:!0})?J=s.split(i,P):s.insertAfter(J,P),fd(e,J),J};xu(s,d).each(J=>{d.setStart(J.startContainer,J.startOffset),d.setEnd(J.endContainer,J.endOffset)}),n=d.startContainer,r=d.startOffset;const w=!(!t||!t.shiftKey),A=!(!t||!t.ctrlKey);Le(n)&&n.hasChildNodes()&&!g&&(a=r>n.childNodes.length-1,n=n.childNodes[Math.min(r,n.childNodes.length-1)]||n,r=a&&Ce(n)?n.data.length:0);const M=Rc(s,n);if(!M||((J,ne)=>{const U=J.dom.getParent(ne,"ol,ul,dl");return null!==U&&"false"===J.dom.getContentEditableParent(U)})(e,n))return;w||(n=((J,ne,U,Y,ee)=>{var ue,Oe;const we=J.dom,Xe=null!==(ue=Rc(we,Y))&&void 0!==ue?ue:we.getRoot();let Ye=we.getParent(Y,we.isBlock);if(!Ye||!lg(we,Ye)){if(Ye=Ye||Xe,!Ye.hasChildNodes()){const He=we.create(ne);return kc(J,He),Ye.appendChild(He),U.setStart(He,0),U.setEnd(He,0),He}let rt,Je=Y;for(;Je&&Je.parentNode!==Ye;)Je=Je.parentNode;for(;Je&&!we.isBlock(Je);)rt=Je,Je=Je.previousSibling;const Ie=null===(Oe=rt?.parentElement)||void 0===Oe?void 0:Oe.nodeName;if(rt&&Ie&&J.schema.isValidChild(Ie,ne.toLowerCase())){const He=rt.parentNode,lt=we.create(ne);for(kc(J,lt),He.insertBefore(lt,rt),Je=rt;Je&&!we.isBlock(Je);){const q=Je.nextSibling;lt.appendChild(Je),Je=q}U.setStart(Y,ee),U.setEnd(Y,ee)}}return Y})(e,u,d,n,r));let P=s.getParent(n,s.isBlock)||s.getRoot();i=Ne(P?.parentNode)?s.getParent(P.parentNode,s.isBlock):null,o=P?P.nodeName.toUpperCase():"";const H=i?i.nodeName.toUpperCase():"";if("LI"!==H||A||(P=i,i=i.parentNode,o=H),Le(i)&&(J=e,U=P,!w&&U.nodeName.toLowerCase()===Hr(J)&&J.dom.isEmpty(U)&&((Y,ee,ue)=>{let Oe=ee;for(;Oe&&Oe!==Y&&ye(Oe.nextSibling);){const Xe=Oe.parentElement;if(!Xe||(we=Xe,!nt(J.schema.getTextBlockElements(),we.nodeName.toLowerCase())))return Ed(Xe);Oe=Xe}var we;return!1})(J.getBody(),U)))return((J,ne,U)=>{var Y,ee,ue;const Oe=ne(Hr(J)),we=J.dom.getParent(U,Ed);we&&(J.dom.insertAfter(Oe,we),fd(J,Oe),(null!==(ue=null===(ee=null===(Y=U.parentElement)||void 0===Y?void 0:Y.childNodes)||void 0===ee?void 0:ee.length)&&void 0!==ue?ue:0)>1&&J.dom.remove(U))})(e,E,P);var J,U;if(/^(LI|DT|DD)$/.test(o)&&Le(i)&&s.isEmpty(P))return void((J,ne,U,Y,ee)=>{const ue=J.dom,Oe=J.selection.getRng(),we=U.parentNode;if(U===J.getBody()||!we)return;var Xe;KS(Xe=U)&&KS(Xe.parentNode)&&(ee="LI");const Ye=ag(Y)?YS(Y):void 0;let rt=ag(Y)&&Ye?ne(ee,{style:YS(Y)}):ne(ee);if(vf(U,Y,!0)&&vf(U,Y,!1))if(WS(U,"LI")){const Je=gf(U);ue.insertAfter(rt,Je),(null===(He=(Ie=U).parentNode)||void 0===He?void 0:He.firstChild)===Ie?ue.remove(Je):ue.remove(U)}else ue.replace(rt,U);else if(vf(U,Y,!0))WS(U,"LI")?(ue.insertAfter(rt,gf(U)),rt.appendChild(ue.doc.createTextNode(" ")),rt.appendChild(U)):we.insertBefore(rt,U),ue.remove(Y);else if(vf(U,Y,!1))ue.insertAfter(rt,gf(U)),ue.remove(Y);else{U=gf(U);const Je=Oe.cloneRange();Je.setStartAfter(Y),Je.setEndAfter(U);const Ie=Je.extractContents();if("LI"===ee&&((He,lt)=>He.firstChild&&"LI"===He.firstChild.nodeName)(Ie)){const He=tt(wt(rt.children,k),so(Oo("br")));rt=Ie.firstChild,ue.insertAfter(Ie,U),de(He,lt=>_o(k(rt),lt)),Ye&&rt.setAttribute("style",Ye)}else ue.insertAfter(Ie,U),ue.insertAfter(rt,U);ue.remove(Y)}var Ie,He;fd(J,rt)})(e,E,i,P,u);if(!(g||P!==e.getBody()&&lg(s,P)))return;const K=P.parentNode;let G;if(g)G=E(u),m.fold(()=>{$(f,k(G))},J=>{Vn(J,k(G))}),e.selection.setCursorLocation(G,0);else if(xs(P))G=Bl(P),s.isEmpty(P)&&ig(P),kc(e,G),fd(e,G);else if(v(!1))G=C();else if(v(!0)&&K){G=K.insertBefore(E(),P);const J=k(d.startContainer).dom.hasChildNodes()&&d.collapsed;fd(e,sg(P,"HR")||J?G:P)}else{const J=(U=>{const Y=U.cloneRange();return Y.setStart(U.startContainer,dg(!0,U.startContainer,U.startOffset)),Y.setEnd(U.endContainer,dg(!1,U.endContainer,U.endOffset)),Y})(d).cloneRange();J.setEndAfter(P);const ne=J.extractContents();(U=>{de(X(k(U),In),Y=>{const ee=Y.dom;ee.nodeValue=Eo(ee.data)})})(ne),(U=>{let Y=U;do{Ce(Y)&&(Y.data=Y.data.replace(/^[\r\n]+/,"")),Y=Y.firstChild}while(Y)})(ne),G=ne.firstChild,s.insertAfter(ne,P),((U,Y,ee)=>{var ue;const Oe=[];if(!ee)return;let we=ee;for(;we=we.firstChild;){if(U.isBlock(we))return;Le(we)&&!Y[we.nodeName.toLowerCase()]&&Oe.push(we)}let Xe=Oe.length;for(;Xe--;)we=Oe[Xe],(!we.hasChildNodes()||we.firstChild===we.lastChild&&""===(null===(ue=we.firstChild)||void 0===ue?void 0:ue.nodeValue)||MR(U,we))&&U.remove(we)})(s,l,G),((U,Y)=>{Y.normalize();const ee=Y.lastChild;(!ee||Le(ee)&&/^(left|right)$/gi.test(U.getStyle(ee,"float",!0)))&&U.add(Y,"br")})(s,P),s.isEmpty(P)&&ig(P),G.normalize(),s.isEmpty(G)?(s.remove(G),C()):(kc(e,G),fd(e,G))}s.setAttrib(G,"id",""),e.dispatch("NewBlock",{newBlock:G})},fakeEventName:"insertParagraph"},GS=(e,t,n)=>{const r=e.dom.createRng();n?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)),e.selection.setRng(r),ic(e,r)},BR=(e,t)=>{const n=z("br");Vn(k(t),n),e.undoManager.add()},FR=(e,t)=>{jR(e.getBody(),t)||hr(k(t),z("br"));const n=z("br");hr(k(t),n),GS(e,n.dom,!1),e.undoManager.add()},jR=(e,t)=>{return n=oe.after(t),!!dn(n.getNode())||To(e,oe.after(t)).map(r=>dn(r.getNode())).getOr(!1);var n},XS=e=>e&&"A"===e.nodeName&&"href"in e,HR=e=>e.fold(Ut,XS,XS,Ut),$R=(e,t)=>{t.fold(Ke,Re(BR,e),Re(FR,e),Ke)},JS={insert:(e,t)=>{const n=(r=>{const o=Re(gl,r),i=oe.fromRangeStart(r.selection.getRng());return Fa(o,r.getBody(),i).filter(HR)})(e);n.isSome()?n.each(Re($R,e)):((r,o)=>{const a=r.dom,s=r.selection.getRng();let l,d=!1;xu(a,s).each(v=>{s.setStart(v.startContainer,v.startOffset),s.setEnd(v.endContainer,v.endOffset)});let u=s.startOffset,f=s.startContainer;if(Le(f)&&f.hasChildNodes()){const v=u>f.childNodes.length-1;f=f.childNodes[Math.min(u,f.childNodes.length-1)]||f,u=v&&Ce(f)?f.data.length:0}let m=a.getParent(f,a.isBlock);const b=m&&m.parentNode?a.getParent(m.parentNode,a.isBlock):null;"LI"!==(b?b.nodeName.toUpperCase():"")||!(!o||!o.ctrlKey)||(m=b),Ce(f)&&u>=f.data.length&&(((v,C,w)=>{const A=new De(C,w);let M;const P=v.getNonEmptyElements();for(;M=A.next();)if(P[M.nodeName.toLowerCase()]||Ce(M)&&M.length>0)return!0;return!1})(r.schema,f,m||a.getRoot())||(l=a.create("br"),s.insertNode(l),s.setStartAfter(l),s.setEndAfter(l),d=!0)),l=a.create("br"),ph(a,s,l),GS(r,l,d),r.undoManager.add()})(e,t)},fakeEventName:"insertLineBreak"},ZS=(e,t)=>og(e).filter(n=>t.length>0&&ae(k(n),t)).isSome(),Go=ka([{br:[]},{block:[]},{none:[]}]),UR=(e,t)=>{return ZS(n=e,bN(n));var n},eT=e=>(t,n)=>og(t).filter(o=>la(k(o))).isSome()===e,tT=(e,t)=>(n,r)=>og(n).fold(Ae(""),a=>a.nodeName.toUpperCase())===e.toUpperCase()===t,VR=e=>{const t=Rc(e.dom,e.selection.getStart());return qt(t)},Dc=e=>tT("pre",e),bf=e=>(t,n)=>mN(t)===e,zR=(e,t)=>{return ZS(n=e,vN(n));var n},_f=(e,t)=>t,qR=e=>{const t=Hr(e),n=Rc(e.dom,e.selection.getStart());return Ne(n)&&e.schema.isValidChild(n.nodeName,t)},WR=e=>{const t=e.selection.getRng(),n=k(t.startContainer),r=ur(n,t.startOffset).map(o=>Ii(o)&&!eo(o));return t.collapsed&&r.getOr(!0)},bi=(e,t)=>(n,r)=>yn(e,(o,i)=>o&&i(n,r),!0)?O.some(t):O.none(),yf=(e,t,n)=>{t.selection.isCollapsed()||t.execCommand("delete"),Ne(n)&&mf(t,e.fakeEventName).isDefaultPrevented()||(e.insert(t,n),Ne(n)&&Oc(t,e.fakeEventName))},nT=(e,t)=>{const n=()=>yf(JS,e,t),r=()=>yf(QS,e,t),o=(i=e,a=t,G0([bi([UR],Go.none()),bi([Dc(!0),VR],Go.none()),bi([tT("summary",!0)],Go.br()),bi([Dc(!0),bf(!1),_f],Go.br()),bi([Dc(!0),bf(!1)],Go.block()),bi([Dc(!0),bf(!0),_f],Go.block()),bi([Dc(!0),bf(!0)],Go.br()),bi([eT(!0),_f],Go.br()),bi([eT(!0)],Go.block()),bi([zR],Go.br()),bi([_f],Go.br()),bi([qR],Go.block()),bi([WR],Go.block())],[i,!(!a||!a.shiftKey)]).getOr(Go.none()));var i,a;switch(gN(e)){case"linebreak":o.fold(n,n,Ke);break;case"block":o.fold(r,r,Ke);break;case"invert":o.fold(r,n,Ke);break;default:o.fold(n,r,Ke)}},rT=dr(),KR=rT.os.isiOS()&&rT.browser.isSafari(),oT=(e,t)=>{var n;t.isDefaultPrevented()||(t.preventDefault(),(n=e.undoManager).typing&&(n.typing=!1,n.add()),e.undoManager.transact(()=>{nT(e,t)}))},YR=dr(),iT=e=>e.stopImmediatePropagation(),aT=e=>e.keyCode===Pe.PAGE_UP||e.keyCode===Pe.PAGE_DOWN,sT=(e,t,n)=>{n&&!e.get()?t.on("NodeChange",iT,!0):!n&&e.get()&&t.off("NodeChange",iT),e.set(n)},lT=(e,t)=>{const n=t.container(),r=t.offset();return Ce(n)?(n.insertData(r,e),O.some(oe(n,r+e.length))):gu(t).map(o=>{const i=V(e);return t.isAtEnd()?hr(o,i):Vn(o,i),oe(i.dom,e.length)})},dT=Re(lT,hn),cT=Re(lT," "),uT=e=>t=>{e.selection.setRng(t.toRange()),e.nodeChanged()},QR=e=>{const t=oe.fromRangeStart(e.selection.getRng()),n=k(e.getBody());if(e.selection.isCollapsed()){const r=Re(gl,e),o=oe.fromRangeStart(e.selection.getRng());return Fa(r,e.getBody(),o).bind((i=n,a=>a.fold(s=>Do(i.dom,oe.before(s)),s=>$r(s),s=>Vi(s),s=>To(i.dom,oe.after(s))))).map(i=>()=>{return(a=n,s=t,l=e.schema,d=>Z_(a,d,l)?dT(s):cT(s))(i).each(uT(e));var a,s,l})}var i;return O.none()},GR=e=>{return Wr(Et.browser.isFirefox()&&e.selection.isEditable()&&(t=e.dom,n=e.selection.getRng().startContainer,t.isEditable(t.getParent(n,"summary"))),()=>{const r=k(e.getBody());var o,i,a;e.selection.isCollapsed()||e.getDoc().execCommand("Delete"),(o=r,i=oe.fromRangeStart(e.selection.getRng()),a=e.schema,Z_(o,i,a)?dT(i):cT(i)).each(uT(e))});var t,n},XR=e=>N1(e)?[{keyCode:Pe.TAB,action:it(fS,e,!0)},{keyCode:Pe.TAB,shiftKey:!0,action:it(fS,e,!1)}]:[],JR=e=>{if(e.addShortcut("Meta+P","","mcePrint"),DR(e),Ba(e))return mr(null);{const t=(e=>{const t=mr(null),n=Re(gl,e);return e.on("NodeChange",r=>{Kd(e)&&(((o,i,a)=>{const s=wt(le(k(i.getRoot()),'*[data-mce-selected="inline-boundary"]'),u=>u.dom),l=tt(s,o),d=tt(a,o);de(Ho(l,d),Re(bC,!1)),de(Ho(d,l),Re(bC,!0))})(n,e.dom,r.parents),((o,i)=>{const a=i.get();if(o.selection.isCollapsed()&&!o.composing&&a){const s=oe.fromRangeStart(o.selection.getRng());oe.isTextPosition(s)&&!Sd(l=s)&&!Os(l)&&(of(o,((e,t)=>{return oe.isTextPosition(t)?(r=t,Vv(n=e)&&r.container()===n?((o,i)=>{const a=qv(o.data.substr(0,i.offset())),s=qv(o.data.substr(i.offset()));return(a.text+s.text).length>0?(Wv(o),oe(o,i.offset()-a.count)):i})(n,r):Kv(n,r)):((n,r)=>r.container()===n.parentNode?((o,i)=>{const a=i.container(),s=((l,d)=>{const u=ma(l,d);return-1===u?O.none():O.some(u)})(_r(a.childNodes),o).map(l=>l<i.offset()?oe(a,i.offset()-1):i).getOr(i);return ll(o),s})(n,r):Kv(n,r))(e,t);var n,r})(a,s)),i.set(null))}var l})(e,t),((o,i,a,s)=>{if(i.selection.isCollapsed()){const l=tt(s,o);de(l,d=>{const u=oe.fromRangeStart(i.selection.getRng());Fa(o,i.getBody(),u).bind(f=>_C(i,a,f))})}})(n,e,t,r.parents))}),t})(e);return(n=e).on("beforeinput",r=>{n.selection.isEditable()&&!Zt(r.getTargetRanges(),o=>!v_(n.dom,o))||r.preventDefault()}),(n=>{n.on("keyup compositionstart",Re(XO,n))})(e),((n,r)=>{n.on("keydown",o=>{o.isDefaultPrevented()||((i,a,s)=>{const l=Et.os.isMacOS()||Et.os.isiOS();Tc([{keyCode:Pe.RIGHT,action:it(zC,i,!0)},{keyCode:Pe.LEFT,action:it(zC,i,!1)},{keyCode:Pe.UP,action:it(qC,i,!1)},{keyCode:Pe.DOWN,action:it(qC,i,!0)},...l?[{keyCode:Pe.UP,action:it(sf,i,!1),metaKey:!0,shiftKey:!0},{keyCode:Pe.DOWN,action:it(sf,i,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:Pe.RIGHT,action:it(dS,i,!0)},{keyCode:Pe.LEFT,action:it(dS,i,!1)},{keyCode:Pe.UP,action:it(Um,i,!1)},{keyCode:Pe.DOWN,action:it(Um,i,!0)},{keyCode:Pe.UP,action:it(Um,i,!1)},{keyCode:Pe.UP,action:it(YC,i,!1)},{keyCode:Pe.DOWN,action:it(YC,i,!0)},{keyCode:Pe.RIGHT,action:it(JC,i,!0)},{keyCode:Pe.LEFT,action:it(JC,i,!1)},{keyCode:Pe.UP,action:it(ZC,i,!1)},{keyCode:Pe.DOWN,action:it(ZC,i,!0)},{keyCode:Pe.RIGHT,action:it(yC,i,a,!0)},{keyCode:Pe.LEFT,action:it(yC,i,a,!1)},{keyCode:Pe.RIGHT,ctrlKey:!l,altKey:l,action:it(HO,i,a)},{keyCode:Pe.LEFT,ctrlKey:!l,altKey:l,action:it($O,i,a)},{keyCode:Pe.UP,action:it(KC,i,!1)},{keyCode:Pe.DOWN,action:it(KC,i,!0)}],s).each(d=>{s.preventDefault()})})(n,r,o)})})(e,t),((n,r)=>{let o=!1;n.on("keydown",i=>{o=i.keyCode===Pe.BACKSPACE,i.isDefaultPrevented()||((a,s,l)=>{const d=l.keyCode===Pe.BACKSPACE?"deleteContentBackward":"deleteContentForward",u=a.selection.isCollapsed(),f=u?"character":"selection",m=b=>u?b?"word":"line":"selection";XC([{keyCode:Pe.BACKSPACE,action:it(PC,a)},{keyCode:Pe.BACKSPACE,action:it(Nm,a,!1)},{keyCode:Pe.DELETE,action:it(Nm,a,!0)},{keyCode:Pe.BACKSPACE,action:it(Sm,a,!1)},{keyCode:Pe.DELETE,action:it(Sm,a,!0)},{keyCode:Pe.BACKSPACE,action:it(Pm,a,s,!1)},{keyCode:Pe.DELETE,action:it(Pm,a,s,!0)},{keyCode:Pe.BACKSPACE,action:it(Rp,a,!1)},{keyCode:Pe.DELETE,action:it(Rp,a,!0)},{keyCode:Pe.BACKSPACE,action:it(yl,a,!1,f)},{keyCode:Pe.DELETE,action:it(yl,a,!0,f)},...zS?[{keyCode:Pe.BACKSPACE,altKey:!0,action:it(yl,a,!1,m(!0))},{keyCode:Pe.DELETE,altKey:!0,action:it(yl,a,!0,m(!0))},{keyCode:Pe.BACKSPACE,metaKey:!0,action:it(yl,a,!1,m(!1))}]:[{keyCode:Pe.BACKSPACE,ctrlKey:!0,action:it(yl,a,!1,m(!0))},{keyCode:Pe.DELETE,ctrlKey:!0,action:it(yl,a,!0,m(!0))}],{keyCode:Pe.BACKSPACE,action:it(Am,a,!1)},{keyCode:Pe.DELETE,action:it(Am,a,!0)},{keyCode:Pe.BACKSPACE,action:it(Fm,a,!1)},{keyCode:Pe.DELETE,action:it(Fm,a,!0)},{keyCode:Pe.BACKSPACE,action:it(Em,a,!1)},{keyCode:Pe.DELETE,action:it(Em,a,!0)},{keyCode:Pe.BACKSPACE,action:it(ym,a,!1)},{keyCode:Pe.DELETE,action:it(ym,a,!0)},{keyCode:Pe.BACKSPACE,action:it(Mm,a,!1)},{keyCode:Pe.DELETE,action:it(Mm,a,!0)}],l).filter(b=>a.selection.isEditable()).each(b=>{l.preventDefault(),mf(a,d).isDefaultPrevented()||(b(),Oc(a,d))})})(n,r,i)}),n.on("keyup",i=>{var a,s,l;i.isDefaultPrevented()||(s=i,l=o,Tc([{keyCode:Pe.BACKSPACE,action:it(z0,a=n)},{keyCode:Pe.DELETE,action:it(z0,a)},...zS?[{keyCode:Pe.BACKSPACE,altKey:!0,action:it(Sc,a)},{keyCode:Pe.DELETE,altKey:!0,action:it(Sc,a)},...l?[{keyCode:PR?224:91,action:it(Sc,a)}]:[]]:[{keyCode:Pe.BACKSPACE,ctrlKey:!0,action:it(Sc,a)},{keyCode:Pe.DELETE,ctrlKey:!0,action:it(Sc,a)}]],s)),o=!1})})(e,t),(n=>{let r=O.none();n.on("keydown",o=>{var i;o.keyCode===Pe.ENTER&&(KR&&(i=>{if(!i.collapsed)return!1;const a=i.startContainer;if(Ce(a)){const s=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,l=a.data.charAt(i.startOffset-1);return s.test(l)}return!1})(n.selection.getRng())?(r=O.some((i=n).selection.getBookmark()),i.undoManager.add()):oT(n,o))}),n.on("keyup",o=>{o.keyCode===Pe.ENTER&&r.each(()=>{return a=o,(i=n).undoManager.undo(),r.fold(Ke,s=>i.selection.moveToBookmark(s)),oT(i,a),void(r=O.none());var i,a})})})(e),(n=>{n.on("keydown",r=>{var o,i;r.isDefaultPrevented()||(i=r,XC([{keyCode:Pe.SPACEBAR,action:it(QR,o=n)},{keyCode:Pe.SPACEBAR,action:it(GR,o)}],i).each(a=>{i.preventDefault(),mf(o,"insertText",{data:" "}).isDefaultPrevented()||(a(),Oc(o,"insertText",{data:" "}))}))})})(e),(n=>{n.on("input",r=>{r.isComposing||(o=>{const i=k(o.getBody());o.selection.isCollapsed()&&((e,t,n)=>{const r=t.container();if(!Ce(r))return O.none();if((o=>{const i=o.container();return Ce(i)&&Cn(i.data,hn)})(t)){const o=ny(e,r,!1,n)||(i=>{const a=i.data,s=(l=>{const d=l.split("");return wt(d,(u,f)=>yu(u)&&f>0&&f<d.length-1&&Lh(d[f-1])&&Lh(d[f+1])?" ":u).join("")})(a);return s!==a&&(i.data=s,!0)})(r)||ry(e,r,!1,n);return Wr(o,t)}if(bp(e,t,n)){const o=ny(e,r,!0,n)||ry(e,r,!0,n);return Wr(o,t)}return O.none()})(i,oe.fromRangeStart(o.selection.getRng()),o.schema).each(a=>{o.selection.setRng(a.toRange())})})(n)})})(e),(n=>{n.on("keydown",r=>{var i;r.isDefaultPrevented()||(i=r,Tc([...XR(n)],i).each(a=>{i.preventDefault()}))})})(e),((n,r)=>{n.on("keydown",o=>{o.isDefaultPrevented()||((i,a,s)=>{const l=Et.os.isMacOS()||Et.os.isiOS();Tc([{keyCode:Pe.END,action:it(WC,i,!0)},{keyCode:Pe.HOME,action:it(WC,i,!1)},...l?[]:[{keyCode:Pe.HOME,action:it(sf,i,!1),ctrlKey:!0,shiftKey:!0},{keyCode:Pe.END,action:it(sf,i,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:Pe.END,action:it(eS,i,!0)},{keyCode:Pe.HOME,action:it(eS,i,!1)},{keyCode:Pe.END,action:it(af,i,!0,a)},{keyCode:Pe.HOME,action:it(af,i,!1,a)}],s).each(d=>{s.preventDefault()})})(n,r,o)})})(e,t),((n,r)=>{if(YR.os.isMacOS())return;const o=mr(!1);n.on("keydown",i=>{aT(i)&&sT(o,n,!0)}),n.on("keyup",i=>{var a,s,l;i.isDefaultPrevented()||(l=i,Tc([{keyCode:Pe.PAGE_UP,action:it(af,a=n,!1,s=r)},{keyCode:Pe.PAGE_DOWN,action:it(af,a,!0,s)}],l)),aT(i)&&o.get()&&(sT(o,n,!1),n.nodeChanged())})})(e,t),t}var n};class ZR{constructor(t){let n;this.lastPath=[],this.editor=t;const r=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",o=>{const i=t.selection.getRng(),a={startContainer:i.startContainer,startOffset:i.startOffset,endContainer:i.endContainer,endOffset:i.endOffset};"nodechange"!==o.type&&Xh(a,n)||t.dispatch("SelectionChange"),n=a}),t.on("contextmenu",()=>{t.dispatch("SelectionChange")}),t.on("SelectionChange",()=>{const o=t.selection.getStart(!0);o&&Eu(t)&&!r.isSameElementPath(o)&&t.dom.isChildOf(o,t.getBody())&&t.nodeChanged({selectionChange:!0})}),t.on("mouseup",o=>{!o.isDefaultPrevented()&&Eu(t)&&("IMG"===t.selection.getNode().nodeName?hi.setEditorTimeout(t,()=>{t.nodeChanged()}):t.nodeChanged())})}nodeChanged(t={}){const n=this.editor.selection;let r;if(this.editor.initialized&&n&&!QN(this.editor)&&!this.editor.mode.isReadOnly()){const o=this.editor.getBody();r=n.getStart(!0)||o,r.ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(r,o)||(r=o);const i=[];this.editor.dom.getParent(r,a=>a===o||(i.push(a),!1)),this.editor.dispatch("NodeChange",{...t,element:r,parents:i})}}isSameElementPath(t){let n;const r=this.editor,o=br(r.dom.getParents(t,tn,r.getBody()));if(o.length===this.lastPath.length){for(n=o.length;n>=0&&o[n]===this.lastPath[n];n--);if(-1===n)return this.lastPath=o,!0}return this.lastPath=o,!1}}const fT=$d("image"),cg=$d("event"),Ef=e=>t=>{t[cg]=e},hT=Ef(0),ek=Ef(2),tk=Ef(1),ug=$d("mode"),Cf=e=>t=>{t[ug]=e},pT=(e,t)=>Cf(t)(e),mT=Cf(0),fg=Cf(2),rk=Cf(1),gT=e=>t=>O.from(t[ug]).exists(r=>r===e),hd=gT(0),vT=gT(1),ok=["none","copy","link","move"],ik=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],hg=()=>{const e=new window.DataTransfer;let t="move",n="all";const r={get dropEffect(){return t},set dropEffect(o){Bt(ok,o)&&(t=o)},get effectAllowed(){return n},set effectAllowed(o){(e=>O.from(e[cg]).exists(n=>0===n))(r)&&Bt(ik,o)&&(n=o)},get items(){return o=r,i=e.items,{...i,get length(){return i.length},add:(a,s)=>{if(hd(o)){if(!We(a))return i.add(a);if(!sn(s))return i.add(a,s)}return null},remove:a=>{hd(o)&&i.remove(a)},clear:()=>{hd(o)&&i.clear()}};var o,i},get files(){return vT(r)?Object.freeze({length:0,item:o=>null}):e.files},get types(){return e.types},setDragImage:(o,i,a)=>{hd(r)&&(r[fT]={image:o,x:i,y:a},e.setDragImage(o,i,a))},getData:o=>vT(r)?"":e.getData(o),setData:(o,i)=>{hd(r)&&e.setData(o,i)},clearData:o=>{hd(r)&&e.clearData(o)}};return mT(r),r},bT=(e,t)=>e.setData("text/html",t),_T="x-tinymce/html",Sf=Ae(_T),pg="\x3c!-- "+_T+" --\x3e",ak=e=>pg+e,yT=e=>-1!==e.indexOf(pg),ET="%MCEPASTEBIN%",mg=e=>e.dom.get("mcepastebin"),sk=e=>Ne(e)&&"mcepastebin"===e.id,CT=e=>e===ET,ST=(e,t)=>(Se.each(t,n=>{e=Ti(n,RegExp)?e.replace(n,""):e.replace(n[0],n[1])}),e),TT=e=>ST(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(t,n,r)=>n||r?hn:" "],/<br class="Apple-interchange-newline">/g,/<br>$/i]),wT=(e,t)=>({content:e,cancelled:t}),gg=(e,t)=>(e.insertContent(t,{merge:p1(e),paste:!0}),!0),vg=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),lk=(e,t,n)=>{return!(e.selection.isCollapsed()||!vg(t)||(r=e,o=t,i=n,r.undoManager.extra(()=>{i(r,o)},()=>{r.execCommand("mceInsertLink",!1,o)}),0));var r,o,i},dk=(e,t,n)=>{return r=e,!(!vg(o=t)||!Zt(Uv(r),i=>zr(o.toLowerCase(),`.${i.toLowerCase()}`)))&&((r,o,i)=>(r.undoManager.extra(()=>{i(r,o)},()=>{r.insertContent('<img src="'+o+'">')}),!0))(e,t,n);var r,o},ck=(e=>{let t=0;return()=>"mceclip"+t++})(),uk=e=>{const t=hg();return bT(t,e),fg(t),t},NT=(e,t,n,r,o)=>{const i=((d,u,f)=>{const m=d.dispatch("PastePreProcess",{content:u,internal:f}),b=((g,E)=>{const v=id({sanitize:Sh(g),sandbox_iframes:Th(g)},g.schema);v.addNodeFilter("meta",w=>{Se.each(w,A=>{A.remove()})});const C=v.parse(E,{forced_root_block:!1,isRootContent:!0});return Hs({validate:!0},g.schema).serialize(C)})(d,m.content);return d.hasEventListeners("PastePostProcess")&&!m.isDefaultPrevented()?((g,E,v)=>{const C=g.dom.create("div",{style:"display:none"},E),w=g.dispatch("PastePostProcess",{node:C,internal:v});return wT(w.node.innerHTML,w.isDefaultPrevented())})(d,b,f):wT(b,m.isDefaultPrevented())})(e,t,n);if(!i.cancelled){const a=i.content,s=()=>{return l=e,d=a,void(r||!m1(l)?gg(l,d):(f=l,m=d,Se.each([lk,dk,gg],b=>!b(f,m,gg))));var l,d,f,m};o?mf(e,"insertFromPaste",{dataTransfer:uk(a)}).isDefaultPrevented()||(s(),Oc(e,"insertFromPaste")):s()}},Tf=(e,t,n,r)=>{const o=n||yT(t);NT(e,t.replace(pg,""),o,!1,r)},bg=(e,t,n)=>{const r=e.dom.encode(t).replace(/\r\n/g,"\n"),o=((i,a,s)=>{const l=i.split(/\n\n/),d=((m,b)=>{let g="<"+m;const E=Ai(b,(v,C)=>C+'="'+Oa.encodeAllRaw(v)+'"');return E.length&&(g+=" "+E.join(" ")),g+">"})(a,s),u="</"+a+">",f=wt(l,m=>m.split(/\n/).join("<br />"));return 1===f.length?f[0]:wt(f,m=>d+m+u).join("")})(Aa(r,v1(e)),Hr(e),Wd(e));NT(e,o,!1,!0,n)},AT=e=>{const t={};if(e&&e.types)for(let n=0;n<e.types.length;n++){const r=e.types[n];try{t[r]=e.getData(r)}catch{t[r]=""}}return t},qs=(e,t)=>t in e&&e[t].length>0,xT=e=>qs(e,"text/html")||qs(e,"text/plain"),OT=(e,t,n)=>{const r="paste"===t.type?t.clipboardData:t.dataTransfer;var o;if(pu(e)&&r){const i=((a,s)=>{const l=s.items?vr(_r(s.items),u=>"file"===u.kind?[u.getAsFile()]:[]):[],d=s.files?_r(s.files):[];return tt(l.length>0?l:d,(u=>{const f=Uv(u);return m=>un(m.type,"image/")&&Zt(f,b=>(g=>{const E=g.toLowerCase(),v={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return Se.hasOwn(v,E)?"image/"+v[E]:"image/"+E})(b)===m.type)})(a))})(e,r);if(i.length>0)return t.preventDefault(),(o=i,Promise.all(wt(o,a=>CE(a).then(s=>({file:a,uri:s}))))).then(a=>{n&&e.selection.setRng(n),de(a,s=>{var l,d;l=e,Jp((d=s).uri).each(({data:u,type:f,base64Encoded:m})=>{const b=m?u:btoa(u),g=d.file,E=l.editorUpload.blobCache,C=E.getByData(b,f)??((w,A,M,P)=>{const H=ck(),K=kv(w)&&Ne(M.name),G=K?((U,Y)=>{const ee=Y.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return Ne(ee)?U.dom.encode(ee[1]):void 0})(w,M.name):H,ne=A.create(H,M,P,G,K?M.name:void 0);return A.add(ne),ne})(l,E,g,b);Tf(l,`<img src="${C.blobUri()}">`,!1,!0)})})}),!0}return!1},_g=(e,t,n,r,o)=>{let i=TT(n);const a=qs(t,Sf())||yT(n),s=!a&&!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(i),l=vg(i);(CT(i)||!i.length||s&&!l)&&(r=!0),(r||l)&&(i=qs(t,"text/plain")&&s?t["text/plain"]:(d=>{const u=Ra(),f=id({},u);let m="";const b=u.getVoidElements(),g=Se.makeMap("script noscript style textarea video audio iframe object"," "),E=u.getBlockElements(),v=C=>{const w=C.name,A=C;if("br"!==w){if("wbr"!==w)if(b[w]&&(m+=" "),g[w])m+=" ";else{if(3===C.type&&(m+=C.value),!(C.name in u.getVoidElements())){let M=C.firstChild;if(M)do{v(M)}while(M=M.next)}E[w]&&A.next&&(m+="\n","p"===w&&(m+="\n"))}}else m+="\n"};return d=ST(d,[/<!\[[^\]]+\]>/g]),v(f.parse(d)),m})(i)),CT(i)||(r?bg(e,i,o):Tf(e,i,a,o))},RT=(e,t,n,r)=>{((o,i,a)=>{if(!o)return!1;try{return o.clearData(),o.setData("text/html",i),o.setData("text/plain",a),o.setData(Sf(),i),!0}catch{return!1}})(e.clipboardData,t.html,t.text)?(e.preventDefault(),r()):n(t.html,r)},kT=e=>(t,n)=>{const{dom:r,selection:o}=e,i=r.create("div",{contenteditable:"false","data-mce-bogus":"all"}),a=r.create("div",{contenteditable:"true"},t);r.setStyles(i,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),i.appendChild(a),r.add(e.getBody(),i);const s=o.getRng();a.focus();const l=r.createRng();l.selectNodeContents(a),o.setRng(l),hi.setEditorTimeout(e,()=>{o.setRng(s),r.remove(i),n()},0)},DT=e=>({html:ak(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),LT=e=>{return!e.selection.isCollapsed()||!!(t=e).dom.getParent(t.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",t.getBody());var t},IT=(e,t)=>{var n,r;return hl.getCaretRangeFromPoint(null!==(n=t.clientX)&&void 0!==n?n:0,null!==(r=t.clientY)&&void 0!==r?r:0,e.getDoc())},PT=(e,t)=>{e.focus(),t&&e.selection.setRng(t)},hk=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,MT=e=>Se.trim(e).replace(hk,Z).toLowerCase(),pk=(e,t,n)=>{const r=f1(e);if(n||"all"===r||!h1(e))return t;const o=r?r.split(/[, ]/):[];if(o&&"none"!==r){const i=e.dom,a=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(s,l,d,u)=>{const f=i.parseStyle(i.decode(d)),m={};for(let g=0;g<o.length;g++){const E=f[o[g]];let v=E,C=i.getStyle(a,o[g],!0);/color/.test(o[g])&&(v=MT(v),C=MT(C)),C!==v&&(m[o[g]]=E)}const b=i.serializeStyle(m,"span");return b?l+' style="'+b+'"'+u:l+u})}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(i,a,s,l)=>a+' style="'+s+'"'+l)},gk=dn,BT=Ce,vk=e=>Wt(e.dom),FT=e=>t=>Fe(k(e),t),jT=(e,t)=>Fr(k(e),vk,FT(t)),HT=(e,t,n)=>{const r=new De(e,t),o=n?r.next.bind(r):r.prev.bind(r);let i=e;for(let a=n?e:o();a&&!gk(a);a=o())Cr(a)&&(i=a);return i};var pd;!function(e){e.Before="before",e.After="after"}(pd||(pd={}));const _k=(e,t)=>Math.abs(e.left-t),yk=(e,t)=>Math.abs(e.right-t),Ck=(e,t,n)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),yg=(e,t,n,r)=>{const o=u=>Cr(u.node)?O.some(u):Le(u.node)?yg(_r(u.node.childNodes),t,n,!1):O.none(),i=(u,f)=>{const m=st(u,(b,g)=>f(b,t,n)-f(g,t,n));return ei(m,o).map(b=>{return r&&!Ce(b.node)&&m.length>1?(g=b,E=m[1],v=f,o(E).filter(C=>Math.abs(v(g,t,n)-v(C,t,n))<2&&Ce(C.node))).getOr(b):b;var g,E,v})},[a,s]=((e,t)=>{return(n=tt(e,n=>{return(r=t)>=(o=n).top&&r<=o.bottom;var r,o}),yn(n,(r,o)=>r.fold(()=>O.some(o),i=>{const a=Math.min(o.left,i.left),s=Math.min(o.top,i.top),l=Math.max(o.right,i.right),d=Math.max(o.bottom,i.bottom);return O.some({top:s,right:l,bottom:d,left:a,width:l-a,height:d-s})}),O.none())).fold(()=>[[],e],n=>{const{pass:r,fail:o}=qn(e,i=>((a,s)=>{const l=(d=a,u=s,Math.max(0,Math.min(d.bottom,u.bottom)-Math.max(d.top,u.top))/Math.min(a.height,s.height));var d,u;return((d,u)=>d.top<u.bottom&&d.bottom>u.top)(a,s)&&l>.5})(i,n));return[r,o]});var n})(uC(e),n),{pass:l,fail:d}=qn(s,u=>u.top<n);return i(a,Ck).orThunk(()=>i(d,ev)).orThunk(()=>i(l,ev))},$T=(e,t,n)=>((r,o,i)=>{const a=k(r),l=((e,t,n)=>O.from(e.dom.elementFromPoint(t,n)).map(D))(an(a),o,i).filter(d=>Ot(a,d)).getOr(a);return((d,u,f,m)=>{const b=(g,E)=>{const v=tt(g.dom.childNodes,so(C=>Le(C)&&C.classList.contains("mce-drag-container")));return E.fold(()=>yg(v,f,m,!0),C=>{const w=tt(v,A=>A!==C.dom);return yg(w,f,m,!0)}).orThunk(()=>(Fe(g,d)?O.none():yr(g)).bind(C=>b(C,O.some(g))))};return b(u,O.none())})(a,l,o,i)})(e,t,n).filter(r=>Qd(r.node)).map(r=>{return{node:(o=r).node,position:_k(o,i=t)<yk(o,i)?pd.Before:pd.After};var o,i}),UT=e=>{var t,n;const r=e.getBoundingClientRect(),o=e.ownerDocument,i=o.documentElement,a=o.defaultView;return{top:r.top+(null!==(t=a?.scrollY)&&void 0!==t?t:0)-i.clientTop,left:r.left+(null!==(n=a?.scrollX)&&void 0!==n?n:0)-i.clientLeft}},VT=e=>({target:e,srcElement:e}),zT=Wt,Tk=((...e)=>t=>{for(let n=0;n<e.length;n++)if(e[n](t))return!0;return!1})(zT,Yo),wk=(e,t,n,r)=>{const o=e.dom,i=t.cloneNode(!0);o.setStyles(i,{width:n,height:r}),o.setAttrib(i,"data-mce-selected",null);const a=o.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return o.setStyles(a,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:r}),o.setStyles(i,{margin:0,boxSizing:"border-box"}),a.appendChild(i),a},wf=(e,t)=>n=>()=>{n.scroll({[e]:("left"===e?n.scrollX:n.scrollY)+t,behavior:"smooth"})},qT=wf("left",-32),WT=wf("left",32),KT=wf("top",-32),YT=wf("top",32),QT=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},Lc=(e,t,n,r,o)=>{"dragstart"===t&&bT(r,e.dom.getOuterHTML(n));const i=((e,t,n,r)=>{const o=((i,a)=>{const s=(l=>{const d=hg(),u=O.from(l[ug]);return fg(l),hT(d),d.dropEffect=l.dropEffect,d.effectAllowed=l.effectAllowed,(f=l,O.from(f[fT])).each(f=>d.setDragImage(f.image,f.x,f.y)),de(l.types,f=>{"Files"!==f&&d.setData(f,l.getData(f))}),de(l.files,f=>d.items.add(f)),(f=>O.from(f[cg]))(l).each(f=>{var m;m=d,Ef(f)(m)}),u.each(f=>{pT(l,f),pT(d,f)}),d;var f})(i);return"dragstart"===a?(hT(s),mT(s)):"drop"===a?(ek(s),fg(s)):(tk(s),rk(s)),s})(n,e);return sn(r)?((i,a,s)=>{const l=Vr("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:i,composedPath:l,initEvent:l,preventDefault:Ke,stopImmediatePropagation:Ke,stopPropagation:Ke,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:l,initMouseEvent:l,getModifierState:l,dataTransfer:s,...VT(a)}})(e,t,o):(i=e,a=r,s=t,l=o,{...a,dataTransfer:l,type:i,...VT(s)});var i,a,s,l})(t,n,r,o);return e.dispatch(t,i)},GT=(e,t,n)=>{e.on(r=>{r.intervalId.clear(),r.dragging&&n.fold(()=>Lc(t,"dragend",r.element,r.dataTransfer),o=>Lc(t,"dragend",r.element,r.dataTransfer,o))}),XT(e)},XT=e=>{e.on(t=>{t.intervalId.clear(),QT(t.ghost)}),e.clear()},Ic=Wt,JT=(e,t)=>vl(e.getBody(),t),xk=e=>{const t=e.selection,n=e.dom,r=e.getBody(),o=((e,t,n,r)=>{const o=Ps();let i,a;const s=Hr(e),l=e.dom,d=()=>{(u=>{var f,m;const b=le(k(u),"*[contentEditable=false],video,audio,embed,object");for(let g=0;g<b.length;g++){const E=b[g].dom;let v=E.previousSibling;if(Ml(v)){const C=v.data;1===C.length?null===(f=v.parentNode)||void 0===f||f.removeChild(v):v.deleteData(C.length-1,1)}v=E.nextSibling,Co(v)&&(1===v.data.length?null===(m=v.parentNode)||void 0===m||m.removeChild(v):v.deleteData(0,1))}})(t),a&&(ll(a),a=null),o.on(u=>{l.remove(u.caret),o.clear()}),i&&(clearInterval(i),i=void 0)};return{show:(u,f)=>{let m;if(d(),I1(f))return null;if(!n(f))return a=((b,g)=>{var E;const v=(null!==(E=b.ownerDocument)&&void 0!==E?E:document).createTextNode(Bn),C=b.parentNode;if(g){const w=b.previousSibling;if(As(w)){if(pr(w))return w;if(Ml(w))return w.splitText(w.data.length-1)}C?.insertBefore(v,b)}else{const w=b.nextSibling;if(As(w)){if(pr(w))return w;if(Co(w))return w.splitText(1),w}b.nextSibling?C?.insertBefore(v,b.nextSibling):C?.appendChild(v)}return v})(f,u),m=f.ownerDocument.createRange(),Yd(a.nextSibling)?(m.setStart(a,0),m.setEnd(a,0)):(m.setStart(a,1),m.setEnd(a,1)),m;{const b=((v,C,w)=>{var A;const M=(null!==(A=C.ownerDocument)&&void 0!==A?A:document).createElement(v);M.setAttribute("data-mce-caret",w?"before":"after"),M.setAttribute("data-mce-bogus","all"),M.appendChild(Qs().dom);const P=C.parentNode;return w?P?.insertBefore(M,C):C.nextSibling?P?.insertBefore(M,C.nextSibling):P?.appendChild(M),M})(s,f,u),g=Yv(t,f,u);l.setStyle(b,"top",g.top),a=b;const E=l.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});l.setStyles(E,{...g}),l.add(t,E),o.set({caret:E,element:f,before:u}),u&&l.addClass(E,"mce-visual-caret-before"),i=setInterval(()=>{o.on(v=>{r()?l.toggleClass(v.caret,"mce-visual-caret-hidden"):l.addClass(v.caret,"mce-visual-caret-hidden")})},500),m=f.ownerDocument.createRange(),m.setStart(b,0),m.setEnd(b,0)}return m},hide:d,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{o.on(u=>{const f=Yv(t,u.element,u.before);l.setStyles(u.caret,{...f})})},destroy:()=>clearInterval(i)}})(e,r,n.isBlock,()=>pl(e)),i="sel-"+n.uniqueId(),a="data-mce-selected";let s;const l=v=>v!==r&&(Ic(v)||Ui(v))&&n.isChildOf(v,r)&&n.isEditable(v.parentNode),d=(v,C,w,A=!0)=>e.dispatch("ShowCaret",{target:C,direction:v,before:w}).isDefaultPrevented()?null:(A&&t.scrollIntoView(C,-1===v),o.show(w,C)),u=v=>pr(v)||Co(v)||Ml(v),f=v=>u(v.startContainer)||u(v.endContainer),b=(v,C)=>{if(!v)return null;if(v.collapsed){if(!f(v)){const P=C?1:-1,H=Zd(P,r,v),K=H.getNode(!C);if(Ne(K)){if(Qd(K))return d(P,K,!!C&&!H.isAtEnd(),!1);if(wa(K)&&Wt(K.nextSibling)){const J=n.createRng();return J.setStart(K,0),J.setEnd(K,0),J}}const G=H.getNode(C);if(Ne(G)){if(Qd(G))return d(P,G,!C&&!H.isAtEnd(),!1);if(wa(G)&&Wt(G.previousSibling)){const J=n.createRng();return J.setStart(G,1),J.setEnd(G,1),J}}}return null}let w=v.startContainer,A=v.startOffset;const M=v.endOffset;if(Ce(w)&&0===A&&Ic(w.parentNode)&&(w=w.parentNode,A=n.nodeIndex(w),w=w.parentNode),!Le(w))return null;if(M===A+1&&w===v.endContainer){const P=w.childNodes[A];if(l(P))return(H=>{const K=H.cloneNode(!0),G=e.dispatch("ObjectSelected",{target:H,targetClone:K});if(G.isDefaultPrevented())return null;const J=((U,Y)=>{const ee=k(e.getBody()),ue=e.getDoc(),Oe=Fi(ee,"#"+i).getOrThunk(()=>{const Ye=B('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',ue);return on(Ye,"id",i),$(ee,Ye),Ye}),we=n.createRng();fe(Oe),se(Oe,[V(hn,ue),k(Y),V(hn,ue)]),we.setStart(Oe.dom.firstChild,1),we.setEnd(Oe.dom.lastChild,0),bo(Oe,{top:n.getPos(U,e.getBody()).y+"px"}),d_(Oe);const Xe=t.getSel();return Xe&&(Xe.removeAllRanges(),Xe.addRange(we)),we})(H,G.targetClone),ne=k(H);return de(le(k(e.getBody()),`*[${a}]`),U=>{Fe(ne,U)||nn(U,a)}),n.getAttrib(H,a)||H.setAttribute(a,"1"),s=H,E(),J})(P)}return null},g=()=>{s&&s.removeAttribute(a),Fi(k(e.getBody()),"#"+i).each(ce),s=null},E=()=>{o.hide()};return Ba(e)||(e.on("click",v=>{n.isEditable(v.target)||(v.preventDefault(),e.focus())}),e.on("blur NewBlock",g),e.on("ResizeWindow FullscreenStateChanged",o.reposition),e.on("tap",v=>{const C=v.target,w=JT(e,C);Ic(w)?(v.preventDefault(),_c(e,w).each(b)):l(C)&&_c(e,C).each(b)},!0),e.on("mousedown",v=>{const C=v.target;if(C!==r&&"HTML"!==C.nodeName&&!n.isChildOf(C,r)||!((A,M,P)=>{const H=k(A.getBody()),K=A.inline?H:k(an(H).dom.documentElement),G=((J,ne,U,Y)=>{const ee=ne.dom.getBoundingClientRect();return{x:U-(J?ee.left+ne.dom.clientLeft+rO(ne):0),y:Y-(J?ee.top+ne.dom.clientTop+nO(ne):0)}})(A.inline,K,M,P);return((J,ne,U)=>{const Y=eO(J),ee=tO(J);return ne>=0&&U>=0&&ne<=Y&&U<=ee})(K,G.x,G.y)})(e,v.clientX,v.clientY))return;g(),E();const w=JT(e,C);Ic(w)?(v.preventDefault(),_c(e,w).each(b)):$T(r,v.clientX,v.clientY).each(A=>{var M;v.preventDefault(),(M=d(1,A.node,A.position===pd.Before,!1))&&t.setRng(M),rr(w)?w.focus():e.getBody().focus()})}),e.on("keypress",v=>{Pe.modifierPressed(v)||Ic(t.getNode())&&v.preventDefault()}),e.on("GetSelectionRange",v=>{let C=v.range;if(s){if(!s.parentNode)return void(s=null);C=C.cloneRange(),C.selectNode(s),v.range=C}}),e.on("SetSelectionRange",v=>{v.range=(v=>{const C=e.schema.getVoidElements(),w=n.createRng(),A=v.startContainer,M=v.startOffset,P=v.endContainer,H=v.endOffset;return nt(C,A.nodeName.toLowerCase())?0===M?w.setStartBefore(A):w.setStartAfter(A):w.setStart(A,M),nt(C,P.nodeName.toLowerCase())?0===H?w.setEndBefore(P):w.setEndAfter(P):w.setEnd(P,H),w})(v.range);const C=b(v.range,v.forward);C&&(v.range=C)}),e.on("AfterSetSelectionRange",v=>{const C=v.range,w=C.startContainer.parentElement;var A,M;f(C)||Le(A=w)&&"mcepastebin"===A.id||E(),Ne(M=w)&&n.hasClass(M,"mce-offscreen-selection")||g()}),(e=>{const t=Ps(),n=Xt.DOM,r=document,o=(l=t,d=e,u=>{if(0===u.button){const f=Gt(d.dom.getParents(u.target),Tk).getOr(null);if(Ne(f)&&(m=d.dom,b=d.getBody(),zT(g=f)&&g!==b&&m.isEditable(g.parentElement))){const m=d.dom.getPos(f),b=d.getBody(),g=d.getDoc().documentElement;l.set({element:f,dataTransfer:hg(),dragging:!1,screenX:u.screenX,screenY:u.screenY,maxX:(d.inline?b.scrollWidth:g.offsetWidth)-2,maxY:(d.inline?b.scrollHeight:g.offsetHeight)-2,relX:u.pageX-m.x,relY:u.pageY-m.y,width:f.offsetWidth,height:f.offsetHeight,ghost:wk(d,f,f.offsetWidth,f.offsetHeight),intervalId:tN(100)})}}var m,b,g}),i=((e,t)=>{const n=lu((o,i)=>{return s=o,l=i,(a=t)._selectionOverrides.hideFakeCaret(),void $T(a.getBody(),s,l).fold(()=>a.selection.placeCaretAt(s,l),d=>{const u=a._selectionOverrides.showCaret(1,d.node,d.position===pd.Before,!1);u?a.selection.setRng(u):a.selection.placeCaretAt(s,l)});var a,s,l},0);t.on("remove",n.cancel);const r=e;return o=>e.on(i=>{const a=Math.max(Math.abs(o.screenX-i.screenX),Math.abs(o.screenY-i.screenY));if(!i.dragging&&a>10){const d=Lc(t,"dragstart",i.element,i.dataTransfer,o);if(Ne(d.dataTransfer)&&(i.dataTransfer=d.dataTransfer),d.isDefaultPrevented())return;i.dragging=!0,t.focus()}if(i.dragging){const d=o.currentTarget===t.getDoc().documentElement,u=((f,m)=>({pageX:m.pageX-f.relX,pageY:m.pageY+5}))(i,(m=o,b=(v=f=t).inline?UT(v.getBody()):{left:0,top:0},g=(v=>{const C=v.getBody();return v.inline?{left:C.scrollLeft,top:C.scrollTop}:{left:0,top:0}})(f),E=((v,C)=>{if(C.target.ownerDocument!==v.getDoc()){const w=UT(v.getContentAreaContainer()),A=(M=>{const P=M.getBody(),H=M.getDoc().documentElement;return M.inline?{left:P.scrollLeft,top:P.scrollTop}:{left:P.scrollLeft||H.scrollLeft,top:P.scrollTop||H.scrollTop}})(v);return{left:C.pageX-w.left+A.left,top:C.pageY-w.top+A.top}}return{left:C.pageX,top:C.pageY}})(f,m),{pageX:E.left-b.left+g.left,pageY:E.top-b.top+g.top}));s=i.ghost,l=t.getBody(),s.parentNode!==l&&l.appendChild(s),((f,m,b,g,E,v,C,w,A,M,P,H)=>{let K=0,G=0;f.style.left=m.pageX+"px",f.style.top=m.pageY+"px",m.pageX+b>E&&(K=m.pageX+b-E),m.pageY+g>v&&(G=m.pageY+g-v),f.style.width=b-K+"px",f.style.height=g-G+"px";const J=A.clientHeight,ne=A.clientWidth,U=C+A.getBoundingClientRect().top,Y=w+A.getBoundingClientRect().left;P.on(ee=>{ee.intervalId.clear(),ee.dragging&&H&&(C+8>=J?ee.intervalId.set(YT(M)):C-8<=0?ee.intervalId.set(KT(M)):w+8>=ne?ee.intervalId.set(WT(M)):w-8<=0?ee.intervalId.set(qT(M)):U+16>=window.innerHeight?ee.intervalId.set(YT(window)):U-16<=0?ee.intervalId.set(KT(window)):Y+16>=window.innerWidth?ee.intervalId.set(WT(window)):Y-16<=0&&ee.intervalId.set(qT(window)))})})(i.ghost,u,i.width,i.height,i.maxX,i.maxY,o.clientY,o.clientX,t.getContentAreaContainer(),t.getWin(),r,d),n.throttle(o.clientX,o.clientY)}var f,m,v,b,g,E,s,l})})(t,e),a=((l,d)=>u=>{l.on(f=>{var m,b,g,E;if(f.intervalId.clear(),f.dragging){if(b=d,g=(b=>{const g=b.getSel();if(Ne(g)){const E=g.getRangeAt(0).startContainer;return Ce(E)?E.parentNode:E}return null})(d.selection),E=f.element,!qt(g)&&g!==E&&!b.dom.isChildOf(g,E)&&b.dom.isEditable(g)){const b=null!==(m=d.getDoc().elementFromPoint(u.clientX,u.clientY))&&void 0!==m?m:d.getBody();Lc(d,"drop",b,f.dataTransfer,u).isDefaultPrevented()||d.undoManager.transact(()=>{((g,E)=>{const v=g.getParent(E.parentNode,g.isBlock);QT(E),v&&v!==g.getRoot()&&g.isEmpty(v)&&Qo(k(v))})(d.dom,f.element),(g=>{const E=g.getData("text/html");return""===E?O.none():O.some(E)})(f.dataTransfer).each(g=>d.insertContent(g)),d._selectionOverrides.hideFakeCaret()})}Lc(d,"dragend",d.getBody(),f.dataTransfer,u)}}),XT(l)})(t,e),s=((l,d)=>u=>GT(l,d,O.some(u)))(t,e);var l,d;e.on("mousedown",o),e.on("mousemove",i),e.on("mouseup",a),n.bind(r,"mousemove",i),n.bind(r,"mouseup",s),e.on("remove",()=>{n.unbind(r,"mousemove",i),n.unbind(r,"mouseup",s)}),e.on("keydown",l=>{l.keyCode===Pe.ESC&&GT(t,e,O.none())})})(v=e),JN(v)&&(C=>{const w=P=>{if(!P.isDefaultPrevented()){const H=P.dataTransfer;H&&(Bt(H.types,"Files")||H.files.length>0)&&(P.preventDefault(),"drop"===P.type&&Xu(C,"Dropped file type is not supported"))}},A=P=>{ku(C,P.target)&&w(P)},M=()=>{const P=Xt.DOM,H=C.dom,K=document,G=C.inline?C.getBody():C.getDoc(),J=["drop","dragover"];de(J,ne=>{P.bind(K,ne,A),H.bind(G,ne,w)}),C.on("remove",()=>{de(J,ne=>{P.unbind(K,ne,A),H.unbind(G,ne,w)})})};C.on("init",()=>{hi.setEditorTimeout(C,M,0)})})(v),(v=>{const C=lu(()=>{if(!v.removed&&v.getBody().contains(document.activeElement)){const w=v.selection.getRng();if(w.collapsed){const A=Cm(v,w,!1);v.selection.setRng(A)}}},0);v.on("focus",()=>{C.throttle()}),v.on("blur",()=>{C.cancel()})})(e),(v=>{v.on("init",()=>{v.on("focusin",C=>{const w=C.target;if(Ui(w)){const A=vl(v.getBody(),w),M=Wt(A)?A:w;v.selection.getNode()!==M&&_c(v,M).each(P=>v.selection.setRng(P))}})})})(e)),{showCaret:d,showBlockCaretContainer:v=>{v.hasAttribute("data-mce-caret")&&(Bl(v),t.scrollIntoView(v))},hideFakeCaret:E,destroy:()=>{o.destroy(),s=null}};var v},Ok=(e,t)=>{let n=t;for(let r=e.previousSibling;Ce(r);r=r.previousSibling)n+=r.data.length;return n},ZT=(e,t,n,r,o)=>{if(Ce(n)&&(r<0||r>n.data.length))return[];const i=o&&Ce(n)?[Ok(n,r)]:[r];let a=n;for(;a!==t&&a.parentNode;)i.push(e.nodeIndex(a,o)),a=a.parentNode;return a===t?i.reverse():[]},Eg=(e,t,n,r,o,i,a=!1)=>({start:ZT(e,t,n,r,a),end:ZT(e,t,o,i,a)}),ew=(e,t)=>{const n=t.slice(),r=n.pop();return T(r)?yn(n,(o,i)=>o.bind(a=>O.from(a.childNodes[i])),O.some(e)).bind(o=>Ce(o)&&(r<0||r>o.data.length)?O.none():O.some({node:o,offset:r})):O.none()},tw=(e,t)=>ew(e,t.start).bind(({node:n,offset:r})=>ew(e,t.end).map(({node:o,offset:i})=>{const a=document.createRange();return a.setStart(n,r),a.setEnd(o,i),a})),md=(e,t,n)=>{if(t&&e.isEmpty(t)&&!n(t)){const r=t.parentNode;e.remove(t,Ce(t.firstChild)&&Na(t.firstChild.data)),md(e,r,n)}},Nf=(e,t,n,r=!0)=>{const o=t.startContainer.parentNode,i=t.endContainer.parentNode;t.deleteContents(),r&&!n(t.startContainer)&&(Ce(t.startContainer)&&0===t.startContainer.data.length&&e.remove(t.startContainer),Ce(t.endContainer)&&0===t.endContainer.data.length&&e.remove(t.endContainer),md(e,o,n),o!==i&&md(e,i,n))},Cg=(e,t)=>O.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),nw=(e,t,n)=>{const r=e.dynamicPatternsLookup({text:n,block:t});return{...e,blockPatterns:Sv(r).concat(e.blockPatterns),inlinePatterns:Tv(r).concat(e.inlinePatterns)}},rw=(e,t,n,r)=>{const o=e.createRng();return o.setStart(t,0),o.setEnd(n,r),o.toString()},ow=(e,t,n)=>{((r,o,i)=>{if(Ce(r)&&0>=r.length)return O.some(ha(r,0));{const a=il(lf);return O.from(a.forwards(r,0,df(r),i)).map(s=>ha(s.container,0))}})(t,0,t).each(r=>{const o=r.container;hS(o,n.start.length,t).each(s=>{const l=e.createRng();l.setStart(o,0),l.setEnd(s.container,s.offset),Nf(e,l,d=>d===t)});const i=k(o),a=yo(i);var s,l;/^\s[^\s]/.test(a)&&(s=i,l=a.slice(1),Ns.set(s,l))})},iw=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t}),Af=(e,t)=>{const n=e.createRng();return n.setStartAfter(t.start),n.setEndBefore(t.end),n},aw=(e,t,n)=>{const r=tw(e.getRoot(),n).getOrDie("Unable to resolve path range"),o=r.startContainer,i=r.endContainer,a=0===r.endOffset?i:i.splitText(r.endOffset),s=0===r.startOffset?o:o.splitText(r.startOffset),l=s.parentNode;return{prefix:t,end:a.parentNode.insertBefore(iw(e,t+"-end"),a),start:l.insertBefore(iw(e,t+"-start"),s)}},sw=(e,t,n)=>{md(e,e.get(t.prefix+"-end"),n),md(e,e.get(t.prefix+"-start"),n)},Sg=e=>0===e.start.length,lw=(e,t,n,r)=>{const o=t.start;var i;return qm(e,r.container,r.offset,(i=o,(a,s)=>{const l=a.data.substring(0,s),d=l.lastIndexOf(i.charAt(i.length-1)),u=l.lastIndexOf(i);return-1!==u?u+i.length:-1!==d?d+1:-1}),n).bind(a=>{var s,l;const d=null!==(l=null===(s=n.textContent)||void 0===s?void 0:s.indexOf(o))&&void 0!==l?l:-1;if(-1!==d&&a.offset>=d+o.length){const u=e.createRng();return u.setStart(a.container,a.offset-o.length),u.setEnd(a.container,a.offset),O.some(u)}return zm(a.container,a.offset-o.length,n).map(f=>{const m=e.createRng();return m.setStart(f.container,f.offset),m.setEnd(a.container,a.offset),m}).filter(f=>f.toString()===o).orThunk(()=>lw(e,t,n,ha(a.container,0)))})},Rk=(e,t,n,r)=>{const o=e.dom,i=o.getRoot(),a=n.pattern,s=n.position.container,l=n.position.offset;return zm(s,l-n.pattern.end.length,t).bind(d=>{const u=Eg(o,i,d.container,d.offset,s,l,r);if(Sg(a))return O.some({matches:[{pattern:a,startRng:u,endRng:u}],position:d});{const f=xf(e,n.remainingPatterns,d.container,d.offset,t,r),m=f.getOr({matches:[],position:d}),b=m.position;return((E,v,C,w,A,M=!1)=>{if(0===v.start.length&&!M){const P=E.createRng();return P.setStart(C,w),P.setEnd(C,w),O.some(P)}return Vm(C,w,A).bind(P=>lw(E,v,A,P).bind(H=>{var K;return M&&(H.endContainer===P.container&&H.endOffset===P.offset||0===P.offset&&(null===(K=H.endContainer.textContent)||void 0===K?void 0:K.length)===H.endOffset)?O.none():O.some(H)}))})(o,a,b.container,b.offset,t,f.isNone()).map(E=>{const v=((C,w,A,M=!1)=>Eg(C,w,A.startContainer,A.startOffset,A.endContainer,A.endOffset,M))(o,i,E,r);return{matches:m.matches.concat([{pattern:a,startRng:v,endRng:u}]),position:ha(E.startContainer,E.startOffset)}})}})},xf=(e,t,n,r,o,i)=>{const a=e.dom;return Vm(n,r,a.getRoot()).bind(s=>{const l=rw(a,o,n,r);for(let d=0;d<t.length;d++){const u=t[d];if(!zr(l,u.end))continue;const f=t.slice();f.splice(d,1);const m=Rk(e,o,{pattern:u,remainingPatterns:f,position:s},i);if(m.isNone()&&r>0)return xf(e,t,n,r-1,o,i);if(m.isSome())return m}return O.none()})},dw=(e,t,n)=>{e.selection.setRng(n),"inline-format"===t.type?de(t.format,r=>{e.formatter.apply(r)}):e.execCommand(t.cmd,!1,t.value)},cw=(e,t,n,r,o,i)=>{var a;return((s,l)=>{const d=jo(s,u=>Zt(l,f=>u.pattern.start===f.pattern.start&&u.pattern.end===f.pattern.end));return s.length===l.length?d?s:l:s.length>l.length?s:l})(xf(e,o.inlinePatterns,n,r,t,i).fold(()=>[],s=>s.matches),xf(e,(a=o.inlinePatterns,st(a,(s,l)=>l.end.length-s.end.length)),n,r,t,i).fold(()=>[],s=>s.matches))},uw=(e,t)=>{if(0===t.length)return;const n=e.dom,r=e.selection.getBookmark(),o=((i,a)=>{const s=$d("mce_textpattern"),l=Fo(a,(d,u)=>{const f=aw(i,s+`_end${d.length}`,u.endRng);return d.concat([{...u,endMarker:f}])},[]);return Fo(l,(d,u)=>{const f=l.length-d.length-1,m=Sg(u.pattern)?u.endMarker:aw(i,s+`_start${f}`,u.startRng);return d.concat([{...u,startMarker:m}])},[])})(n,t);de(o,i=>{const a=n.getParent(i.startMarker.start,n.isBlock),s=l=>l===a;Sg(i.pattern)?((l,d,u,f)=>{const m=Af(l.dom,u);Nf(l.dom,m,f),dw(l,d,m)})(e,i.pattern,i.endMarker,s):((l,d,u,f,m)=>{const b=l.dom,g=Af(b,f),E=Af(b,u);Nf(b,E,m),Nf(b,g,m);const C=Af(b,{prefix:u.prefix,start:u.end,end:f.start});dw(l,d,C)})(e,i.pattern,i.startMarker,i.endMarker,s),sw(n,i.endMarker,s),sw(n,i.startMarker,s)}),e.selection.moveToBookmark(r)},fw=(e,t,n)=>{for(let r=0;r<e.length;r++)if(n(e[r],t))return!0;return!1},Tg=Xt.DOM,Lk=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,wg=e=>Ni(e,t=>!1===sn(t)),hw=e=>{const t=e.options.get,n=e.editorUpload.blobCache;return wg({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_unsafe_embeds:t("convert_unsafe_embeds"),convert_fonts_to_spans:t("convert_fonts_to_spans"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),inline_styles:t("inline_styles"),root_name:Lk(e),sandbox_iframes:t("sandbox_iframes"),sanitize:t("xss_sanitization"),validate:!0,blob_cache:n,document:e.getDoc()})},pw=e=>{const t=e.options.get;return wg({custom_elements:t("custom_elements"),extended_valid_elements:t("extended_valid_elements"),invalid_elements:t("invalid_elements"),invalid_styles:t("invalid_styles"),schema:t("schema"),valid_children:t("valid_children"),valid_classes:t("valid_classes"),valid_elements:t("valid_elements"),valid_styles:t("valid_styles"),verify_html:t("verify_html"),padd_empty_block_inline_children:t("format_empty_lines")})},Ng=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,mw=e=>{const t=Ng(e),n=Pv(e),r=e.contentCSS,o=()=>{t.unloadAll(r),e.inline||e.ui.styleSheetLoader.unloadAll(n)},i=()=>{e.removed?o():e.on("remove",o)};if(e.contentStyles.length>0){let l="";Se.each(e.contentStyles,d=>{l+=d+"\r\n"}),e.dom.addStyle(l)}const a=Promise.all(((l,d,u)=>{const{pass:f,fail:m}=qn(d,E=>tinymce.Resource.has(vm(E))),g=[...f.map(E=>{const v=tinymce.Resource.get(vm(E));return We(v)?Promise.resolve(Ng(l).loadRawCss(E,v)):Promise.resolve()}),Ng(l).loadAll(m)];return l.inline?g:g.concat([l.ui.styleSheetLoader.loadAll(u)])})(e,r,n)).then(i).catch(i),s=kN(e);return s&&((l,d)=>{const u=k(l.getBody()),f=Zr(xn(u)),m=z("style");on(m,"type","text/css"),$(m,V(d)),$(f,m),l.on("remove",()=>{ce(m)})})(e,s),a},Ag=e=>{var t;!0!==e.removed&&(Ba(t=e)||t.load({initial:!0,format:"html"}),t.startContent=t.getContent({format:"raw"}),(t=>{t.bindPendingEventDelegates(),t.initialized=!0,t.dispatch("Init"),t.focus(!0),(r=>{const o=r.dom.getRoot();r.inline||Eu(r)&&r.selection.getStart(!0)!==o||$r(o).each(i=>{const a=i.getNode(),s=$i(a)?$r(a).getOr(i):i;r.selection.setRng(s.toRange())})})(t),t.nodeChanged({initial:!0});const n=r1(t);Ft(n)&&n.call(t,t),(r=>{const o=i1(r);o&&hi.setEditorTimeout(r,()=>{let i;i=!0===o?r:r.editorManager.get(o),i&&!i.destroyed&&(i.focus(),i.selection.scrollIntoView())},100)})(t)})(e))},gw=e=>{const t=e.getElement();let n=e.getDoc();e.inline&&(Tg.addClass(t,"mce-content-body"),e.contentDocument=n=document,e.contentWindow=window,e.bodyElement=t,e.contentAreaContainer=t);const r=e.getBody();var a,s;r.disabled=!0,e.readonly=Fv(e),e._editableRoot=GN(e),!e.readonly&&e.hasEditableRoot()&&(e.inline&&"static"===Tg.getStyle(r,"position",!0)&&(r.style.position="relative"),r.contentEditable="true"),r.disabled=!1,e.editorUpload=(e=>{const t=(()=>{let E=[];const v=A=>{if(!A.blob||!A.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const M=A.id||"blobid"+iO+++(()=>{const G=()=>Math.round(4294967295*Math.random()).toString(36);return"s"+(new Date).getTime().toString(36)+G()+G()+G()})(),P=A.name||M,H=A.blob;var K;return{id:Ae(M),name:Ae(P),filename:Ae(A.filename||P+"."+(K=H.type,{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"}[K.toLowerCase()]||"dat")),blob:Ae(H),base64:Ae(A.base64),blobUri:Ae(A.blobUri||URL.createObjectURL(H)),uri:Ae(A.uri)}},C=A=>Gt(E,A).getOrUndefined(),w=A=>C(M=>M.id()===A);return{create:(A,M,P,H,K)=>{if(We(A))return v({id:A,name:H,filename:K,blob:M,base64:P});if(ut(A))return v(A);throw new Error("Unknown input type")},add:A=>{w(A.id())||E.push(A)},get:w,getByUri:A=>C(M=>M.blobUri()===A),getByData:(A,M)=>C(P=>P.base64()===A&&P.blob().type===M),findFirst:C,removeByUri:A=>{E=tt(E,M=>M.blobUri()!==A||(URL.revokeObjectURL(M.blobUri()),!1))},destroy:()=>{de(E,A=>{URL.revokeObjectURL(A.blobUri())}),E=[]}}})();let n,r;const o=S0(),i=[],a=E=>v=>e.selection?E(v):[],s=(E,v,C)=>{let w=0;do{w=E.indexOf(v,w),-1!==w&&(E=E.substring(0,w)+C+E.substr(w+v.length),w+=C.length-v.length+1)}while(-1!==w);return E},l=(E,v,C)=>(E=s(E,`src="${v}"`,`src="${C}"${C===Et.transparentSrc?' data-mce-placeholder="1"':""}`),s(E,'data-mce-src="'+v+'"','data-mce-src="'+C+'"')),d=(E,v)=>{de(e.undoManager.data,C=>{"fragmented"===C.type?C.fragments=wt(C.fragments,w=>l(w,E,v)):C.content=l(C.content,E,v)})},u=()=>(n||(n=w0(e,o)),b().then(a(E=>{const v=wt(E,C=>C.blobInfo);return n.upload(v,T0(e)).then(a(C=>{const w=[];let A=!1;const M=wt(C,(P,H)=>{const{blobInfo:K,image:G}=E[H];let J=!1;return P.status&&EN(e)?(P.url&&!Cn(G.src,P.url)&&(A=!0),t.removeByUri(G.src),Ba(e)||((ne,U)=>{const Y=e.convertURL(U,"src");var ee;d(ne.src,U),Yr(k(ne),{src:kv(e)?(ee=U,ee+(-1===ee.indexOf("?")?"?":"&")+(new Date).getTime()):U,"data-mce-src":Y})})(G,P.url)):P.error&&(P.error.remove&&(d(G.src,Et.transparentSrc),w.push(G),J=!0),Xu(e,da.translate(["Failed to upload image: {0}",P.error.message]))),{element:G,status:P.status,uploadUri:P.url,blobInfo:K,removed:J}});return w.length>0&&!Ba(e)?e.undoManager.transact(()=>{de(Ge(w),P=>{const H=en(P);var K;ce(P),H.each((K=e,G=>{var J,ne;(J=K).dom.isEmpty((ne=G).dom)&&Ne(J.schema.getTextBlockElements()[Nt(ne)])&&$(G,B('<br data-mce-bogus="1" />'))})),t.removeByUri(P.dom.src)})}):A&&e.undoManager.dispatchChange(),M}))}))),f=()=>Rv(e)?u():Promise.resolve([]),m=E=>jo(i,v=>v(E)),b=()=>(r||(r=((e,t)=>{const n={};return{findAll:(r,o=tn)=>{const i=tt((s=r)?_r(s.getElementsByTagName("img")):[],s=>{const l=s.src;return!s.hasAttribute("data-mce-bogus")&&!s.hasAttribute("data-mce-placeholder")&&!(!l||l===Et.transparentSrc)&&(un(l,"blob:")?!e.isUploaded(l)&&o(s):!!un(l,"data:")&&o(s))}),a=wt(i,s=>{const l=s.src;if(nt(n,l))return n[l].then(d=>We(d)?d:{image:s,blobInfo:d.blobInfo});{const d=((u,f)=>{const m=()=>Promise.reject("Invalid data URI");if(un(f,"blob:")){const E=u.getByUri(f);return Ne(E)?Promise.resolve(E):(b=f,un(b,"blob:")?(v=b,fetch(v).then(C=>C.ok?C.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${v} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"}))):un(b,"data:")?(g=b,new Promise((v,C)=>{Jp(g).bind(({type:w,data:A,base64Encoded:M})=>EE(w,A,M)).fold(()=>C("Invalid data URI"),v)})):Promise.reject("Unknown URI format")).then(v=>CE(v).then(C=>SE(C,!1,w=>O.some(TE(u,v,w))).getOrThunk(m)))}var v,b,g;return un(f,"data:")?wE(u,f).fold(m,E=>Promise.resolve(E)):Promise.reject("Unknown image data format")})(t,l).then(u=>(delete n[l],{image:s,blobInfo:u})).catch(u=>(delete n[l],u));return n[l]=d,d}});var s;return Promise.all(a)}}})(o,t)),r.findAll(e.getBody(),m).then(a(E=>{const v=tt(E,C=>We(C)?(Xu(e,C),!1):"blob"!==C.uriType);return Ba(e)||de(v,C=>{d(C.image.src,C.blobInfo.blobUri()),C.image.src=C.blobInfo.blobUri(),C.image.removeAttribute("data-mce-src")}),v}))),g=E=>E.replace(/src="(blob:[^"]+)"/g,(v,C)=>{const w=o.getResultUri(C);if(w)return'src="'+w+'"';let A=t.getByUri(C);return A||(A=yn(e.editorManager.get(),(M,P)=>M||P.editorUpload&&P.editorUpload.blobCache.getByUri(C),void 0)),A?'src="data:'+A.blob().type+";base64,"+A.base64()+'"':v});return e.on("SetContent",()=>{Rv(e)?f():b()}),e.on("RawSaveContent",E=>{E.content=g(E.content)}),e.on("GetContent",E=>{E.source_view||"raw"===E.format||"tree"===E.format||(E.content=g(E.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",E=>{de(E,v=>{const C=v.attr("src");if(!C||t.getByUri(C))return;const w=o.getResultUri(C);w&&v.attr("src",w)})})}),{blobCache:t,addFilter:E=>{i.push(E)},uploadImages:u,uploadImagesAuto:f,scanForImages:b,destroy:()=>{t.destroy(),o.destroy(),r=n=null}}})(e),e.schema=Ra(pw(e)),e.dom=Xt(n,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:AN(e),referrerPolicy:yh(e),onSetAttrib:a=>{e.dispatch("SetAttrib",a)},force_hex_color:O1(e)}),e.parser=(a=>{const s=id(hw(a),a.schema);return s.addAttributeFilter("src,href,style,tabindex",(l,d)=>{const u=a.dom,f="data-mce-"+d;let m=l.length;for(;m--;){const b=l[m];let g=b.attr(d);if(g&&!b.attr(f)){if(0===g.indexOf("data:")||0===g.indexOf("blob:"))continue;"style"===d?(g=u.serializeStyle(u.parseStyle(g),b.name),g.length||(g=null),b.attr(f,g),b.attr(d,g)):"tabindex"===d?(b.attr(f,g),b.attr(d,null)):b.attr(f,a.convertURL(g,d,b.name))}}}),s.addNodeFilter("script",l=>{let d=l.length;for(;d--;){const u=l[d],f=u.attr("type")||"no/type";0!==f.indexOf("mce-")&&u.attr("type","mce-"+f)}}),S1(a)&&s.addNodeFilter("#cdata",l=>{var d;let u=l.length;for(;u--;){const f=l[u];f.type=8,f.name="#comment",f.value="[CDATA["+a.dom.encode(null!==(d=f.value)&&void 0!==d?d:"")+"]]"}}),s.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",l=>{let d=l.length;const u=a.schema.getNonEmptyElements();for(;d--;){const f=l[d];f.isEmpty(u)&&0===f.getAll("br").length&&f.append(new ro("br",1))}}),s})(e),e.serializer=h0((a=>{const s=a.options.get;return{...hw(a),...pw(a),...wg({remove_trailing_brs:s("remove_trailing_brs"),pad_empty_with_br:s("pad_empty_with_br"),url_converter:s("url_converter"),url_converter_scope:s("url_converter_scope"),element_format:s("element_format"),entities:s("entities"),entity_encoding:s("entity_encoding"),indent:s("indent"),indent_after:s("indent_after"),indent_before:s("indent_before")})}})(e),e),e.selection=f0(e.dom,e.getWin(),e.serializer,e),e.annotator=Mb(e),e.formatter=x0(e),e.undoManager=R0(e),e._nodeChangeDispatcher=new ZR(e),e._selectionOverrides=xk(e),(a=>{const s=Ps(),l=mr(!1),d=dh(u=>{a.dispatch("longpress",{...u,type:"longpress"}),l.set(!0)},400);a.on("touchstart",u=>{BC(u).each(f=>{d.cancel();const m={x:f.clientX,y:f.clientY,target:u.target};d.throttle(u),l.set(!1),s.set(m)})},!0),a.on("touchmove",u=>{d.cancel(),BC(u).each(f=>{s.on(m=>{((b,g)=>{const E=Math.abs(b.clientX-g.x),v=Math.abs(b.clientY-g.y);return E>5||v>5})(f,m)&&(s.clear(),l.set(!1),a.dispatch("longpresscancel"))})})},!0),a.on("touchend touchcancel",u=>{d.cancel(),"touchcancel"!==u.type&&s.get().filter(f=>f.target.isEqualNode(u.target)).each(()=>{l.get()?u.preventDefault():a.dispatch("tap",{...u,type:"tap"})})},!0)})(e),(s=a=e).on("click",l=>{s.dom.getParent(l.target,"details")&&l.preventDefault()}),(s=>{s.parser.addNodeFilter("details",l=>{const d=A1(s);de(l,u=>{"expanded"===d?u.attr("open","open"):"collapsed"===d&&u.attr("open",null)})}),s.serializer.addNodeFilter("details",l=>{const d=x1(s);de(l,u=>{"expanded"===d?u.attr("open","open"):"collapsed"===d&&u.attr("open",null)})})})(a),(a=>{const s="contenteditable",l=" "+Se.trim(E1(a))+" ",d=" "+Se.trim($v(a))+" ",u=HC(l),f=HC(d),m=C1(a);m.length>0&&a.on("BeforeSetContent",b=>{((g,E,v)=>{let C=E.length,w=v.content;if("raw"!==v.format){for(;C--;)w=w.replace(E[C],GO(g,w,$v(g)));v.content=w}})(a,m,b)}),a.parser.addAttributeFilter("class",b=>{let g=b.length;for(;g--;){const E=b[g];u(E)?E.attr(s,"true"):f(E)&&E.attr(s,"false")}}),a.serializer.addAttributeFilter(s,b=>{let g=b.length;for(;g--;){const E=b[g];(u(E)||f(E))&&(m.length>0&&E.attr("data-mce-content")?(E.name="#text",E.type=3,E.raw=!0,E.value=E.attr("data-mce-content")):E.attr(s,null))}})})(e),Ba(e)||((a=>{a.on("mousedown",s=>{s.detail>=3&&(s.preventDefault(),(e=>{const t=((n,r,o)=>{const i=oe.fromRangeStart(n).getNode(),a=(f=r,m=o,Fr(k(i),b=>Yo(b.dom)||m.isBlock(Nt(b)),FT(f)).getOr(k(f)).dom),s=HT(i,a,!1),l=HT(i,a,!0),d=document.createRange();var f,m;return jT(s,a).fold(()=>{BT(s)?d.setStart(s,0):d.setStartBefore(s)},u=>d.setStartBefore(u.dom)),jT(l,a).fold(()=>{BT(l)?d.setEnd(l,l.data.length):d.setEndAfter(l)},u=>d.setEndAfter(u.dom)),d})(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(Mp(t))})(a))})})(e),(a=>{(s=>{const l=[",",".",";",":","!","?"],d=[32],u=()=>{return b=_1(s),g=y1(s),{inlinePatterns:Tv(b),blockPatterns:Sv(b),dynamicPatternsLookup:g};var b,g},f=()=>s.options.isSet("text_patterns_lookup");s.on("keydown",b=>{if(13===b.keyCode&&!Pe.modifierPressed(b)&&s.selection.isCollapsed()){const g=u();(g.inlinePatterns.length>0||g.blockPatterns.length>0||f())&&((e,t)=>{const n=e.selection.getRng();return Cg(e,n).map(r=>{var o;const i=Math.max(0,n.startOffset),a=nw(t,r,null!==(o=r.textContent)&&void 0!==o?o:""),s=cw(e,r,n.startContainer,i,a,!0),l=((d,u,f,m)=>{var b;const g=d.dom,E=Hr(d);if(!g.is(u,E))return[];const v=null!==(b=u.textContent)&&void 0!==b?b:"";return((C,w)=>{const A=st(C,(H,K)=>K.start.length-H.start.length),M=w.replace(hn," ");return Gt(A,P=>0===w.indexOf(P.start)||0===M.indexOf(P.start))})(f.blockPatterns,v).map(C=>Se.trim(v).length===C.start.length?[]:[{pattern:C,range:Eg(g,g.getRoot(),u,0,u,0,!0)}]).getOr([])})(e,r,a);return(l.length>0||s.length>0)&&(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{e.insertContent(Bn,{preserve_zwsp:!0}),uw(e,s),((f,m)=>{if(0===m.length)return;const b=f.selection.getBookmark();de(m,g=>((E,v)=>{const w=v.pattern,A=tw(E.dom.getRoot(),v.range).getOrDie("Unable to resolve path range");return Cg(E,A).each(M=>{"block-format"===w.type?((P,H)=>{const K=H.get(P);return zt(K)&&En(K).exists(G=>nt(G,"block"))})(w.format,E.formatter)&&E.undoManager.transact(()=>{ow(E.dom,M,w),E.formatter.apply(w.format)}):"block-command"===w.type&&E.undoManager.transact(()=>{ow(E.dom,M,w),E.execCommand(w.cmd,!1,w.value)})}),!0})(f,g)),f.selection.moveToBookmark(b)})(e,l);const d=e.selection.getRng(),u=Vm(d.startContainer,d.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),u.each(f=>{const m=f.container;"\ufeff"===m.data.charAt(f.offset-1)&&(m.deleteData(f.offset-1,1),md(e.dom,m.parentNode,b=>b===e.dom.getRoot()))})}),!0)}).getOr(!1)})(s,g)&&b.preventDefault()}},!0);const m=()=>{if(s.selection.isCollapsed()){const b=u();(b.inlinePatterns.length>0||f())&&((g,E)=>{const v=g.selection.getRng();Cg(g,v).map(C=>{const w=Math.max(0,v.startOffset-1),A=rw(g.dom,C,v.startContainer,w),M=nw(E,C,A),P=cw(g,C,v.startContainer,w,M,!1);P.length>0&&g.undoManager.transact(()=>{uw(g,P)})})})(s,b)}};s.on("keyup",b=>{fw(d,b,(g,E)=>g===E.keyCode&&!Pe.modifierPressed(E))&&m()}),s.on("keypress",b=>{fw(l,b,(g,E)=>g.charCodeAt(0)===E.charCode)&&hi.setEditorTimeout(s,m)})})(a)})(e));const o=JR(e);((e,t)=>{e.addCommand("delete",()=>{var n;MC(n=e,t,!1).fold(()=>{n.selection.isEditable()&&(Ep(n),Cp(n))},wr)}),e.addCommand("forwardDelete",()=>{var n;MC(n=e,t,!0).fold(()=>{n.selection.isEditable()&&uy(n,"ForwardDelete")},wr)})})(e,o),(a=>{a.on("NodeChange",Re(QO,a))})(e),(a=>{var s;const l=a.dom,d=Hr(a),u=null!==(s=PN(a))&&void 0!==s?s:"",f=(m,b)=>{if((v=>{if(D0(v)){const C=v.keyCode;return!L0(v)&&(Pe.metaKeyPressed(v)||v.altKey||C>=112&&C<=123||Bt(fO,C))}return!1})(m))return;const g=a.getBody(),E=!(D0(v=m)&&!(L0(v)||"keyup"===v.type&&229===v.keyCode))&&((v,C,w)=>{if(Tn(k(C),!1)){const A=C.firstElementChild;return!A||!v.getStyle(C.firstElementChild,"padding-left")&&!v.getStyle(C.firstElementChild,"padding-right")&&w===A.nodeName.toLowerCase()}return!1})(l,g,d);var v;(""!==l.getAttrib(g,k0)!==E||b)&&(l.setAttrib(g,k0,E?u:null),l.setAttrib(g,"aria-placeholder",E?u:null),((v,C)=>{v.dispatch("PlaceholderToggle",{state:C})})(a,E),a.on(E?"keydown":"keyup",f),a.off(E?"keyup":"keydown",f))};lr(u)&&a.on("init",m=>{f(m,!0),a.on("change SetContent ExecCommand",f),a.on("paste",b=>hi.setEditorTimeout(a,()=>f(b)))})})(e),(e=>{const t=mr(!1),n=mr(g1(e)?"text":"html"),r=(o=>{const i=mr(null);return{create:()=>((a,s)=>{const{dom:l,selection:d}=a,u=a.getBody();s.set(d.getRng());const f=l.add(a.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},ET);Et.browser.isFirefox()&&l.setStyle(f,"left","rtl"===l.getStyle(u,"direction",!0)?65535:-65535),l.bind(f,"beforedeactivate focusin focusout",m=>{m.stopPropagation()}),f.focus(),d.select(f,!0)})(o,i),remove:()=>((a,s)=>{const l=a.dom;if(mg(a)){let d;const u=s.get();for(;d=mg(a);)l.remove(d),l.unbind(d);u&&a.selection.setRng(u)}s.set(null)})(o,i),getEl:()=>mg(o),getHtml:()=>(a=>{const s=a.dom,l=(m,b)=>{m.appendChild(b),s.remove(b,!0)},[d,...u]=tt(a.getBody().childNodes,sk);de(u,m=>{l(d,m)});const f=s.select("div[id=mcepastebin]",d);for(let m=f.length-1;m>=0;m--){const b=s.create("div");d.insertBefore(b,f[m]),l(b,f[m])}return d?d.innerHTML:""})(o),getLastRng:i.get}})(e);var o,i,a;o=e,(Et.browser.isChromium()||Et.browser.isSafari())&&(a=pk,(i=o).on("PastePreProcess",s=>{s.content=a(i,s.content,s.internal)})),((o,i)=>{o.addCommand("mceTogglePlainTextPaste",()=>{((a,s)=>{"text"===s.get()?(s.set("html"),Vb(a,!1)):(s.set("text"),Vb(a,!0)),a.focus()})(o,i)}),o.addCommand("mceInsertClipboardContent",(a,s)=>{s.html&&Tf(o,s.html,s.internal,!1),s.text&&bg(o,s.text,!1)})})(e,n),(o=>{const i=l=>d=>{l(o,d)},a=d1(o);Ft(a)&&o.on("PastePreProcess",i(a));const s=c1(o);Ft(s)&&o.on("PastePostProcess",i(s))})(e),e.on("PreInit",()=>{(o=>{o.on("cut",(i=>a=>{!a.isDefaultPrevented()&&LT(i)&&i.selection.isEditable()&&RT(a,DT(i),kT(i),()=>{if(Et.browser.isChromium()||Et.browser.isFirefox()){const s=i.selection.getRng();hi.setEditorTimeout(i,()=>{i.selection.setRng(s),i.execCommand("Delete")},0)}else i.execCommand("Delete")})})(o)),o.on("copy",(i=>a=>{!a.isDefaultPrevented()&&LT(i)&&RT(a,DT(i),kT(i),Ke)})(o))})(e),((o,i)=>{l1(o)&&o.on("dragend dragover draggesture dragdrop drop drag",a=>{a.preventDefault(),a.stopPropagation()}),pu(o)||o.on("drop",a=>{const s=a.dataTransfer;s&&Zt(s.files,d=>/^image\//.test(d.type))&&a.preventDefault()}),o.on("drop",a=>{if(a.isDefaultPrevented())return;const s=IT(o,a);if(qt(s))return;const l=AT(a.dataTransfer),d=qs(l,Sf());if((!xT(l)||(g=>{const E=g["text/plain"];return!!E&&0===E.indexOf("file://")})(l))&&OT(o,a,s))return;const u=l[Sf()],f=u||l["text/html"]||l["text/plain"],m=((g,E,v,C)=>{const w=g.getParent(v,A=>ss(E,A));if(!ye(g.getParent(v,"summary")))return!0;if(w&&nt(C,"text/html")){const A=(new DOMParser).parseFromString(C["text/html"],"text/html").body;return!ye(A.querySelector(w.nodeName.toLowerCase()))}return!1})(o.dom,o.schema,s.startContainer,l),b=i.get();b&&!m||f&&(a.preventDefault(),hi.setEditorTimeout(o,()=>{o.undoManager.transact(()=>{(u||b&&m)&&o.execCommand("Delete"),PT(o,s);const g=TT(f);l["text/html"]?Tf(o,g,d,!0):bg(o,g,!0)})}))}),o.on("dragstart",a=>{i.set(!0)}),o.on("dragover dragend",a=>{pu(o)&&!i.get()&&(a.preventDefault(),PT(o,IT(o,a))),"dragend"===a.type&&i.set(!1)}),(a=>{a.on("input",s=>{const l=d=>ye(d.querySelector("summary"));if("deleteByDrag"===s.inputType){const d=tt(a.dom.select("details"),l);de(d,u=>{dn(u.firstChild)&&u.firstChild.remove();const f=a.dom.create("summary");f.appendChild(Qs().dom),u.prepend(f)})}})})(o)})(e,t),((e,t,n)=>{((r,o,i)=>{let a;r.on("keydown",s=>{var l;(Pe.metaKeyPressed(l=s)&&86===l.keyCode||l.shiftKey&&45===l.keyCode)&&!s.isDefaultPrevented()&&(a=s.shiftKey&&86===s.keyCode)}),r.on("paste",s=>{if(s.isDefaultPrevented()||(u=s,Et.os.isAndroid()&&0===(null===(m=null===(f=u.clipboardData)||void 0===f?void 0:f.items)||void 0===m?void 0:m.length)))return;var u,f,m;const l="text"===i.get()||a;a=!1;const d=AT(s.clipboardData);!xT(d)&&OT(r,s,o.getLastRng()||r.selection.getRng())||(qs(d,"text/html")?(s.preventDefault(),_g(r,d,d["text/html"],l,!0)):qs(d,"text/plain")&&qs(d,"text/uri-list")?(s.preventDefault(),_g(r,d,d["text/plain"],l,!0)):(o.create(),hi.setEditorTimeout(r,()=>{const u=o.getHtml();o.remove(),_g(r,d,u,l,!1)},0)))})})(e,t,n),(r=>{const o=a=>un(a,"webkit-fake-url"),i=a=>un(a,"data:");r.parser.addNodeFilter("img",(a,s,l)=>{if(!pu(r)&&!0===(null===(u=l.data)||void 0===u?void 0:u.paste))for(const d of a){const u=d.attr("src");We(u)&&!d.attr("data-mce-object")&&u!==Et.transparentSrc&&(o(u)||!b1(r)&&i(u))&&d.remove()}var u})})(e)})(e,r,n)})})(e);const i=(a=>{const s=a;return(l=a,Pt(l.plugins,"rtc").bind(d=>O.from(d.setup))).fold(()=>(s.rtcInstance=a0(a),O.none()),l=>(s.rtcInstance=(()=>{const d=Ae(null),u=Ae("");return{init:{bindEvents:Ke},undoManager:{beforeChange:Ke,add:d,undo:d,redo:d,clear:Ke,reset:Ke,hasUndo:Ut,hasRedo:Ut,transact:d,ignore:Ke,extra:Ke},formatter:{match:Ut,matchAll:Ae([]),matchNode:Ae(void 0),canApply:Ut,closest:u,apply:Ke,remove:Ke,toggle:Ke,formatChanged:Ae({unbind:Ke})},editor:{getContent:u,setContent:Ae({content:"",html:""}),insertContent:Ae(""),addVisual:Ke},selection:{getContent:u},autocompleter:{addDecoration:Ke,removeDecoration:Ke},raw:{getModel:Ae(O.none())}}})(),O.some(()=>l().then(d=>(s.rtcInstance=(u=>{const f=A=>ut(A)?A:{},{init:m,undoManager:b,formatter:g,editor:E,selection:v,autocompleter:C,raw:w}=u;return{init:{bindEvents:m.bindEvents},undoManager:{beforeChange:b.beforeChange,add:b.add,undo:b.undo,redo:b.redo,clear:b.clear,reset:b.reset,hasUndo:b.hasUndo,hasRedo:b.hasRedo,transact:(A,M,P)=>b.transact(P),ignore:(A,M)=>b.ignore(M),extra:(A,M,P,H)=>b.extra(P,H)},formatter:{match:(A,M,P,H)=>g.match(A,f(M),H),matchAll:g.matchAll,matchNode:g.matchNode,canApply:A=>g.canApply(A),closest:A=>g.closest(A),apply:(A,M,P)=>g.apply(A,f(M)),remove:(A,M,P,H)=>g.remove(A,f(M)),toggle:(A,M,P)=>g.toggle(A,f(M)),formatChanged:(A,M,P,H,K)=>g.formatChanged(M,P,H,K)},editor:{getContent:A=>E.getContent(A),setContent:(A,M)=>({content:E.setContent(A,M),html:""}),insertContent:(A,M)=>(E.insertContent(A),""),addVisual:E.addVisual},selection:{getContent:(A,M)=>v.getContent(M)},autocompleter:{addDecoration:C.addDecoration,removeDecoration:C.removeDecoration},raw:{getModel:()=>O.some(w.getRawModel())}}})(d),d.rtc.isRemote)))));var l})(e);(a=>{const s=a.getDoc(),l=a.getBody();a.dispatch("PreInit"),a1(a)||(s.body.spellcheck=!1,Tg.setAttrib(l,"spellcheck","false")),a.quirks=(e=>{const t=Se.each,n=Pe.BACKSPACE,r=Pe.DELETE,o=e.dom,i=e.selection,a=e.parser,s=Et.browser,l=s.isFirefox(),d=s.isChromium()||s.isSafari(),u=Et.deviceType.isiPhone()||Et.deviceType.isiPad(),f=Et.os.isMacOS()||Et.os.isiOS(),m=(U,Y)=>{try{e.getDoc().execCommand(U,!1,String(Y))}catch{}},b=U=>U.isDefaultPrevented(),g=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},E=()=>{e.inline||o.bind(e.getDoc(),"mousedown mouseup",U=>{let Y;if(U.target===e.getDoc().documentElement)if(Y=i.getRng(),e.getBody().focus(),"mousedown"===U.type){if(pr(Y.startContainer))return;i.placeCaretAt(U.clientX,U.clientY)}else i.setRng(Y)})},v=()=>{Range.prototype.getClientRects||e.on("mousedown",U=>{if(!b(U)&&"HTML"===U.target.nodeName){const Y=e.getBody();Y.blur(),hi.setEditorTimeout(e,()=>{Y.focus()})}})},C=()=>{const U=Hv(e);e.on("click",Y=>{const ee=Y.target;/^(IMG|HR)$/.test(ee.nodeName)&&o.isEditable(ee)&&(Y.preventDefault(),e.selection.select(ee),e.nodeChanged()),"A"===ee.nodeName&&o.hasClass(ee,U)&&0===ee.childNodes.length&&o.isEditable(ee.parentNode)&&(Y.preventDefault(),i.select(ee))})},w=()=>{e.on("keydown",U=>{if(!b(U)&&U.keyCode===n&&i.isCollapsed()&&0===i.getRng().startOffset){const Y=i.getNode().previousSibling;if(Y&&Y.nodeName&&"table"===Y.nodeName.toLowerCase())return U.preventDefault(),!1}return!0})},A=()=>{Fv(e)||e.on("BeforeExecCommand mousedown",()=>{m("StyleWithCSS",!1),m("enableInlineTableEditing",!1),Mv(e)||m("enableObjectResizing",!1)})},M=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},P=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},H=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",U=>{let Y;"HTML"===U.target.nodeName&&(Y=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(Y),e.selection.normalize(),e.nodeChanged())}))},K=()=>{f&&e.on("keydown",U=>{!Pe.metaKeyPressed(U)||U.shiftKey||37!==U.keyCode&&39!==U.keyCode||(U.preventDefault(),e.selection.getSel().modify("move",37===U.keyCode?"backward":"forward","lineboundary"))})},G=()=>{e.on("click",U=>{let Y=U.target;do{if("A"===Y.tagName)return void U.preventDefault()}while(Y=Y.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},J=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",U=>{U.preventDefault()})})},ne=Ke;return Ba(e)?(d&&(E(),C(),J(),g(),u&&(P(),H(),G())),l&&(v(),A(),M(),K())):(e.on("keydown",U=>{if(b(U)||U.keyCode!==Pe.BACKSPACE)return;let Y=i.getRng();const ee=Y.startContainer,ue=Y.startOffset,Oe=o.getRoot();let we=ee;if(Y.collapsed&&0===ue){for(;we.parentNode&&we.parentNode.firstChild===we&&we.parentNode!==Oe;)we=we.parentNode;"BLOCKQUOTE"===we.nodeName&&(e.formatter.toggle("blockquote",void 0,we),Y=o.createRng(),Y.setStart(ee,0),Y.setEnd(ee,0),i.setRng(Y))}}),(()=>{const U=Y=>{const ee=o.create("body"),ue=Y.cloneContents();return ee.appendChild(ue),i.serializer.serialize(ee,{format:"html"})};e.on("keydown",Y=>{const ee=Y.keyCode;if(!b(Y)&&(ee===r||ee===n)&&e.selection.isEditable()){const ue=e.selection.isCollapsed(),Oe=e.getBody();if(ue&&!Tn(k(Oe))||!ue&&!(we=>{const Xe=U(we),Ye=o.createRng();return Ye.selectNode(e.getBody()),Xe===U(Ye)})(e.selection.getRng()))return;Y.preventDefault(),e.setContent(""),Oe.firstChild&&o.isBlock(Oe.firstChild)?e.selection.setCursorLocation(Oe.firstChild,0):e.selection.setCursorLocation(Oe,0),e.nodeChanged()}})})(),Et.windowsPhone||e.on("keyup focusin mouseup",U=>{Pe.modifierPressed(U)||(Y=>{const ee=Y.getBody(),ue=Y.selection.getRng();return ue.startContainer===ue.endContainer&&ue.startContainer===ee&&0===ue.startOffset&&ue.endOffset===ee.childNodes.length})(e)||i.normalize()},!0),d&&(E(),C(),e.on("init",()=>{m("DefaultParagraphSeparator",Hr(e))}),J(),w(),a.addNodeFilter("br",U=>{let Y=U.length;for(;Y--;)"Apple-interchange-newline"===U[Y].attr("class")&&U[Y].remove()}),u?(P(),H(),G()):g()),l&&(e.on("keydown",U=>{if(!b(U)&&U.keyCode===n){if(!e.getBody().getElementsByTagName("hr").length)return;if(i.isCollapsed()&&0===i.getRng().startOffset){const Y=i.getNode(),ee=Y.previousSibling;if("HR"===Y.nodeName)return o.remove(Y),void U.preventDefault();ee&&ee.nodeName&&"hr"===ee.nodeName.toLowerCase()&&(o.remove(ee),U.preventDefault())}}}),v(),(()=>{const U=()=>{const ee=o.getAttribs(i.getStart().cloneNode(!1));return()=>{const ue=i.getStart();ue!==e.getBody()&&(o.setAttrib(ue,"style",null),t(ee,Oe=>{ue.setAttributeNode(Oe.cloneNode(!0))}))}},Y=()=>!i.isCollapsed()&&o.getParent(i.getStart(),o.isBlock)!==o.getParent(i.getEnd(),o.isBlock);e.on("keypress",ee=>{let ue;return!(!(b(ee)||8!==ee.keyCode&&46!==ee.keyCode)&&Y()&&(ue=U(),e.getDoc().execCommand("delete",!1),ue(),ee.preventDefault(),1))}),o.bind(e.getDoc(),"cut",ee=>{if(!b(ee)&&Y()){const ue=U();hi.setEditorTimeout(e,()=>{ue()})}})})(),A(),e.on("SetContent ExecCommand",U=>{"setcontent"!==U.type&&"mceInsertLink"!==U.command||t(o.select("a:not([data-mce-block])"),Y=>{var ee;let ue=Y.parentNode;const Oe=o.getRoot();if(ue?.lastChild===Y){for(;ue&&!o.isBlock(ue);){if((null===(ee=ue.parentNode)||void 0===ee?void 0:ee.lastChild)!==ue||ue===Oe)return;ue=ue.parentNode}o.add(ue,"br",{"data-mce-bogus":1})}})}),M(),K(),w(),e.on("drop",U=>{var Y;const ee=null===(Y=U.dataTransfer)||void 0===Y?void 0:Y.getData("text/html");We(ee)&&/^<img[^>]*>$/.test(ee)&&e.dispatch("dragend",new window.DragEvent("dragend",U))}))),{refreshContentEditable:ne,isHidden:()=>{if(!l||e.removed)return!1;const U=e.selection.getSel();return!U||!U.rangeCount||0===U.rangeCount}}})(a),a.dispatch("PostRender");const d=DN(a);void 0!==d&&(l.dir=d);const u=s1(a);u&&a.on("BeforeSetContent",f=>{Se.each(u,m=>{f.content=f.content.replace(m,b=>"\x3c!--mce:protected "+escape(b)+"--\x3e")})}),a.on("SetContent",()=>{a.addVisual(a.getBody())}),a.on("compositionstart compositionend",f=>{a.composing="compositionstart"===f.type})})(e),i.fold(()=>{const a=(s=>{let l=!1;const d=setTimeout(()=>{l||s.setProgressState(!0)},500);return()=>{clearTimeout(d),l=!0,s.setProgressState(!1)}})(e);mw(e).then(()=>{Ag(e),a()})},a=>{e.setProgressState(!0),mw(e).then(()=>{a().then(s=>{e.setProgressState(!1),Ag(e),s0(e)},s=>{e.notificationManager.open({type:"error",text:String(s)}),Ag(e),s0(e)})})})},Ik=tn,xg=Xt.DOM,vw=Xt.DOM,bw=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}}),_w=e=>{const t=e.getElement();return e.inline?bw(null):(n=>{const r=vw.create("div");return vw.insertAfter(r,n),bw(r,r)})(t)},Pk=async e=>{e.dispatch("ScriptsLoaded"),(n=>{const r=Se.trim(Dv(n)),o=n.ui.registry.getAll().icons,i={...Gu.get("default").icons,...Gu.get(r).icons};xt(i,(a,s)=>{nt(o,s)||n.ui.registry.addIcon(s,a)})})(e),(n=>{const r=Kl(n);if(We(r)){const o=_l.get(r);n.theme=o(n,_l.urls[r])||{},Ft(n.theme.init)&&n.theme.init(n,_l.urls[r]||n.documentBaseUrl.replace(/\/$/,""))}else n.theme={}})(e),(n=>{const r=Eh(n),o=ad.get(r);n.model=o(n,ad.urls[r])})(e),(n=>{const r=[];de(hu(n),o=>{((i,a,s)=>{const l=sd.get(s),d=sd.urls[s]||i.documentBaseUrl.replace(/\/$/,"");if(s=Se.trim(s),l&&-1===Se.inArray(a,s)){if(i.plugins[s])return;try{const u=l(i,d)||{};i.plugins[s]=u,Ft(u.init)&&(u.init(i,d),a.push(s))}catch(u){((f,m,b)=>{const g=da.translate(["Failed to initialize plugin: {0}",m]);Fb(f,"PluginLoadError",{message:g}),Ju(g,b),Xu(f,g)})(i,s,u)}}})(n,r,o.replace(/^\-/,""))})})(e);const t=await(n=>{const r=n.getElement();return n.orgDisplay=r.style.display,We(Kl(n))?(o=>{const i=o.theme.renderUI;return i?i():_w(o)})(n):Ft(Kl(n))?(o=>{const i=o.getElement(),a=Kl(o)(o,i);return a.editorContainer.nodeType&&(a.editorContainer.id=a.editorContainer.id||o.id+"_parent"),a.iframeContainer&&a.iframeContainer.nodeType&&(a.iframeContainer.id=a.iframeContainer.id||o.id+"_iframecontainer"),a.height=a.iframeHeight?a.iframeHeight:i.offsetHeight,a})(n):_w(n)})(e);var n,r;((n,r)=>{const o={show:O.from(r.show).getOr(Ke),hide:O.from(r.hide).getOr(Ke),isEnabled:O.from(r.isEnabled).getOr(tn),setEnabled:i=>{n.mode.isReadOnly()||O.from(r.setEnabled).each(a=>a(i))}};n.ui={...n.ui,...o}})(e,O.from(t.api).getOr({})),e.editorContainer=t.editorContainer,(n=e).contentCSS=n.contentCSS.concat(C0(r=n,RN(r)),(r=>C0(r,Pv(r)))(n)),e.inline?gw(e):((n,r)=>{((o,i)=>{const a=o.translate("Rich Text Area"),s=Br(k(o.getElement()),"tabindex").bind(uo),l=((d,u,f,m)=>{const b=z("iframe");return m.each(g=>on(b,"tabindex",g)),Yr(b,f),Yr(b,{id:d+"_ifr",frameBorder:"0",allowTransparency:"true",title:u}),h(b,"tox-edit-area__iframe"),b})(o.id,a,uN(o),s).dom;l.onload=()=>{l.onload=null,o.dispatch("load")},o.contentAreaContainer=i.iframeContainer,o.iframeElement=l,o.iframeHTML=(d=>{let u=fN(d)+"<html><head>";xv(d)!==d.documentBaseUrl&&(u+='<base href="'+d.documentBaseURI.getURI()+'" />'),u+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const f=hN(d),m=pN(d),b=d.translate(t1(d));return Ov(d)&&(u+='<meta http-equiv="Content-Security-Policy" content="'+Ov(d)+'" />'),u+=`</head><body id="${f}" class="mce-content-body ${m}" data-id="${d.id}" aria-label="${b}"><br></body></html>`,u})(o),xg.add(i.iframeContainer,l)})(n,r),r.editorContainer&&(r.editorContainer.style.display=n.orgDisplay,n.hidden=xg.isHidden(r.editorContainer)),n.getElement().style.display="none",xg.setAttrib(n.id,"aria-hidden","true"),n.getElement().style.visibility=n.orgVisibility,(o=>{const i=o.iframeElement,a=()=>{o.contentDocument=i.contentDocument,gw(o)};if(w1(o)||Et.browser.isFirefox()){const l=o.getDoc();l.open(),l.write(o.iframeHTML),l.close(),a()}else{const l=((e,t,n,r)=>((o,i,a,s,l)=>{const d=(u=a,f=s,m=>{u(m)&&f((b=>{const g=k(Ja(b).getOr(b.target)),E=()=>b.stopPropagation(),v=()=>b.preventDefault(),C=Ur(v,E);return{target:g,x:b.clientX,y:b.clientY,stop:E,prevent:v,kill:C,raw:b}})(m))});var u,f;return o.dom.addEventListener(i,d,!1),{unbind:Re(pt,o,i,d,!1)}})(e,"load",n,()=>{l.unbind(),a()}))(k(i),0,Ik);i.srcdoc=o.iframeHTML}})(n)})(e,{editorContainer:t.editorContainer,iframeContainer:t.iframeContainer})},El=Xt.DOM,yw=e=>"-"===e.charAt(0),Ew=(e,t,n)=>O.from(t).filter(r=>lr(r)&&!Gu.has(r)).map(r=>({url:`${e.editorManager.baseURL}/icons/${r}/icons${n}.js`,name:O.some(r)})),Cw=dr().deviceType,Sw=Cw.isPhone(),Bk=Cw.isTablet(),Pc=e=>{if(qt(e))return[];{const t=zt(e)?e:e.split(/[ ,]/),n=wt(t,qr);return tt(n,lr)}},Og=(e,t)=>nt(e.sections(),t),jk=(e,t)=>({table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Pt(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1,...t?{menubar:!1}:{}}),Hk=(e,t)=>{var n;const r=null!==(n=t.external_plugins)&&void 0!==n?n:{};return e&&e.external_plugins?Se.extend({},e.external_plugins,r):r},Vk=(e,t)=>{const n=e.selection,r=e.dom;return/^ | $/.test(t)?((o,i,a,s)=>{const l=k(o.getRoot());return a=lc(l,oe.fromRangeStart(i),s)?a.replace(/^ /,"&nbsp;"):a.replace(/^&nbsp;/," "),dc(l,oe.fromRangeEnd(i),s)?a.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):a.replace(/&nbsp;(<br( \/)?>)?$/," ")})(r,n.getRng(),t,e.schema):t},Of=(e,t)=>{if(e.selection.isEditable()){const{content:n,details:r}=(o=>{if("string"!=typeof o){const i=Se.extend({paste:o.paste,data:{paste:o.paste}},o);return{content:o.content,details:i}}return{content:o,details:{}}})(t);lm(e,{...r,content:Vk(e,n),format:"html",set:!1,selection:!0}).each(o=>{const i=(s=o.content,l=r,mm(e).editor.insertContent(s,l));var s,l;dm(e,i,o),e.addVisual()})}},zk={"font-size":"size","font-family":"face"},qk=Oo("font"),Tw=e=>(t,n)=>O.from(n).map(k).filter(Un).bind(r=>{return(o=e,i=t,a=r.dom,Hp(k(a),s=>{return Ro(l=s,o).orThunk(()=>qk(l)?Pt(zk,o).bind(d=>Br(l,d)):O.none());var l},s=>Fe(k(i),s))).or(((o,i)=>O.from(Xt.DOM.getStyle(i,o,!0)))(e,r.dom));var o,i,a}).getOr(""),Wk=Tw("font-size"),Kk=Ur(e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),Tw("font-family")),Yk=e=>$r(e.getBody()).bind(t=>{const n=t.container();return O.from(Ce(n)?n.parentNode:n)}),Rg=(e,t)=>{return n=e,r=Ki(O.some,t),(o=n,O.from(o.selection.getRng()).bind(i=>{const a=o.getBody();return i.startContainer===a&&0===i.startOffset?O.none():O.from(o.selection.getStart(!0))})).orThunk(Re(Yk,n)).map(k).filter(Un).bind(r);var n,r,o},ww=(e,t)=>{if(/^[0-9.]+$/.test(t)){const n=parseInt(t,10);if(n>=1&&n<=7){const r=Se.explode(e.options.get("font_size_style_values")),o=Se.explode(e.options.get("font_size_classes"));return o.length>0?o[n-1]||t:r[n-1]||t}return t}return t},Qk=e=>{const t=e.split(/\s*,\s*/);return wt(t,n=>-1===n.indexOf(" ")||un(n,'"')||un(n,"'")?n:`'${n}'`).join(",")},Nw=(e,t)=>{const n=e.dom,r=e.selection.getRng(),o=t?e.selection.getStart():e.selection.getEnd(),i=t?r.startContainer:r.endContainer,a=Rc(n,i);if(!a||!a.isContentEditable)return;const s=t?Vn:hr,l=Hr(e);((d,u,f,m)=>{const b=d.dom,g=v=>b.isBlock(v)&&v.parentElement===f,E=g(u)?u:b.getParent(m,g,f);return O.from(E).map(k)})(e,o,a,i).each(d=>{const u=qS(e,i,d.dom,a,!1,l);s(d,k(u)),e.selection.setCursorLocation(u,0),e.dispatch("NewBlock",{newBlock:u}),Oc(e,"insertParagraph")})},Xk=["toggleview"],Aw=e=>Bt(Xk,e.toLowerCase());class xw{constructor(t){this.commands={state:{},exec:{},value:{}},this.editor=t}execCommand(t,n=!1,r,o){const i=this.editor,a=t.toLowerCase(),s=o?.skip_focus;if(i.removed||("mcefocus"!==a&&(/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(a)||s?rp(d=i).each(u=>d.selection.setRng(u)):i.focus()),i.dispatch("BeforeExecCommand",{command:t,ui:n,value:r}).isDefaultPrevented()))return!1;var d;const l=this.commands.exec[a];return!!Ft(l)&&(l(a,n,r),i.dispatch("ExecCommand",{command:t,ui:n,value:r}),!0)}queryCommandState(t){if(!Aw(t)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const n=t.toLowerCase(),r=this.commands.state[n];return!!Ft(r)&&r(n)}queryCommandValue(t){if(!Aw(t)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const n=t.toLowerCase(),r=this.commands.value[n];return Ft(r)?r(n):""}addCommands(t,n="exec"){const r=this.commands;xt(t,(o,i)=>{de(i.toLowerCase().split(","),a=>{r[n][a]=o})})}addCommand(t,n,r){const o=t.toLowerCase();this.commands.exec[o]=(i,a,s)=>n.call(r??this.editor,a,s)}queryCommandSupported(t){const n=t.toLowerCase();return!!this.commands.exec[n]}addQueryStateHandler(t,n,r){this.commands.state[t.toLowerCase()]=()=>n.call(r??this.editor)}addQueryValueHandler(t,n,r){this.commands.value[t.toLowerCase()]=()=>n.call(r??this.editor)}}const Cl="data-mce-contenteditable",kg=(e,t,n)=>{try{e.getDoc().execCommand(t,!1,String(n))}catch{}},Rf=(e,t)=>{e.dom.contentEditable=t?"true":"false"},Sl=e=>e.readonly,Ow=e=>{e.parser.addAttributeFilter("contenteditable",t=>{Sl(e)&&de(t,n=>{n.attr(Cl,n.attr("contenteditable")),n.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(Cl,t=>{Sl(e)&&de(t,n=>{n.attr("contenteditable",n.attr(Cl))})}),e.serializer.addTempAttr(Cl)},Jk=["copy"],Zk=Se.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class Dg{static isNative(t){return!!Zk[t.toLowerCase()]}constructor(t){this.bindings={},this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||Ut}fire(t,n){return this.dispatch(t,n)}dispatch(t,n){const r=t.toLowerCase(),o=je(r,n??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(o);const i=this.bindings[r];if(i)for(let a=0,s=i.length;a<s;a++){const l=i[a];if(!l.removed){if(l.once&&this.off(r,l.func),o.isImmediatePropagationStopped())return o;if(!1===l.func.call(this.scope,o))return o.preventDefault(),o}}return o}on(t,n,r,o){if(!1===n&&(n=Ut),n){const i={func:n,removed:!1};o&&Se.extend(i,o);const a=t.toLowerCase().split(" ");let s=a.length;for(;s--;){const l=a[s];let d=this.bindings[l];d||(d=[],this.toggleEvent(l,!0)),d=r?[i,...d]:[...d,i],this.bindings[l]=d}}return this}off(t,n){if(t){const r=t.toLowerCase().split(" ");let o=r.length;for(;o--;){const i=r[o];let a=this.bindings[i];if(!i)return xt(this.bindings,(s,l)=>{this.toggleEvent(l,!1),delete this.bindings[l]}),this;if(a){if(n){const s=qn(a,l=>l.func===n);a=s.fail,this.bindings[i]=a,de(s.pass,l=>{l.removed=!0})}else a.length=0;a.length||(this.toggleEvent(t,!1),delete this.bindings[i])}}}else xt(this.bindings,(r,o)=>{this.toggleEvent(o,!1)}),this.bindings={};return this}once(t,n,r){return this.on(t,n,r,{once:!0})}has(t){t=t.toLowerCase();const n=this.bindings[t];return!(!n||0===n.length)}}const Mc=e=>(e._eventDispatcher||(e._eventDispatcher=new Dg({scope:e,toggleEvent:(t,n)=>{Dg.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher),Lg={fire(e,t,n){return this.dispatch(e,t,n)},dispatch(e,t,n){const r=this;if(r.removed&&"remove"!==e&&"detach"!==e)return je(e.toLowerCase(),t??{},r);const o=Mc(r).dispatch(e,t);if(!1!==n&&r.parent){let i=r.parent();for(;i&&!o.isPropagationStopped();)i.dispatch(e,o,!1),i=i.parent?i.parent():void 0}return o},on(e,t,n){return Mc(this).on(e,t,n)},off(e,t){return Mc(this).off(e,t)},once(e,t){return Mc(this).once(e,t)},hasEventListeners(e){return Mc(this).has(e)}},kf=Xt.DOM;let Tl;const Df=(e,t)=>{if("selectionchange"===t)return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(t))return e.getDoc().documentElement;const n=Bv(e);return n?(e.eventRoot||(e.eventRoot=kf.select(n)[0]),e.eventRoot):e.getBody()},Rw=(e,t,n)=>{var r;(r=e).hidden||Sl(r)?Sl(e)&&((r,o)=>{if("click"!==o.type||Pe.metaKeyPressed(o))Bt(Jk,o.type)&&r.dispatch(o.type,o);else{const i=k(o.target);(a=r,s=i,Rr(s,"a",l=>Fe(l,k(a.getBody()))).bind(l=>Br(l,"href"))).each(a=>{if(o.preventDefault(),/^#/.test(a)){const s=r.dom.select(`${a},[name="${ba(a,"#")}"]`);s.length&&r.selection.scrollIntoView(s[0],!0)}else window.open(a,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}var a,s})(e,n):e.dispatch(t,n)},kw=(e,t)=>{if(e.delegates||(e.delegates={}),e.delegates[t]||e.removed)return;const n=Df(e,t);if(Bv(e)){if(Tl||(Tl={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||Tl&&(xt(Tl,(o,i)=>{e.dom.unbind(Df(e,i))}),Tl=null)})),Tl[t])return;const r=o=>{const i=o.target,a=e.editorManager.get();let s=a.length;for(;s--;){const l=a[s].getBody();(l===i||kf.isChildOf(i,l))&&Rw(a[s],t,o)}};Tl[t]=r,kf.bind(n,t,r)}else{const r=o=>{Rw(e,t,o)};kf.bind(n,t,r),e.delegates[t]=r}},Dw={...Lg,bindPendingEventDelegates(){const e=this;Se.each(e._pendingNativeEvents,t=>{kw(e,t)})},toggleNativeEvent(e,t){const n=this;"focus"!==e&&"blur"!==e&&(n.removed||(t?n.initialized?kw(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&n.delegates&&(n.dom.unbind(Df(n,e),e,n.delegates[e]),delete n.delegates[e])))},unbindAllNativeEvents(){const e=this,t=e.getBody(),n=e.dom;e.delegates&&(xt(e.delegates,(r,o)=>{e.dom.unbind(Df(e,o),o,r)}),delete e.delegates),!e.inline&&t&&n&&(t.onload=null,n.unbind(e.getWin()),n.unbind(e.getDoc())),n&&(n.unbind(t),n.unbind(e.getContainer()))}},eD=e=>We(e)?{value:e.split(/[ ,]/),valid:!0}:Po(e,We)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},Lw=(e,t)=>e+(ri(t.message)?"":`. ${t.message}`),Iw=e=>e.valid,Ig=(e,t,n="")=>{const r=t(e);return Tr(r)?r?{value:e,valid:!0}:{valid:!1,message:n}:r},tD=["design","readonly"],Pw=(e,t,n,r)=>{const o=n[t.get()],i=n[r];try{i.activate()}catch(a){return void console.error(`problem while activating editor mode ${r}:`,a)}var a;o.deactivate(),o.editorReadOnly!==i.editorReadOnly&&((a,s)=>{const l=k(a.getBody());var d,u,f;f=s,R(d=l,u="mce-content-readonly")&&!f?S(d,u):f&&h(d,u),s?(a.selection.controlSelection.hideResizeRect(),a._selectionOverrides.hideFakeCaret(),(d=>{O.from(d.selection.getNode()).each(u=>{u.removeAttribute("data-mce-selected")})})(a),a.readonly=!0,Rf(l,!1),de(le(l,'*[contenteditable="true"]'),d=>{on(d,Cl,"true"),Rf(d,!1)})):(a.readonly=!1,a.hasEditableRoot()&&Rf(l,!0),de(le(l,`*[${Cl}="true"]`),d=>{nn(d,Cl),Rf(d,!0)}),kg(a,"StyleWithCSS",!1),kg(a,"enableInlineTableEditing",!1),kg(a,"enableObjectResizing",!1),g_(a)&&a.focus(),(d=>{d.selection.setRng(d.selection.getRng())})(a),a.nodeChanged())})(e,i.editorReadOnly),t.set(r),(a=e).dispatch("SwitchMode",{mode:r})},Pg=Se.each,Mg=Se.explode,nD={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},Mw=Se.makeMap("alt,ctrl,shift,meta,access"),rD=e=>{const t={},n=Et.os.isMacOS()||Et.os.isiOS();Pg(Mg(e.toLowerCase(),"+"),i=>{i in Mw?t[i]=!0:/^[0-9]{2,}$/.test(i)?t.keyCode=parseInt(i,10):(t.charCode=i.charCodeAt(0),t.keyCode=nD[i]||i.toUpperCase().charCodeAt(0))});const r=[t.keyCode];let o;for(o in Mw)t[o]?r.push(o):t[o]=!1;return t.id=r.join(","),t.access&&(t.alt=!0,n?t.ctrl=!0:t.shift=!0),t.meta&&(n?t.meta=!0:(t.ctrl=!0,t.meta=!1)),t};class Bw{constructor(t){this.shortcuts={},this.pendingPatterns=[],this.editor=t;const n=this;t.on("keyup keypress keydown",r=>{!n.hasModifier(r)&&!n.isFunctionKey(r)||r.isDefaultPrevented()||(Pg(n.shortcuts,o=>{n.matchShortcut(r,o)&&(n.pendingPatterns=o.subpatterns.slice(0),"keydown"===r.type&&n.executeShortcutAction(o))}),n.matchShortcut(r,n.pendingPatterns[0])&&(1===n.pendingPatterns.length&&"keydown"===r.type&&n.executeShortcutAction(n.pendingPatterns[0]),n.pendingPatterns.shift()))})}add(t,n,r,o){const i=this,a=i.normalizeCommandFunc(r);return Pg(Mg(Se.trim(t)),s=>{const l=i.createShortcut(s,n,a,o);i.shortcuts[l.id]=l}),!0}remove(t){const n=this.createShortcut(t);return!!this.shortcuts[n.id]&&(delete this.shortcuts[n.id],!0)}normalizeCommandFunc(t){const n=this,r=t;return"string"==typeof r?()=>{n.editor.execCommand(r,!1,null)}:Se.isArray(r)?()=>{n.editor.execCommand(r[0],r[1],r[2])}:r}createShortcut(t,n,r,o){const i=Se.map(Mg(t,">"),rD);return i[i.length-1]=Se.extend(i[i.length-1],{func:r,scope:o||this.editor}),Se.extend(i[0],{desc:this.editor.translate(n),subpatterns:i.slice(1)})}hasModifier(t){return t.altKey||t.ctrlKey||t.metaKey}isFunctionKey(t){return"keydown"===t.type&&t.keyCode>=112&&t.keyCode<=123}matchShortcut(t,n){return!!n&&n.ctrl===t.ctrlKey&&n.meta===t.metaKey&&n.alt===t.altKey&&n.shift===t.shiftKey&&!!(t.keyCode===n.keyCode||t.charCode&&t.charCode===n.charCode)&&(t.preventDefault(),!0)}executeShortcutAction(t){return t.func?t.func.call(t.scope):null}}const oD=()=>{const e=(()=>{const t={},n={},r={},o={},i={},a={},s={},l={},d=(u,f)=>(m,b)=>{u[m.toLowerCase()]={...b,type:f}};return{addButton:d(t,"button"),addGroupToolbarButton:d(t,"grouptoolbarbutton"),addToggleButton:d(t,"togglebutton"),addMenuButton:d(t,"menubutton"),addSplitButton:d(t,"splitbutton"),addMenuItem:d(n,"menuitem"),addNestedMenuItem:d(n,"nestedmenuitem"),addToggleMenuItem:d(n,"togglemenuitem"),addAutocompleter:d(r,"autocompleter"),addContextMenu:d(i,"contextmenu"),addContextToolbar:d(a,"contexttoolbar"),addContextForm:d(a,"contextform"),addSidebar:d(s,"sidebar"),addView:d(l,"views"),addIcon:(u,f)=>o[u.toLowerCase()]=f,getAll:()=>({buttons:t,menuItems:n,icons:o,popups:r,contextMenus:i,contextToolbars:a,sidebars:s,views:l})}})();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},wl=Xt.DOM,Fw=Se.extend,iD=Se.each;class Lf{constructor(t,n,r){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=r,this.documentBaseUrl=r.documentBaseURL,Fw(this,Dw);const o=this;this.id=t,this.hidden=!1;const i=((e,t,n,r,o)=>{var i;const a=e?{mobile:jk(null!==(i=o.mobile)&&void 0!==i?i:{},t)}:{},s=((e,t)=>{const n=((i,a)=>{const s={},l={};return Qi(i,(d,u)=>Bt(e,u),$a(s),$a(l)),{t:s,f:l}})(t);return o=n.f,{sections:Ae(n.t),options:Ae(o)};var o})(["mobile"],Qm(a,o)),l=Se.extend(n,r,s.options(),e&&Og(s,"mobile")?((d,u,f={})=>{const m=d.sections(),b=Pt(m,u).getOr({});return Se.extend({},f,b)})(s,"mobile"):{},{external_plugins:Hk(r,s.options())});return((d,u,f,m)=>{const b=Pc(f.forced_plugins),g=Pc(m.plugins),E=Og(w=u,"mobile")?w.sections().mobile:{},v=((w,A,M,P)=>w&&Og(A,"mobile")?P:M)(d,u,g,E.plugins?Pc(E.plugins):g),C=((w,A)=>[...Pc(w),...Pc(A)])(b,v);var w;return Se.extend(m,{forced_plugins:b,plugins:C})})(e,s,r,l)})(Sw||Bk,Sw,g=n,r.defaultOptions,g);var g;this.options=((b,g)=>{const E={},v={},C=(A,M,P)=>{const H=Ig(M,P);return Iw(H)?(v[A]=H.value,!0):(console.warn(Lw(`Invalid value passed for the ${A} option`,H)),!1)},w=A=>nt(E,A);return{register:(A,M)=>{const P=We(M.processor)?(K=>{const G=(()=>{switch(K){case"array":return zt;case"boolean":return Tr;case"function":return Ft;case"number":return T;case"object":return ut;case"string":return We;case"string[]":return eD;case"object[]":return J=>Po(J,ut);case"regexp":return J=>Ti(J,RegExp);default:return tn}})();return J=>Ig(J,G,`The value must be a ${K}.`)})(M.processor):M.processor,H=((K,G,J)=>{if(!sn(G)){const ne=Ig(G,J);if(Iw(ne))return ne.value;console.error(Lw(`Invalid default value passed for the "${K}" option`,ne))}})(A,M.default,P);E[A]={...M,default:H,processor:P},Pt(v,A).orThunk(()=>Pt(g,A)).each(K=>C(A,K,P))},isRegistered:w,get:A=>Pt(v,A).orThunk(()=>Pt(E,A).map(M=>M.default)).getOrUndefined(),set:(A,M)=>{if(w(A)){const P=E[A];return P.immutable?(console.error(`"${A}" is an immutable option and cannot be updated`),!1):C(A,M,P.processor)}return console.warn(`"${A}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:A=>{const M=w(A);return M&&delete v[A],M},isSet:A=>nt(v,A)}})(0,i),(b=>{const g=b.options.register;g("id",{processor:"string",default:b.id}),g("selector",{processor:"string"}),g("target",{processor:"object"}),g("suffix",{processor:"string"}),g("cache_suffix",{processor:"string"}),g("base_url",{processor:"string"}),g("referrer_policy",{processor:"string",default:""}),g("language_load",{processor:"boolean",default:!0}),g("inline",{processor:"boolean",default:!1}),g("iframe_attrs",{processor:"object",default:{}}),g("doctype",{processor:"string",default:"<!DOCTYPE html>"}),g("document_base_url",{processor:"string",default:b.documentBaseUrl}),g("body_id",{processor:Av(b,"tinymce"),default:"tinymce"}),g("body_class",{processor:Av(b),default:""}),g("content_security_policy",{processor:"string",default:""}),g("br_in_pre",{processor:"boolean",default:!0}),g("forced_root_block",{processor:E=>{const v=We(E)&&lr(E);return v?{value:E,valid:v}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),g("forced_root_block_attrs",{processor:"object",default:{}}),g("newline_behavior",{processor:E=>{const v=Bt(["block","linebreak","invert","default"],E);return v?{value:E,valid:v}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),g("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),g("no_newline_selector",{processor:"string",default:""}),g("keep_styles",{processor:"boolean",default:!0}),g("end_container_on_empty_block",{processor:E=>Tr(E)||We(E)?{valid:!0,value:E}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),g("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),g("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),g("font_size_classes",{processor:"string",default:""}),g("automatic_uploads",{processor:"boolean",default:!0}),g("images_reuse_filename",{processor:"boolean",default:!1}),g("images_replace_blob_uris",{processor:"boolean",default:!0}),g("icons",{processor:"string",default:""}),g("icons_url",{processor:"string",default:""}),g("images_upload_url",{processor:"string",default:""}),g("images_upload_base_path",{processor:"string",default:""}),g("images_upload_credentials",{processor:"boolean",default:!1}),g("images_upload_handler",{processor:"function"}),g("language",{processor:"string",default:"en"}),g("language_url",{processor:"string",default:""}),g("entity_encoding",{processor:"string",default:"named"}),g("indent",{processor:"boolean",default:!0}),g("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),g("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),g("indent_use_margin",{processor:"boolean",default:!1}),g("indentation",{processor:"string",default:"40px"}),g("content_css",{processor:E=>{const v=!1===E||We(E)||Po(E,We);return v?We(E)?{value:wt(E.split(","),qr),valid:v}:zt(E)?{value:E,valid:v}:!1===E?{value:[],valid:v}:{value:E,valid:v}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:Ch(b)?[]:["default"]}),g("content_style",{processor:"string"}),g("content_css_cors",{processor:"boolean",default:!1}),g("font_css",{processor:E=>{const v=We(E)||Po(E,We);return v?{value:zt(E)?E:wt(E.split(","),qr),valid:v}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),g("inline_boundaries",{processor:"boolean",default:!0}),g("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),g("object_resizing",{processor:E=>{const v=Tr(E)||We(E);return v?!1===E||bh.isiPhone()||bh.isiPad()?{value:"",valid:v}:{value:!0===E?"table,img,figure.image,div,video,iframe":E,valid:v}:{valid:!1,message:"Must be boolean or a string"}},default:!dN}),g("resize_img_proportional",{processor:"boolean",default:!0}),g("event_root",{processor:"object"}),g("service_message",{processor:"string"}),g("theme",{processor:E=>!1===E||We(E)||Ft(E),default:"silver"}),g("theme_url",{processor:"string"}),g("formats",{processor:"object"}),g("format_empty_lines",{processor:"boolean",default:!1}),g("format_noneditable_selector",{processor:"string",default:""}),g("preview_styles",{processor:E=>{const v=!1===E||We(E);return v?{value:!1===E?"":E,valid:v}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),g("custom_ui_selector",{processor:"string",default:""}),g("hidden_input",{processor:"boolean",default:!0}),g("submit_patch",{processor:"boolean",default:!0}),g("encoding",{processor:"string"}),g("add_form_submit_trigger",{processor:"boolean",default:!0}),g("add_unload_trigger",{processor:"boolean",default:!0}),g("custom_undo_redo_levels",{processor:"number",default:0}),g("disable_nodechange",{processor:"boolean",default:!1}),g("readonly",{processor:"boolean",default:!1}),g("editable_root",{processor:"boolean",default:!0}),g("plugins",{processor:"string[]",default:[]}),g("external_plugins",{processor:"object"}),g("forced_plugins",{processor:"string[]"}),g("model",{processor:"string",default:b.hasPlugin("rtc")?"plugin":"dom"}),g("model_url",{processor:"string"}),g("block_unsupported_drop",{processor:"boolean",default:!0}),g("visual",{processor:"boolean",default:!0}),g("visual_table_class",{processor:"string",default:"mce-item-table"}),g("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),g("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),g("setup",{processor:"function"}),g("init_instance_callback",{processor:"function"}),g("url_converter",{processor:"function",default:b.convertURL}),g("url_converter_scope",{processor:"object",default:b}),g("urlconverter_callback",{processor:"function"}),g("allow_conditional_comments",{processor:"boolean",default:!1}),g("allow_html_data_urls",{processor:"boolean",default:!1}),g("allow_svg_data_urls",{processor:"boolean"}),g("allow_html_in_named_anchor",{processor:"boolean",default:!1}),g("allow_script_urls",{processor:"boolean",default:!1}),g("allow_unsafe_link_target",{processor:"boolean",default:!1}),g("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),g("fix_list_elements",{processor:"boolean",default:!1}),g("preserve_cdata",{processor:"boolean",default:!1}),g("remove_trailing_brs",{processor:"boolean",default:!0}),g("pad_empty_with_br",{processor:"boolean",default:!1}),g("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),g("element_format",{processor:"string",default:"html"}),g("entities",{processor:"string"}),g("schema",{processor:"string",default:"html5"}),g("convert_urls",{processor:"boolean",default:!0}),g("relative_urls",{processor:"boolean",default:!0}),g("remove_script_host",{processor:"boolean",default:!0}),g("custom_elements",{processor:"string"}),g("extended_valid_elements",{processor:"string"}),g("invalid_elements",{processor:"string"}),g("invalid_styles",{processor:_h}),g("valid_children",{processor:"string"}),g("valid_classes",{processor:_h}),g("valid_elements",{processor:"string"}),g("valid_styles",{processor:_h}),g("verify_html",{processor:"boolean",default:!0}),g("auto_focus",{processor:E=>We(E)||!0===E}),g("browser_spellcheck",{processor:"boolean",default:!1}),g("protect",{processor:"array"}),g("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),g("deprecation_warnings",{processor:"boolean",default:!0}),g("a11y_advanced_options",{processor:"boolean",default:!1}),g("api_key",{processor:"string"}),g("paste_block_drop",{processor:"boolean",default:!1}),g("paste_data_images",{processor:"boolean",default:!0}),g("paste_preprocess",{processor:"function"}),g("paste_postprocess",{processor:"function"}),g("paste_webkit_styles",{processor:"string",default:"none"}),g("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),g("paste_merge_formats",{processor:"boolean",default:!0}),g("smart_paste",{processor:"boolean",default:!0}),g("paste_as_text",{processor:"boolean",default:!1}),g("paste_tab_spaces",{processor:"number",default:4}),g("text_patterns",{processor:E=>Po(E,ut)||!1===E?{value:wv(!1===E?[]:E),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}]}),g("text_patterns_lookup",{processor:E=>{return Ft(E)?{value:(v=E,C=>{const w=v(C);return wv(w)}),valid:!0}:{valid:!1,message:"Must be a single function"};var v},default:E=>[]}),g("noneditable_class",{processor:"string",default:"mceNonEditable"}),g("editable_class",{processor:"string",default:"mceEditable"}),g("noneditable_regexp",{processor:E=>Po(E,Nv)?{value:E,valid:!0}:Nv(E)?{value:[E],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),g("table_tab_navigation",{processor:"boolean",default:!0}),g("highlight_on_focus",{processor:"boolean",default:!1}),g("xss_sanitization",{processor:"boolean",default:!0}),g("details_initial_state",{processor:E=>{const v=Bt(["inherited","collapsed","expanded"],E);return v?{value:E,valid:v}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),g("details_serialized_state",{processor:E=>{const v=Bt(["inherited","collapsed","expanded"],E);return v?{value:E,valid:v}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),g("init_content_sync",{processor:"boolean",default:!1}),g("newdocument_content",{processor:"string",default:""}),g("force_hex_color",{processor:E=>{const v=["always","rgb_only","off"],C=Bt(v,E);return C?{value:E,valid:C}:{valid:!1,message:`Must be one of: ${v.join(", ")}.`}},default:"off"}),g("sandbox_iframes",{processor:"boolean",default:!1}),g("convert_unsafe_embeds",{processor:"boolean",default:!1}),b.on("ScriptsLoaded",()=>{g("directionality",{processor:"string",default:da.isRtl()?"rtl":void 0}),g("placeholder",{processor:"string",default:cN.getAttrib(b.getElement(),"placeholder")})})})(o);const a=this.options.get;a("deprecation_warnings")&&((b,g)=>{((E,v)=>{const C=(e=>{const t=m0(e,Wx),n=e.forced_root_block;return!1!==n&&""!==n||t.push("forced_root_block (false only)"),st(t)})(E),w=(e=>g0(e,Yx))(v),A=w.length>0,M=C.length>0,P="mobile"===v.theme;if(A||M||P){const H="\n- ",K=P?`\n\nThemes:${H}mobile`:"",G=A?`\n\nPlugins:${H}${w.join(H)}`:"",J=M?`\n\nOptions:${H}${C.join(H)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information."+K+G+J)}})(b,g),((E,v)=>{const C=(e=>m0(e,Kx))(E),w=(e=>g0(e,p0.map(t=>t.name)))(v),A=w.length>0,M=C.length>0;if(A||M){const P="\n- ",H=A?`\n\nPlugins:${P}${w.map(Zx).join(P)}`:"",K=M?`\n\nOptions:${P}${C.join(P)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+H+K)}})(b,g)})(n,i);const s=a("suffix");s&&(r.suffix=s),this.suffix=r.suffix;const l=a("base_url");l&&r._setBaseUrl(l),this.baseUri=r.baseURI;const d=yh(o);d&&(fs.ScriptLoader._setReferrerPolicy(d),Xt.DOM.styleSheetLoader._setReferrerPolicy(d));const u=jv(o);Ne(u)&&Xt.DOM.styleSheetLoader._setContentCssCors(u),no.languageLoad=a("language_load"),no.baseURL=r.baseURL,this.setDirty(!1),this.documentBaseURI=new qi(xv(o),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=Ch(o),this.hasVisual=ZN(o),this.shortcuts=new Bw(this),this.editorCommands=new xw(this),(e=>{var t;(e=>{(t=>{const n=r=>()=>{de("left,center,right,justify".split(","),o=>{r!==o&&t.formatter.remove("align"+o)}),"none"!==r&&(t.formatter.toggle("align"+r,void 0),t.nodeChanged())};t.editorCommands.addCommands({JustifyLeft:n("left"),JustifyCenter:n("center"),JustifyRight:n("right"),JustifyFull:n("justify"),JustifyNone:n("none")})})(e),(t=>{const n=r=>()=>{const o=t.selection,i=o.isCollapsed()?[t.dom.getParent(o.getNode(),t.dom.isBlock)]:o.getSelectedBlocks();return Zt(i,a=>Ne(t.formatter.matchNode(a,r)))};t.editorCommands.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify")},"state")})(e)})(e),(t=e).editorCommands.addCommands({"Cut,Copy,Paste":n=>{const r=t.getDoc();let o;try{r.execCommand(n)}catch{o=!0}if("paste"!==n||r.queryCommandEnabled(n)||(o=!0),o||!r.queryCommandSupported(n)){let i=t.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(Et.os.isMacOS()||Et.os.isiOS())&&(i=i.replace(/Ctrl\+/g,"\u2318+")),t.notificationManager.open({text:i,type:"error"})}}}),(t=>{t.editorCommands.addCommands({mceAddUndoLevel:()=>{t.undoManager.add()},mceEndUndoLevel:()=>{t.undoManager.add()},Undo:()=>{t.undoManager.undo()},Redo:()=>{t.undoManager.redo()}})})(e),(t=>{t.editorCommands.addCommands({mceSelectNodeDepth:(n,r,o)=>{let i=0;t.dom.getParent(t.selection.getNode(),a=>!Le(a)||i++!==o||(t.selection.select(a),!1),t.getBody())},mceSelectNode:(n,r,o)=>{t.selection.select(o)},selectAll:()=>{const n=t.dom.getParent(t.selection.getStart(),Yo);if(n){const r=t.dom.createRng();r.selectNodeContents(n),t.selection.setRng(r)}}})})(e),(t=>{t.editorCommands.addCommands({mceCleanup:()=>{const n=t.selection.getBookmark();t.setContent(t.getContent()),t.selection.moveToBookmark(n)},insertImage:(n,r,o)=>{Of(t,t.dom.createHTML("img",{src:o}))},insertHorizontalRule:()=>{t.execCommand("mceInsertContent",!1,"<hr>")},insertText:(n,r,o)=>{Of(t,t.dom.encode(o))},insertHTML:(n,r,o)=>{Of(t,o)},mceInsertContent:(n,r,o)=>{Of(t,o)},mceSetContent:(n,r,o)=>{t.setContent(o)},mceReplaceContent:(n,r,o)=>{t.execCommand("mceInsertContent",!1,o.replace(/\{\$selection\}/g,t.selection.getContent({format:"text"})))},mceNewDocument:()=>{t.setContent(u1(t))}})})(e),(t=>{const n=(r,o,i)=>{const a=We(i)?{href:i}:i,s=t.dom.getParent(t.selection.getNode(),"a");ut(a)&&We(a.href)&&(a.href=a.href.replace(/ /g,"%20"),s&&a.href||t.formatter.remove("link"),a.href&&t.formatter.apply("link",a,s))};t.editorCommands.addCommands({unlink:()=>{if(t.selection.isEditable()){if(t.selection.isCollapsed()){const r=t.dom.getParent(t.selection.getStart(),"a");return void(r&&t.dom.remove(r,!0))}t.formatter.remove("link")}},mceInsertLink:n,createLink:n})})(e),(t=>{t.editorCommands.addCommands({Indent:()=>{LC(t,"indent")},Outdent:()=>{IC(t)}}),t.editorCommands.addCommands({Outdent:()=>RC(t)},"state")})(e),(t=>{t.editorCommands.addCommands({InsertNewBlockBefore:()=>{Nw(t,!0)},InsertNewBlockAfter:()=>{Nw(t,!1)}})})(e),(t=>{t.editorCommands.addCommands({insertParagraph:()=>{yf(QS,t)},mceInsertNewLine:(n,r,o)=>{nT(t,o)},InsertLineBreak:(n,r,o)=>{yf(JS,t)}})})(e),(t=>{var n;(n=t).editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":r=>{n.getDoc().execCommand(r);const o=n.dom.getParent(n.selection.getNode(),"ol,ul");if(o){const i=o.parentNode;if(i&&/^(H[1-6]|P|ADDRESS|PRE)$/.test(i.nodeName)){const a=n.selection.getBookmark();n.dom.split(i,o),n.selection.moveToBookmark(a)}}}}),(n=>{n.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":r=>{const o=n.dom.getParent(n.selection.getNode(),"ul,ol");return o&&("insertunorderedlist"===r&&"UL"===o.tagName||"insertorderedlist"===r&&"OL"===o.tagName)}},"state")})(t)})(e),(t=>{(n=>{const r=(o,i)=>{n.formatter.toggle(o,i),n.nodeChanged()};n.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>{r(o)},"ForeColor,HiliteColor":(o,i,a)=>{r(o,{value:a})},BackColor:(o,i,a)=>{r("hilitecolor",{value:a})},FontName:(o,i,a)=>{((s,l)=>{const d=ww(s,l);s.formatter.toggle("fontname",{value:Qk(d)}),s.nodeChanged()})(n,a)},FontSize:(o,i,a)=>{var s;(s=n).formatter.toggle("fontsize",{value:ww(s,a)}),s.nodeChanged()},LineHeight:(o,i,a)=>{var s;(s=n).formatter.toggle("lineheight",{value:String(a)}),s.nodeChanged()},Lang:(o,i,a)=>{var s;r(o,{value:a.code,customValue:null!==(s=a.customCode)&&void 0!==s?s:null})},RemoveFormat:o=>{n.formatter.remove(o)},mceBlockQuote:()=>{r("blockquote")},FormatBlock:(o,i,a)=>{r(We(a)?a:"p")},mceToggleFormat:(o,i,a)=>{r(a)}})})(t),(n=>{const r=o=>n.formatter.match(o);n.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>r(o),mceBlockQuote:()=>r("blockquote")},"state"),n.editorCommands.addQueryValueHandler("FontName",()=>{return Rg(o=n,i=>Kk(o.getBody(),i.dom)).getOr("");var o}),n.editorCommands.addQueryValueHandler("FontSize",()=>{return Rg(o=n,i=>Wk(o.getBody(),i.dom)).getOr("");var o}),n.editorCommands.addQueryValueHandler("LineHeight",()=>{return Rg(o=n,i=>{const a=k(o.getBody());return Hp(i,l=>Ro(l,"line-height"),Re(Fe,a)).getOrThunk(()=>{const l=parseFloat(nr(i,"line-height")),d=parseFloat(nr(i,"font-size"));return String(l/d)})}).getOr("");var o})})(t)})(e),(t=>{t.editorCommands.addCommands({mceRemoveNode:(n,r,o)=>{const i=o??t.selection.getNode();if(i!==t.getBody()){const a=t.selection.getBookmark();t.dom.remove(i,!0),t.selection.moveToBookmark(a)}},mcePrint:()=>{t.getWin().print()},mceFocus:(n,r,o)=>{var i;(i=t).removed||(!0===o?lp(i):(s=>{const l=s.selection,d=s.getBody();let u=l.getRng();s.quirks.refreshContentEditable(),Ne(s.bookmark)&&!pl(s)&&rp(s).each(m=>{s.selection.setRng(m),u=m});const f=(m=s,b=l.getNode(),m.dom.getParent(b,g=>"true"===m.dom.getContentEditable(g)));var m,b;if(f&&s.dom.isChildOf(f,d))return sp(f),m_(s,u),void lp(s);s.inline||(Et.browser.isOpera()||sp(d),s.getWin().focus()),(Et.browser.isFirefox()||s.inline)&&(sp(d),m_(s,u)),lp(s)})(i))},mceToggleVisualAid:()=>{t.hasVisual=!t.hasVisual,t.addVisual()}})})(e)})(this);const f=a("cache_suffix");f&&(Et.cacheSuffix=f.replace(/^[\?\&]+/,"")),this.ui={registry:oD(),styleSheetLoader:void 0,show:Ke,hide:Ke,setEnabled:Ke,isEnabled:tn},this.mode=(b=>{const g=mr("design"),E=mr({design:{activate:Ke,deactivate:Ke,editorReadOnly:!1},readonly:{activate:Ke,deactivate:Ke,editorReadOnly:!0}});return(v=b).serializer?Ow(v):v.on("PreInit",()=>{Ow(v)}),(v=>{v.on("ShowCaret",C=>{Sl(v)&&C.preventDefault()}),v.on("ObjectSelected",C=>{Sl(v)&&C.preventDefault()})})(b),{isReadOnly:()=>Sl(b),set:v=>((C,w,A,M)=>{if(M!==A.get()){if(!nt(w,M))throw new Error(`Editor mode '${M}' is invalid`);C.initialized?Pw(C,A,w,M):C.on("init",()=>Pw(C,A,w,M))}})(b,E.get(),g,v),get:()=>g.get(),register:(v,C)=>{E.set(((w,A,M)=>{if(Bt(tD,A))throw new Error(`Cannot override default mode ${A}`);return{...w,[A]:{...M,deactivate:()=>{try{M.deactivate()}catch(P){console.error(`problem while deactivating editor mode ${A}:`,P)}}}}})(E.get(),v,C))}};var v})(o),r.dispatch("SetupEditor",{editor:this});const m=n1(o);Ft(m)&&m.call(o,o)}render(){(t=>{const n=t.id;da.setCode(Lv(t));const r=()=>{El.unbind(window,"ready",r),t.render()};if(!jr.Event.domLoaded)return void El.bind(window,"ready",r);if(!t.getElement())return;const o=k(t.getElement()),i=Qr(o);var l;t.on("remove",()=>{_s(o.dom.attributes,s=>nn(o,s.name)),Yr(o,i)}),t.ui.styleSheetLoader=eu.forElement(o,{contentCssCors:jv(l=t),referrerPolicy:yh(l)}),Ch(t)?t.inline=!0:(t.orgVisibility=t.getElement().style.visibility,t.getElement().style.visibility="hidden");const a=t.getElement().form||El.getParent(n,"form");a&&(t.formElement=a,zN(t)&&!Rl(t.getElement())&&(El.insertAfter(El.create("input",{type:"hidden",name:n}),n),t.hasHiddenInput=!0),t.formEventDelegate=s=>{t.dispatch(s.type,s)},El.bind(a,"submit reset",t.formEventDelegate),t.on("reset",()=>{t.resetContent()}),!qN(t)||a.submit.nodeType||a.submit.length||a._mceOldSubmit||(a._mceOldSubmit=a.submit,a.submit=()=>(t.editorManager.triggerSave(),t.setDirty(!1),a._mceOldSubmit(a)))),t.windowManager=y0(t),t.notificationManager=_0(t),"xml"===t.options.get("encoding")&&t.on("GetContent",s=>{s.save&&(s.content=El.encode(s.content))}),WN(t)&&t.on("submit",()=>{t.initialized&&t.save()}),KN(t)&&(t._beforeUnload=()=>{!t.initialized||t.destroyed||t.isHidden()||t.save({format:"raw",no_events:!0,set_dirty:!1})},t.editorManager.on("BeforeUnload",t._beforeUnload)),t.editorManager.add(t),((e,t)=>{const n=fs.ScriptLoader,r=()=>{!e.removed&&(o=>{const i=Kl(o);return!We(i)||Ne(_l.get(i))})(e)&&(o=>{const i=Eh(o);return Ne(ad.get(i))})(e)&&Pk(e)};((o,i)=>{const a=Kl(o);if(We(a)&&!yw(a)&&!nt(_l.urls,a)){const s=BN(o),l=s?o.documentBaseURI.toAbsolute(s):`themes/${a}/theme${i}.js`;_l.load(a,l).catch(()=>{vc(o,"ThemeLoadError",bc("theme",l,a))})}})(e,t),((o,i)=>{const a=Eh(o);if("plugin"!==a&&!nt(ad.urls,a)){const s=FN(o),l=We(s)?o.documentBaseURI.toAbsolute(s):`models/${a}/model${i}.js`;ad.load(a,l).catch(()=>{vc(o,"ModelLoadError",bc("model",l,a))})}})(e,t),((o,i)=>{const a=Lv(i),s=xN(i);if(!da.hasCode(a)&&"en"!==a){const l=lr(s)?s:`${i.editorManager.baseURL}/langs/${a}.js`;o.add(l).catch(()=>{vc(i,"LanguageLoadError",bc("language",l,a))})}})(n,e),((o,i,a)=>{const s=Ew(i,"default",a),l=(d=i,O.from(CN(d)).filter(lr).map(u=>({url:u,name:O.none()}))).orThunk(()=>Ew(i,Dv(i),""));var d;de((d=>{const u=[],f=m=>{u.push(m)};for(let m=0;m<d.length;m++)d[m].each(f);return u})([s,l]),d=>{o.add(d.url).catch(()=>{var u,f,m;u=i,f=d.url,m=d.name.getOrUndefined(),vc(u,"IconsLoadError",bc("icons",f,m))})})})(n,e,t),((o,i)=>{const a=(s,l)=>{sd.load(s,l).catch(()=>{vc(o,"PluginLoadError",bc("plugin",l,s))})};xt(XN(o),(s,l)=>{a(l,s),o.options.set("plugins",hu(o).concat(l))}),de(hu(o),s=>{!(s=Se.trim(s))||sd.urls[s]||yw(s)||a(s,`plugins/${s}/plugin${i}.js`)})})(e,t),n.loadQueue().then(r,r)})(t,t.suffix)})(this)}focus(t){this.execCommand("mceFocus",!1,t)}hasFocus(){return pl(this)}translate(t){return da.translate(t)}getParam(t,n,r){const o=this.options;return o.isRegistered(t)||(Ne(r)?o.register(t,{processor:r,default:n}):o.register(t,{processor:tn,default:n})),o.isSet(t)||sn(n)?o.get(t):n}hasPlugin(t,n){return!(!Bt(hu(this),t)||n&&void 0===sd.get(t))}nodeChanged(t){this._nodeChangeDispatcher.nodeChanged(t)}addCommand(t,n,r){this.editorCommands.addCommand(t,n,r)}addQueryStateHandler(t,n,r){this.editorCommands.addQueryStateHandler(t,n,r)}addQueryValueHandler(t,n,r){this.editorCommands.addQueryValueHandler(t,n,r)}addShortcut(t,n,r,o){this.shortcuts.add(t,n,r,o)}execCommand(t,n,r,o){return this.editorCommands.execCommand(t,n,r,o)}queryCommandState(t){return this.editorCommands.queryCommandState(t)}queryCommandValue(t){return this.editorCommands.queryCommandValue(t)}queryCommandSupported(t){return this.editorCommands.queryCommandSupported(t)}show(){const t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable="true":(wl.show(t.getContainer()),wl.hide(t.id)),t.load(),t.dispatch("show"))}hide(){const t=this;t.hidden||(t.save(),t.inline?(t.getBody().contentEditable="false",t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(wl.hide(t.getContainer()),wl.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(t,n){this.dispatch("ProgressState",{state:t,time:n})}load(t={}){const n=this,r=n.getElement();if(n.removed)return"";if(r){const o={...t,load:!0},i=Rl(r)?r.value:r.innerHTML,a=n.setContent(i,o);return o.no_events||n.dispatch("LoadContent",{...o,element:r}),a}return""}save(t={}){const n=this;let r=n.getElement();if(!r||!n.initialized||n.removed)return"";const o={...t,save:!0,element:r};let i=n.getContent(o);const a={...o,content:i};if(a.no_events||n.dispatch("SaveContent",a),"raw"===a.format&&n.dispatch("RawSaveContent",a),i=a.content,Rl(r))r.value=i;else{!t.is_removing&&n.inline||(r.innerHTML=i);const s=wl.getParent(n.id,"form");s&&iD(s.elements,l=>l.name!==n.id||(l.value=i,!1))}return a.element=o.element=r=null,!1!==a.set_dirty&&n.setDirty(!1),i}setContent(t,n){return gm(this,t,n)}getContent(t){return((n,r={})=>{const o=(i=r,a=r.format?r.format:"html",{...i,format:a,get:!0,getInner:!0});var i,a;return YE(n,o).fold(At,i=>{const a=(l=i,mm(n).editor.getContent(l));var l;return QE(n,a,i)})})(this,t)}insertContent(t,n){n&&(t=Fw({content:t},n)),this.execCommand("mceInsertContent",!1,t)}resetContent(t){void 0===t?gm(this,this.startContent,{format:"raw"}):gm(this,t),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(t){const n=!this.isNotDirty;this.isNotDirty=!t,t&&t!==n&&this.dispatch("dirty")}getContainer(){const t=this;return t.container||(t.container=t.editorContainer||wl.get(t.id+"_parent")),t.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=wl.get(this.id)),this.targetElm}getWin(){const t=this;if(!t.contentWindow){const n=t.iframeElement;n&&(t.contentWindow=n.contentWindow)}return t.contentWindow}getDoc(){const t=this;if(!t.contentDocument){const n=t.getWin();n&&(t.contentDocument=n.document)}return t.contentDocument}getBody(){var t,n;const r=this.getDoc();return null!==(n=null!==(t=this.bodyElement)&&void 0!==t?t:r?.body)&&void 0!==n?n:null}convertURL(t,n,r){const o=this,i=o.options.get,a=o1(o);if(Ft(a))return a.call(o,t,r,!0,n);if(!i("convert_urls")||"link"===r||ut(r)&&"LINK"===r.nodeName||0===t.indexOf("file:")||0===t.length)return t;const s=new qi(t);return"http"!==s.protocol&&"https"!==s.protocol&&""!==s.protocol?t:i("relative_urls")?o.documentBaseURI.toRelative(t):t=o.documentBaseURI.toAbsolute(t,i("remove_script_host"))}addVisual(t){((n,r)=>{var i;i=r,Fn(this).editor.addVisual(i)})(0,t)}setEditableRoot(t){var n,r;(n=this)._editableRoot!==(r=t)&&(n._editableRoot=r,n.readonly||(n.getBody().contentEditable=String(n.hasEditableRoot()),n.nodeChanged()),n.dispatch("EditableRootStateChange",{state:r}))}hasEditableRoot(){return this._editableRoot}remove(){(t=>{if(!t.removed){const{_selectionOverrides:n,editorUpload:r}=t,o=t.getBody(),i=t.getElement();o&&t.save({is_removing:!0}),t.removed=!0,t.unbindAllNativeEvents(),t.hasHiddenInput&&Ne(i?.nextSibling)&&Yu.remove(i.nextSibling),t.dispatch("remove"),t.editorManager.remove(t),!t.inline&&o&&Yu.setStyle((a=t).id,"display",a.orgDisplay),(a=>{a.dispatch("detach")})(t),Yu.remove(t.getContainer()),Qu(n),Qu(r),t.destroy()}var a})(this)}destroy(t){((n,r)=>{const{selection:o,dom:i}=n;n.destroyed||(r||n.removed?(r||(n.editorManager.off("beforeunload",n._beforeUnload),n.theme&&n.theme.destroy&&n.theme.destroy(),Qu(o),Qu(i)),(a=>{const s=a.formElement;s&&(s._mceOldSubmit&&(s.submit=s._mceOldSubmit,delete s._mceOldSubmit),Yu.unbind(s,"submit reset",a.formEventDelegate))})(n),(a=>{const s=a;s.contentAreaContainer=s.formElement=s.container=s.editorContainer=null,s.bodyElement=s.contentDocument=s.contentWindow=null,s.iframeElement=s.targetElm=null;const l=a.selection;l&&(s.selection=l.win=l.dom=l.dom.doc=null)})(n),n.destroyed=!0):n.remove())})(this,t)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const gd=Xt.DOM,If=Se.each;let Pf,jw=!1,wo=[];const Mf=e=>{const t=e.type;If(Ws.get(),n=>{switch(t){case"scroll":n.dispatch("ScrollWindow",e);break;case"resize":n.dispatch("ResizeWindow",e)}})},Hw=e=>{if(e!==jw){const t=Xt.DOM;e?(t.bind(window,"resize",Mf),t.bind(window,"scroll",Mf)):(t.unbind(window,"resize",Mf),t.unbind(window,"scroll",Mf)),jw=e}},$w=e=>{const t=wo;return wo=tt(wo,n=>e!==n),Ws.activeEditor===e&&(Ws.activeEditor=wo.length>0?wo[0]:null),Ws.focusedEditor===e&&(Ws.focusedEditor=null),t.length!==wo.length},aD="CSS1Compat"!==document.compatMode,Ws={...Lg,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"6",minorVersion:"8.2",releaseDate:"2023-12-11",i18n:da,activeEditor:null,focusedEditor:null,setup(){const e=this;let t="",n="",r=qi.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/"));const o=window.tinymce||window.tinyMCEPreInit;if(o)t=o.base||o.baseURL,n=o.suffix;else{const a=document.getElementsByTagName("script");for(let s=0;s<a.length;s++){const l=a[s].src||"";if(""===l)continue;const d=l.substring(l.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(l)){-1!==d.indexOf(".min")&&(n=".min"),t=l.substring(0,l.lastIndexOf("/"));break}}if(!t&&document.currentScript){const s=document.currentScript.src;-1!==s.indexOf(".min")&&(n=".min"),t=s.substring(0,s.lastIndexOf("/"))}}var i;e.baseURL=new qi(r).toAbsolute(t),e.documentBaseURL=r,e.baseURI=new qi(e.baseURL),e.suffix=n,(i=e).on("AddEditor",Re(pA,i)),i.on("RemoveEditor",Re(mA,i))},overrideDefaults(e){const t=e.base_url;t&&this._setBaseUrl(t);const n=e.suffix;n&&(this.suffix=n),this.defaultOptions=e;const r=e.plugin_base_urls;void 0!==r&&xt(r,(o,i)=>{no.PluginManager.urls[i]=o})},init(e){const t=this;let n;const r=Se.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," ");let o=a=>{n=a};const i=()=>{let a=0;const s=[];let l;var d;gd.unbind(window,"ready",i),(d=>{const u=e.onpageload;u&&u.apply(t,[])})(),l=((d,u)=>{const f=[],m=Ft(u)?b=>Zt(f,g=>u(g,b)):b=>Bt(f,b);for(let b=0,g=d.length;b<g;b++){const E=d[b];m(E)||f.push(E)}return f})((d=e,Et.browser.isIE()||Et.browser.isEdge()?(Ju("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers"),[]):aD?(Ju("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):We(d.selector)?gd.select(d.selector):Ne(d.target)?[d.target]:[])),Se.each(l,d=>{var u;(u=t.get(d.id))&&u.initialized&&!(u.getContainer()||u.getBody()).parentNode&&($w(u),u.unbindAllNativeEvents(),u.destroy(!0),u.removed=!0)}),l=Se.grep(l,d=>!t.get(d.id)),0===l.length?o([]):If(l,d=>{e.inline&&d.tagName.toLowerCase()in r?Ju("Could not initialize inline editor on invalid inline target element",d):((u,f,m)=>{const b=new Lf(u,f,t);s.push(b),b.on("init",()=>{++a===l.length&&o(s)}),b.targetElm=b.targetElm||m,b.render()})((u=>{let f=u.id;return f||(f=Pt(u,"name").filter(m=>!gd.get(m)).getOrThunk(gd.uniqueId),u.setAttribute("id",f)),f})(d),e,d)})};return gd.bind(window,"ready",i),new Promise(a=>{n?a(n):o=s=>{a(s)}})},get(e){return 0===arguments.length?wo.slice(0):We(e)?Gt(wo,t=>t.id===e).getOr(null):T(e)&&wo[e]?wo[e]:null},add(e){const t=this,n=t.get(e.id);return n===e||(null===n&&wo.push(e),Hw(!0),t.activeEditor=e,t.dispatch("AddEditor",{editor:e}),Pf||(Pf=r=>{const o=t.dispatch("BeforeUnload");if(o.returnValue)return r.preventDefault(),r.returnValue=o.returnValue,o.returnValue},window.addEventListener("beforeunload",Pf))),e},createEditor(e,t){return this.add(new Lf(e,t,this))},remove(e){const t=this;let n;if(e){if(!We(e))return n=e,ye(t.get(n.id))?null:($w(n)&&t.dispatch("RemoveEditor",{editor:n}),0===wo.length&&window.removeEventListener("beforeunload",Pf),n.remove(),Hw(wo.length>0),n);If(gd.select(e),r=>{n=t.get(r.id),n&&t.remove(n)})}else for(let r=wo.length-1;r>=0;r--)t.remove(wo[r])},execCommand(e,t,n){var r;const o=this,i=ut(n)?null!==(r=n.id)&&void 0!==r?r:n.index:n;switch(e){case"mceAddEditor":return o.get(i)||new Lf(i,n.options,o).render(),!0;case"mceRemoveEditor":{const a=o.get(i);return a&&a.remove(),!0}case"mceToggleEditor":{const a=o.get(i);return a?(a.isHidden()?a.show():a.hide(),!0):(o.execCommand("mceAddEditor",!1,n),!0)}}return!!o.activeEditor&&o.activeEditor.execCommand(e,t,n)},triggerSave:()=>{If(wo,e=>{e.save()})},addI18n:(e,t)=>{da.add(e,t)},translate:e=>da.translate(e),setActive(e){const t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new qi(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new qi(this.baseURL)}};Ws.setup();const sD=(()=>{const e=Ps();return{FakeClipboardItem:t=>({items:t,types:Zn(t),getType:n=>Pt(t,n).getOrUndefined()}),write:t=>{e.set(t)},read:()=>e.get().getOrUndefined(),clear:e.clear}})(),Uw=Math.min,vd=Math.max,Bf=Math.round,Vw=(e,t,n)=>{let r=t.x,o=t.y;const i=e.w,a=e.h,s=t.w,l=t.h,d=(n||"").split("");return"b"===d[0]&&(o+=l),"r"===d[1]&&(r+=s),"c"===d[0]&&(o+=Bf(l/2)),"c"===d[1]&&(r+=Bf(s/2)),"b"===d[3]&&(o-=a),"r"===d[4]&&(r-=i),"c"===d[3]&&(o-=Bf(a/2)),"c"===d[4]&&(r-=Bf(i/2)),bd(r,o,i,a)},bd=(e,t,n,r)=>({x:e,y:t,w:n,h:r}),lD={inflate:(e,t,n)=>bd(e.x-t,e.y-n,e.w+2*t,e.h+2*n),relativePosition:Vw,findBestRelativePosition:(e,t,n,r)=>{for(let o=0;o<r.length;o++){const i=Vw(e,t,r[o]);if(i.x>=n.x&&i.x+i.w<=n.w+n.x&&i.y>=n.y&&i.y+i.h<=n.h+n.y)return r[o]}return null},intersect:(e,t)=>{const n=vd(e.x,t.x),r=vd(e.y,t.y),o=Uw(e.x+e.w,t.x+t.w),i=Uw(e.y+e.h,t.y+t.h);return o-n<0||i-r<0?null:bd(n,r,o-n,i-r)},clamp:(e,t,n)=>{let r=e.x,o=e.y,i=e.x+e.w,a=e.y+e.h;const s=t.x+t.w,l=t.y+t.h,d=vd(0,t.x-r),u=vd(0,t.y-o),f=vd(0,i-s),m=vd(0,a-l);return r+=d,o+=u,n&&(i+=d,a+=u,r-=f,o-=m),i-=f,a-=m,bd(r,o,i-r,a-o)},create:bd,fromClientRect:e=>bd(e.left,e.top,e.width,e.height)},dD=(()=>{const e={},t={},n={};return{load:(r,o)=>{const i=`Script at URL "${o}" failed to load`,a=`Script at URL "${o}" did not call \`tinymce.Resource.add('${r}', data)\` within 1 second`;if(void 0!==e[r])return e[r];{const s=new Promise((l,d)=>{const u=((f,m,b=1e3)=>{let g=!1,E=null;const v=A=>(...M)=>{g||(g=!0,null!==E&&(clearTimeout(E),E=null),A.apply(null,M))},C=v(f),w=v(m);return{start:(...A)=>{g||null!==E||(E=setTimeout(()=>w.apply(null,A),b))},resolve:C,reject:w}})(l,d);t[r]=u.resolve,fs.ScriptLoader.loadScript(o).then(()=>u.start(a),()=>u.reject(i))});return e[r]=s,s}},add:(r,o)=>{void 0!==t[r]&&(t[r](o),delete t[r]),e[r]=Promise.resolve(o),n[r]=o},has:r=>r in n,get:r=>n[r],unload:r=>{delete e[r]}}})();let Bc;try{const e="__storage_test__";Bc=window.localStorage,Bc.setItem(e,e),Bc.removeItem(e)}catch{Bc=(()=>{let t={},n=[];const r={getItem:o=>t[o]||null,setItem:(o,i)=>{n.push(o),t[o]=String(i)},key:o=>n[o],removeItem:o=>{n=n.filter(i=>i===o),delete t[o]},clear:()=>{n=[],t={}},length:0};return Object.defineProperty(r,"length",{get:()=>n.length,configurable:!1,enumerable:!1}),r})()}const cD={geom:{Rect:lD},util:{Delay:hi,Tools:Se,VK:Pe,URI:qi,EventDispatcher:Dg,Observable:Lg,I18n:da,LocalStorage:Bc,ImageUploader:e=>{const t=S0(),n=w0(e,t);return{upload:(r,o=!0)=>n.upload(r,o?T0(e):void 0)}}},dom:{EventUtils:jr,TreeWalker:De,TextSeeker:il,DOMUtils:Xt,ScriptLoader:fs,RangeUtils:hl,Serializer:h0,StyleSheetLoader:Zc,ControlSelection:qb,BookmarkManager:rc,Selection:f0,Event:jr.Event},html:{Styles:ie,Entities:Oa,Node:ro,Schema:Ra,DomParser:id,Writer:P_,Serializer:Hs},Env:Et,AddOnManager:no,Annotator:Mb,Formatter:x0,UndoManager:R0,EditorCommands:xw,WindowManager:y0,NotificationManager:_0,EditorObservable:Dw,Shortcuts:Bw,Editor:Lf,FocusManager:p_,EditorManager:Ws,DOM:Xt.DOM,ScriptLoader:fs.ScriptLoader,PluginManager:sd,ThemeManager:_l,ModelManager:ad,IconManager:Gu,Resource:dD,FakeClipboard:sD,trim:Se.trim,isArray:Se.isArray,is:Se.is,toArray:Se.toArray,makeMap:Se.makeMap,each:Se.each,map:Se.map,grep:Se.grep,inArray:Se.inArray,extend:Se.extend,walk:Se.walk,resolve:Se.resolve,explode:Se.explode,_addCacheSuffix:Se._addCacheSuffix},zw=Se.extend(Ws,cD);(e=>{window.tinymce=e,window.tinyMCE=e})(zw),(e=>{if("object"==typeof module)try{module.exports=e}catch{}})(zw)}(),function(Ue,jn){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=Ue.document?jn(Ue,!0):function(zn){if(!zn.document)throw new Error("jQuery requires a window with a document");return jn(zn)}:jn(Ue)}(typeof window<"u"?window:this,function(Ue,jn){"use strict";var zn=[],p=Object.getPrototypeOf,kn=zn.slice,Jn=zn.flat?function(c){return zn.flat.call(c)}:function(c){return zn.concat.apply([],c)},Jt=zn.push,ao=zn.indexOf,Io={},Xo=Io.toString,Si=Io.hasOwnProperty,Ti=Si.toString,We=Ti.call(Object),ut={},Dt=function(h){return"function"==typeof h&&"number"!=typeof h.nodeType&&"function"!=typeof h.item},zt=function(h){return null!=h&&h===h.window},ye=Ue.document,Tr={type:!0,src:!0,nonce:!0,noModule:!0};function sn(c,h,y){var S,R,D=(y=y||ye).createElement("script");if(D.text=c,h)for(S in Tr)(R=h[S]||h.getAttribute&&h.getAttribute(S))&&D.setAttribute(S,R);y.head.appendChild(D).parentNode.removeChild(D)}function qt(c){return null==c?c+"":"object"==typeof c||"function"==typeof c?Io[Xo.call(c)]||"object":typeof c}var Ft=/HTML$/i,T=function(c,h){return new T.fn.init(c,h)};function Po(c){var h=!!c&&"length"in c&&c.length,y=qt(c);return!Dt(c)&&!zt(c)&&("array"===y||0===h||"number"==typeof h&&h>0&&h-1 in c)}function Ke(c,h){return c.nodeName&&c.nodeName.toLowerCase()===h.toLowerCase()}T.fn=T.prototype={jquery:"3.7.1",constructor:T,length:0,toArray:function(){return kn.call(this)},get:function(c){return null==c?kn.call(this):c<0?this[c+this.length]:this[c]},pushStack:function(c){var h=T.merge(this.constructor(),c);return h.prevObject=this,h},each:function(c){return T.each(this,c)},map:function(c){return this.pushStack(T.map(this,function(h,y){return c.call(h,y,h)}))},slice:function(){return this.pushStack(kn.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(T.grep(this,function(c,h){return(h+1)%2}))},odd:function(){return this.pushStack(T.grep(this,function(c,h){return h%2}))},eq:function(c){var h=this.length,y=+c+(c<0?h:0);return this.pushStack(y>=0&&y<h?[this[y]]:[])},end:function(){return this.prevObject||this.constructor()},push:Jt,sort:zn.sort,splice:zn.splice},T.extend=T.fn.extend=function(){var c,h,y,S,R,D,B=arguments[0]||{},z=1,V=arguments.length,k=!1;for("boolean"==typeof B&&(k=B,B=arguments[z]||{},z++),"object"!=typeof B&&!Dt(B)&&(B={}),z===V&&(B=this,z--);z<V;z++)if(null!=(c=arguments[z]))for(h in c)S=c[h],"__proto__"!==h&&B!==S&&(k&&S&&(T.isPlainObject(S)||(R=Array.isArray(S)))?(y=B[h],D=R&&!Array.isArray(y)?[]:R||T.isPlainObject(y)?y:{},R=!1,B[h]=T.extend(k,D,S)):void 0!==S&&(B[h]=S));return B},T.extend({expando:"jQuery"+("3.7.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(c){throw new Error(c)},noop:function(){},isPlainObject:function(c){var h,y;return!(!c||"[object Object]"!==Xo.call(c)||(h=p(c))&&("function"!=typeof(y=Si.call(h,"constructor")&&h.constructor)||Ti.call(y)!==We))},isEmptyObject:function(c){var h;for(h in c)return!1;return!0},globalEval:function(c,h,y){sn(c,{nonce:h&&h.nonce},y)},each:function(c,h){var y,S=0;if(Po(c))for(y=c.length;S<y&&!1!==h.call(c[S],S,c[S]);S++);else for(S in c)if(!1===h.call(c[S],S,c[S]))break;return c},text:function(c){var h,y="",S=0,R=c.nodeType;if(!R)for(;h=c[S++];)y+=T.text(h);return 1===R||11===R?c.textContent:9===R?c.documentElement.textContent:3===R||4===R?c.nodeValue:y},makeArray:function(c,h){var y=h||[];return null!=c&&(Po(Object(c))?T.merge(y,"string"==typeof c?[c]:c):Jt.call(y,c)),y},inArray:function(c,h,y){return null==h?-1:ao.call(h,c,y)},isXMLDoc:function(c){var y=c&&(c.ownerDocument||c).documentElement;return!Ft.test(c&&c.namespaceURI||y&&y.nodeName||"HTML")},merge:function(c,h){for(var y=+h.length,S=0,R=c.length;S<y;S++)c[R++]=h[S];return c.length=R,c},grep:function(c,h,y){for(var R=[],D=0,B=c.length,z=!y;D<B;D++)!h(c[D],D)!==z&&R.push(c[D]);return R},map:function(c,h,y){var S,R,D=0,B=[];if(Po(c))for(S=c.length;D<S;D++)null!=(R=h(c[D],D,y))&&B.push(R);else for(D in c)null!=(R=h(c[D],D,y))&&B.push(R);return Jn(B)},guid:1,support:ut}),"function"==typeof Symbol&&(T.fn[Symbol.iterator]=zn[Symbol.iterator]),T.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(c,h){Io["[object "+h+"]"]=h.toLowerCase()});var Ur=zn.pop,Ki=zn.sort,Ae=zn.splice,At="[\\x20\\t\\r\\n\\f]",Mo=new RegExp("^"+At+"+|((?:^|[^\\\\])(?:\\\\.)*)"+At+"+$","g");T.contains=function(c,h){var y=h&&h.parentNode;return c===y||!(!y||1!==y.nodeType||!(c.contains?c.contains(y):c.compareDocumentPosition&&16&c.compareDocumentPosition(y)))};var Re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function so(c,h){return h?"\0"===c?"\ufffd":c.slice(0,-1)+"\\"+c.charCodeAt(c.length-1).toString(16)+" ":"\\"+c}T.escapeSelector=function(c){return(c+"").replace(Re,so)};var Vr=ye,No=Jt;!function(){var c,h,y,S,R,B,z,V,k,he,D=No,Te=T.expando,ae=0,ke=0,Fe=ai(),Ot=ai(),Rt=ai(),an=ai(),rn=function($,te){return $===te&&(R=!0),0},en="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",yr="(?:\\\\[\\da-fA-F]{1,6}"+At+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",jt="\\["+At+"*("+yr+")(?:"+At+"*([*^$|!~]?=)"+At+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+yr+"))|)"+At+"*\\]",Pn=":("+yr+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+jt+")*)|.*)\\)|)",Lt=new RegExp(At+"+","g"),ln=new RegExp("^"+At+"*,"+At+"*"),Bi=new RegExp("^"+At+"*([>+~]|"+At+")"+At+"*"),fn=new RegExp(At+"|>"),ur=new RegExp(Pn),Xr=new RegExp("^"+yr+"$"),Qn={ID:new RegExp("^#("+yr+")"),CLASS:new RegExp("^\\.("+yr+")"),TAG:new RegExp("^("+yr+"|[*])"),ATTR:new RegExp("^"+jt),PSEUDO:new RegExp("^"+Pn),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+At+"*(even|odd|(([+-]|)(\\d*)n|)"+At+"*(?:([+-]|)"+At+"*(\\d+)|))"+At+"*\\)|)","i"),bool:new RegExp("^(?:"+en+")$","i"),needsContext:new RegExp("^"+At+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+At+"*((?:-\\d)?\\d*)"+At+"*\\)|)(?=[^-]|$)","i")},tr=/^(?:input|select|textarea|button)$/i,Er=/^h\d$/i,Sn=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Jr=/[+~]/,xn=new RegExp("\\\\[\\da-fA-F]{1,6}"+At+"?|\\\\([^\\r\\n\\f])","g"),Zr=function($,te){var se="0x"+$.slice(1)-65536;return te||(se<0?String.fromCharCode(se+65536):String.fromCharCode(se>>10|55296,1023&se|56320))},ra=function(){vo()},Ja=bo(function($){return!0===$.disabled&&Ke($,"fieldset")},{dir:"parentNode",next:"legend"});try{D.apply(zn=kn.call(Vr.childNodes),Vr.childNodes)}catch{D={apply:function(te,se){No.apply(te,kn.call(se))},call:function(te){No.apply(te,kn.call(arguments,1))}}}function Ht($,te,se,fe){var ce,Be,Ge,dt,ze,It,pt,gt=te&&te.ownerDocument,kt=te?te.nodeType:9;if(se=se||[],"string"!=typeof $||!$||1!==kt&&9!==kt&&11!==kt)return se;if(!fe&&(vo(te),te=te||B,V)){if(11!==kt&&(ze=Sn.exec($)))if(ce=ze[1]){if(9===kt){if(!(Ge=te.getElementById(ce)))return se;if(Ge.id===ce)return D.call(se,Ge),se}else if(gt&&(Ge=gt.getElementById(ce))&&Ht.contains(te,Ge)&&Ge.id===ce)return D.call(se,Ge),se}else{if(ze[2])return D.apply(se,te.getElementsByTagName($)),se;if((ce=ze[3])&&te.getElementsByClassName)return D.apply(se,te.getElementsByClassName(ce)),se}if(!(an[$+" "]||k&&k.test($))){if(pt=$,gt=te,1===kt&&(fn.test($)||Bi.test($))){for(((gt=Jr.test($)&&eo(te.parentNode)||te)!=te||!ut.scope)&&((dt=te.getAttribute("id"))?dt=T.escapeSelector(dt):te.setAttribute("id",dt=Te)),Be=(It=Ko($)).length;Be--;)It[Be]=(dt?"#"+dt:":scope")+" "+ji(It[Be]);pt=It.join(",")}try{return D.apply(se,gt.querySelectorAll(pt)),se}catch{an($,!0)}finally{dt===Te&&te.removeAttribute("id")}}}return _o($.replace(Mo,"$1"),te,se,fe)}function ai(){var $=[];return function te(se,fe){return $.push(se+" ")>h.cacheLength&&delete te[$.shift()],te[se+" "]=fe}}function Mn($){return $[Te]=!0,$}function Fr($){var te=B.createElement("fieldset");try{return!!$(te)}catch{return!1}finally{te.parentNode&&te.parentNode.removeChild(te),te=null}}function oa($){return function(te){return Ke(te,"input")&&te.type===$}}function fr($){return function(te){return(Ke(te,"input")||Ke(te,"button"))&&te.type===$}}function Fi($){return function(te){return"form"in te?te.parentNode&&!1===te.disabled?"label"in te?"label"in te.parentNode?te.parentNode.disabled===$:te.disabled===$:te.isDisabled===$||te.isDisabled!==!$&&Ja(te)===$:te.disabled===$:"label"in te&&te.disabled===$}}function Rr($){return Mn(function(te){return te=+te,Mn(function(se,fe){for(var ce,Be=$([],se.length,te),Ge=Be.length;Ge--;)se[ce=Be[Ge]]&&(se[ce]=!(fe[ce]=se[ce]))})})}function eo($){return $&&typeof $.getElementsByTagName<"u"&&$}function vo($){var te,se=$?$.ownerDocument||$:Vr;return se==B||9!==se.nodeType||!se.documentElement||(z=(B=se).documentElement,V=!T.isXMLDoc(B),he=z.matches||z.webkitMatchesSelector||z.msMatchesSelector,z.msMatchesSelector&&Vr!=B&&(te=B.defaultView)&&te.top!==te&&te.addEventListener("unload",ra),ut.getById=Fr(function(fe){return z.appendChild(fe).id=T.expando,!B.getElementsByName||!B.getElementsByName(T.expando).length}),ut.disconnectedMatch=Fr(function(fe){return he.call(fe,"*")}),ut.scope=Fr(function(){return B.querySelectorAll(":scope")}),ut.cssHas=Fr(function(){try{return B.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),ut.getById?(h.filter.ID=function(fe){var ce=fe.replace(xn,Zr);return function(Be){return Be.getAttribute("id")===ce}},h.find.ID=function(fe,ce){if(typeof ce.getElementById<"u"&&V){var Be=ce.getElementById(fe);return Be?[Be]:[]}}):(h.filter.ID=function(fe){var ce=fe.replace(xn,Zr);return function(Be){var Ge=typeof Be.getAttributeNode<"u"&&Be.getAttributeNode("id");return Ge&&Ge.value===ce}},h.find.ID=function(fe,ce){if(typeof ce.getElementById<"u"&&V){var Be,Ge,dt,ze=ce.getElementById(fe);if(ze){if((Be=ze.getAttributeNode("id"))&&Be.value===fe)return[ze];for(dt=ce.getElementsByName(fe),Ge=0;ze=dt[Ge++];)if((Be=ze.getAttributeNode("id"))&&Be.value===fe)return[ze]}return[]}}),h.find.TAG=function(fe,ce){return typeof ce.getElementsByTagName<"u"?ce.getElementsByTagName(fe):ce.querySelectorAll(fe)},h.find.CLASS=function(fe,ce){if(typeof ce.getElementsByClassName<"u"&&V)return ce.getElementsByClassName(fe)},k=[],Fr(function(fe){var ce;z.appendChild(fe).innerHTML="<a id='"+Te+"' href='' disabled='disabled'></a><select id='"+Te+"-\r\\' disabled='disabled'><option selected=''></option></select>",fe.querySelectorAll("[selected]").length||k.push("\\["+At+"*(?:value|"+en+")"),fe.querySelectorAll("[id~="+Te+"-]").length||k.push("~="),fe.querySelectorAll("a#"+Te+"+*").length||k.push(".#.+[+~]"),fe.querySelectorAll(":checked").length||k.push(":checked"),(ce=B.createElement("input")).setAttribute("type","hidden"),fe.appendChild(ce).setAttribute("name","D"),z.appendChild(fe).disabled=!0,2!==fe.querySelectorAll(":disabled").length&&k.push(":enabled",":disabled"),(ce=B.createElement("input")).setAttribute("name",""),fe.appendChild(ce),fe.querySelectorAll("[name='']").length||k.push("\\["+At+"*name"+At+"*="+At+"*(?:''|\"\")")}),ut.cssHas||k.push(":has"),k=k.length&&new RegExp(k.join("|")),rn=function(fe,ce){if(fe===ce)return R=!0,0;var Be=!fe.compareDocumentPosition-!ce.compareDocumentPosition;return Be||(1&(Be=(fe.ownerDocument||fe)==(ce.ownerDocument||ce)?fe.compareDocumentPosition(ce):1)||!ut.sortDetached&&ce.compareDocumentPosition(fe)===Be?fe===B||fe.ownerDocument==Vr&&Ht.contains(Vr,fe)?-1:ce===B||ce.ownerDocument==Vr&&Ht.contains(Vr,ce)?1:S?ao.call(S,fe)-ao.call(S,ce):0:4&Be?-1:1)}),B}for(c in Ht.matches=function($,te){return Ht($,null,null,te)},Ht.matchesSelector=function($,te){if(vo($),V&&!an[te+" "]&&(!k||!k.test(te)))try{var se=he.call($,te);if(se||ut.disconnectedMatch||$.document&&11!==$.document.nodeType)return se}catch{an(te,!0)}return Ht(te,B,null,[$]).length>0},Ht.contains=function($,te){return($.ownerDocument||$)!=B&&vo($),T.contains($,te)},Ht.attr=function($,te){($.ownerDocument||$)!=B&&vo($);var se=h.attrHandle[te.toLowerCase()],fe=se&&Si.call(h.attrHandle,te.toLowerCase())?se($,te,!V):void 0;return void 0!==fe?fe:$.getAttribute(te)},Ht.error=function($){throw new Error("Syntax error, unrecognized expression: "+$)},T.uniqueSort=function($){var te,se=[],fe=0,ce=0;if(R=!ut.sortStable,S=!ut.sortStable&&kn.call($,0),Ki.call($,rn),R){for(;te=$[ce++];)te===$[ce]&&(fe=se.push(ce));for(;fe--;)Ae.call($,se[fe],1)}return S=null,$},T.fn.uniqueSort=function(){return this.pushStack(T.uniqueSort(kn.apply(this)))},(h=T.expr={cacheLength:50,createPseudo:Mn,match:Qn,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function($){return $[1]=$[1].replace(xn,Zr),$[3]=($[3]||$[4]||$[5]||"").replace(xn,Zr),"~="===$[2]&&($[3]=" "+$[3]+" "),$.slice(0,4)},CHILD:function($){return $[1]=$[1].toLowerCase(),"nth"===$[1].slice(0,3)?($[3]||Ht.error($[0]),$[4]=+($[4]?$[5]+($[6]||1):2*("even"===$[3]||"odd"===$[3])),$[5]=+($[7]+$[8]||"odd"===$[3])):$[3]&&Ht.error($[0]),$},PSEUDO:function($){var te,se=!$[6]&&$[2];return Qn.CHILD.test($[0])?null:($[3]?$[2]=$[4]||$[5]||"":se&&ur.test(se)&&(te=Ko(se,!0))&&(te=se.indexOf(")",se.length-te)-se.length)&&($[0]=$[0].slice(0,te),$[2]=se.slice(0,te)),$.slice(0,3))}},filter:{TAG:function($){var te=$.replace(xn,Zr).toLowerCase();return"*"===$?function(){return!0}:function(se){return Ke(se,te)}},CLASS:function($){var te=Fe[$+" "];return te||(te=new RegExp("(^|"+At+")"+$+"("+At+"|$)"))&&Fe($,function(se){return te.test("string"==typeof se.className&&se.className||typeof se.getAttribute<"u"&&se.getAttribute("class")||"")})},ATTR:function($,te,se){return function(fe){var ce=Ht.attr(fe,$);return null==ce?"!="===te:!te||(ce+="","="===te?ce===se:"!="===te?ce!==se:"^="===te?se&&0===ce.indexOf(se):"*="===te?se&&ce.indexOf(se)>-1:"$="===te?se&&ce.slice(-se.length)===se:"~="===te?(" "+ce.replace(Lt," ")+" ").indexOf(se)>-1:"|="===te&&(ce===se||ce.slice(0,se.length+1)===se+"-"))}},CHILD:function($,te,se,fe,ce){var Be="nth"!==$.slice(0,3),Ge="last"!==$.slice(-4),dt="of-type"===te;return 1===fe&&0===ce?function(ze){return!!ze.parentNode}:function(ze,It,pt){var gt,kt,ft,Mt,On,pe=Be!==Ge?"nextSibling":"previousSibling",be=ze.parentNode,ve=dt&&ze.nodeName.toLowerCase(),j=!pt&&!dt,X=!1;if(be){if(Be){for(;pe;){for(ft=ze;ft=ft[pe];)if(dt?Ke(ft,ve):1===ft.nodeType)return!1;On=pe="only"===$&&!On&&"nextSibling"}return!0}if(On=[Ge?be.firstChild:be.lastChild],Ge&&j){for(X=(Mt=(gt=(kt=be[Te]||(be[Te]={}))[$]||[])[0]===ae&&gt[1])&&gt[2],ft=Mt&&be.childNodes[Mt];ft=++Mt&&ft&&ft[pe]||(X=Mt=0)||On.pop();)if(1===ft.nodeType&&++X&&ft===ze){kt[$]=[ae,Mt,X];break}}else if(j&&(X=Mt=(gt=(kt=ze[Te]||(ze[Te]={}))[$]||[])[0]===ae&&gt[1]),!1===X)for(;(ft=++Mt&&ft&&ft[pe]||(X=Mt=0)||On.pop())&&(!(dt?Ke(ft,ve):1===ft.nodeType)||!++X||(j&&((kt=ft[Te]||(ft[Te]={}))[$]=[ae,X]),ft!==ze)););return(X-=ce)===fe||X%fe==0&&X/fe>=0}}},PSEUDO:function($,te){var se,fe=h.pseudos[$]||h.setFilters[$.toLowerCase()]||Ht.error("unsupported pseudo: "+$);return fe[Te]?fe(te):fe.length>1?(se=[$,$,"",te],h.setFilters.hasOwnProperty($.toLowerCase())?Mn(function(ce,Be){for(var Ge,dt=fe(ce,te),ze=dt.length;ze--;)ce[Ge=ao.call(ce,dt[ze])]=!(Be[Ge]=dt[ze])}):function(ce){return fe(ce,0,se)}):fe}},pseudos:{not:Mn(function($){var te=[],se=[],fe=hr($.replace(Mo,"$1"));return fe[Te]?Mn(function(ce,Be,Ge,dt){for(var ze,It=fe(ce,null,dt,[]),pt=ce.length;pt--;)(ze=It[pt])&&(ce[pt]=!(Be[pt]=ze))}):function(ce,Be,Ge){return te[0]=ce,fe(te,null,Ge,se),te[0]=null,!se.pop()}}),has:Mn(function($){return function(te){return Ht($,te).length>0}}),contains:Mn(function($){return $=$.replace(xn,Zr),function(te){return(te.textContent||T.text(te)).indexOf($)>-1}}),lang:Mn(function($){return Xr.test($||"")||Ht.error("unsupported lang: "+$),$=$.replace(xn,Zr).toLowerCase(),function(te){var se;do{if(se=V?te.lang:te.getAttribute("xml:lang")||te.getAttribute("lang"))return(se=se.toLowerCase())===$||0===se.indexOf($+"-")}while((te=te.parentNode)&&1===te.nodeType);return!1}}),target:function($){var te=Ue.location&&Ue.location.hash;return te&&te.slice(1)===$.id},root:function($){return $===z},focus:function($){return $===function Ts(){try{return B.activeElement}catch{}}()&&B.hasFocus()&&!!($.type||$.href||~$.tabIndex)},enabled:Fi(!1),disabled:Fi(!0),checked:function($){return Ke($,"input")&&!!$.checked||Ke($,"option")&&!!$.selected},selected:function($){return!0===$.selected},empty:function($){for($=$.firstChild;$;$=$.nextSibling)if($.nodeType<6)return!1;return!0},parent:function($){return!h.pseudos.empty($)},header:function($){return Er.test($.nodeName)},input:function($){return tr.test($.nodeName)},button:function($){return Ke($,"input")&&"button"===$.type||Ke($,"button")},text:function($){var te;return Ke($,"input")&&"text"===$.type&&(null==(te=$.getAttribute("type"))||"text"===te.toLowerCase())},first:Rr(function(){return[0]}),last:Rr(function($,te){return[te-1]}),eq:Rr(function($,te,se){return[se<0?se+te:se]}),even:Rr(function($,te){for(var se=0;se<te;se+=2)$.push(se);return $}),odd:Rr(function($,te){for(var se=1;se<te;se+=2)$.push(se);return $}),lt:Rr(function($,te,se){var fe;for(fe=se<0?se+te:se>te?te:se;--fe>=0;)$.push(fe);return $}),gt:Rr(function($,te,se){for(var fe=se<0?se+te:se;++fe<te;)$.push(fe);return $})}}).pseudos.nth=h.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})h.pseudos[c]=oa(c);for(c in{submit:!0,reset:!0})h.pseudos[c]=fr(c);function si(){}function Ko($,te){var se,fe,ce,Be,Ge,dt,ze,It=Ot[$+" "];if(It)return te?0:It.slice(0);for(Ge=$,dt=[],ze=h.preFilter;Ge;){for(Be in(!se||(fe=ln.exec(Ge)))&&(fe&&(Ge=Ge.slice(fe[0].length)||Ge),dt.push(ce=[])),se=!1,(fe=Bi.exec(Ge))&&(se=fe.shift(),ce.push({value:se,type:fe[0].replace(Mo," ")}),Ge=Ge.slice(se.length)),h.filter)(fe=Qn[Be].exec(Ge))&&(!ze[Be]||(fe=ze[Be](fe)))&&(se=fe.shift(),ce.push({value:se,type:Be,matches:fe}),Ge=Ge.slice(se.length));if(!se)break}return te?Ge.length:Ge?Ht.error($):Ot($,dt).slice(0)}function ji($){for(var te=0,se=$.length,fe="";te<se;te++)fe+=$[te].value;return fe}function bo($,te,se){var fe=te.dir,ce=te.next,Be=ce||fe,Ge=se&&"parentNode"===Be,dt=ke++;return te.first?function(ze,It,pt){for(;ze=ze[fe];)if(1===ze.nodeType||Ge)return $(ze,It,pt);return!1}:function(ze,It,pt){var gt,kt,ft=[ae,dt];if(pt){for(;ze=ze[fe];)if((1===ze.nodeType||Ge)&&$(ze,It,pt))return!0}else for(;ze=ze[fe];)if(1===ze.nodeType||Ge)if(kt=ze[Te]||(ze[Te]={}),ce&&Ke(ze,ce))ze=ze[fe]||ze;else{if((gt=kt[Be])&&gt[0]===ae&&gt[1]===dt)return ft[2]=gt[2];if(kt[Be]=ft,ft[2]=$(ze,It,pt))return!0}return!1}}function nr($){return $.length>1?function(te,se,fe){for(var ce=$.length;ce--;)if(!$[ce](te,se,fe))return!1;return!0}:$[0]}function Ro($,te,se,fe,ce){for(var Be,Ge=[],dt=0,ze=$.length,It=null!=te;dt<ze;dt++)(Be=$[dt])&&(!se||se(Be,fe,ce))&&(Ge.push(Be),It&&te.push(dt));return Ge}function Hi($,te,se,fe,ce,Be){return fe&&!fe[Te]&&(fe=Hi(fe)),ce&&!ce[Te]&&(ce=Hi(ce,Be)),Mn(function(Ge,dt,ze,It){var pt,gt,kt,ft,Mt=[],On=[],pe=dt.length,be=Ge||function Za($,te,se){for(var fe=0,ce=te.length;fe<ce;fe++)Ht($,te[fe],se);return se}(te||"*",ze.nodeType?[ze]:ze,[]),ve=!$||!Ge&&te?be:Ro(be,Mt,$,ze,It);if(se?se(ve,ft=ce||(Ge?$:pe||fe)?[]:dt,ze,It):ft=ve,fe)for(pt=Ro(ft,On),fe(pt,[],ze,It),gt=pt.length;gt--;)(kt=pt[gt])&&(ft[On[gt]]=!(ve[On[gt]]=kt));if(Ge){if(ce||$){if(ce){for(pt=[],gt=ft.length;gt--;)(kt=ft[gt])&&pt.push(ve[gt]=kt);ce(null,ft=[],pt,It)}for(gt=ft.length;gt--;)(kt=ft[gt])&&(pt=ce?ao.call(Ge,kt):Mt[gt])>-1&&(Ge[pt]=!(dt[pt]=kt))}}else ft=Ro(ft===dt?ft.splice(pe,ft.length):ft),ce?ce(null,dt,ft,It):D.apply(dt,ft)})}function ia($){for(var te,se,fe,ce=$.length,Be=h.relative[$[0].type],Ge=Be||h.relative[" "],dt=Be?1:0,ze=bo(function(gt){return gt===te},Ge,!0),It=bo(function(gt){return ao.call(te,gt)>-1},Ge,!0),pt=[function(gt,kt,ft){var Mt=!Be&&(ft||kt!=y)||((te=kt).nodeType?ze(gt,kt,ft):It(gt,kt,ft));return te=null,Mt}];dt<ce;dt++)if(se=h.relative[$[dt].type])pt=[bo(nr(pt),se)];else{if((se=h.filter[$[dt].type].apply(null,$[dt].matches))[Te]){for(fe=++dt;fe<ce&&!h.relative[$[fe].type];fe++);return Hi(dt>1&&nr(pt),dt>1&&ji($.slice(0,dt-1).concat({value:" "===$[dt-2].type?"*":""})).replace(Mo,"$1"),se,dt<fe&&ia($.slice(dt,fe)),fe<ce&&ia($=$.slice(fe)),fe<ce&&ji($))}pt.push(se)}return nr(pt)}function hr($,te){var se,fe=[],ce=[],Be=Rt[$+" "];if(!Be){for(te||(te=Ko($)),se=te.length;se--;)(Be=ia(te[se]))[Te]?fe.push(Be):ce.push(Be);Be=Rt($,function Vn($,te){var se=te.length>0,fe=$.length>0,ce=function(Be,Ge,dt,ze,It){var pt,gt,kt,ft=0,Mt="0",On=Be&&[],pe=[],be=y,ve=Be||fe&&h.find.TAG("*",It),j=ae+=null==be?1:Math.random()||.1,X=ve.length;for(It&&(y=Ge==B||Ge||It);Mt!==X&&null!=(pt=ve[Mt]);Mt++){if(fe&&pt){for(gt=0,!Ge&&pt.ownerDocument!=B&&(vo(pt),dt=!V);kt=$[gt++];)if(kt(pt,Ge||B,dt)){D.call(ze,pt);break}It&&(ae=j)}se&&((pt=!kt&&pt)&&ft--,Be&&On.push(pt))}if(ft+=Mt,se&&Mt!==ft){for(gt=0;kt=te[gt++];)kt(On,pe,Ge,dt);if(Be){if(ft>0)for(;Mt--;)On[Mt]||pe[Mt]||(pe[Mt]=Ur.call(ze));pe=Ro(pe)}D.apply(ze,pe),It&&!Be&&pe.length>0&&ft+te.length>1&&T.uniqueSort(ze)}return It&&(ae=j,y=be),On};return se?Mn(ce):ce}(ce,fe)),Be.selector=$}return Be}function _o($,te,se,fe){var ce,Be,Ge,dt,ze,It="function"==typeof $&&$,pt=!fe&&Ko($=It.selector||$);if(se=se||[],1===pt.length){if((Be=pt[0]=pt[0].slice(0)).length>2&&"ID"===(Ge=Be[0]).type&&9===te.nodeType&&V&&h.relative[Be[1].type]){if(!(te=(h.find.ID(Ge.matches[0].replace(xn,Zr),te)||[])[0]))return se;It&&(te=te.parentNode),$=$.slice(Be.shift().value.length)}for(ce=Qn.needsContext.test($)?0:Be.length;ce--&&!h.relative[dt=(Ge=Be[ce]).type];)if((ze=h.find[dt])&&(fe=ze(Ge.matches[0].replace(xn,Zr),Jr.test(Be[0].type)&&eo(te.parentNode)||te))){if(Be.splice(ce,1),!($=fe.length&&ji(Be)))return D.apply(se,fe),se;break}}return(It||hr($,pt))(fe,te,!V,se,!te||Jr.test($)&&eo(te.parentNode)||te),se}si.prototype=h.filters=h.pseudos,h.setFilters=new si,ut.sortStable=Te.split("").sort(rn).join("")===Te,vo(),ut.sortDetached=Fr(function($){return 1&$.compareDocumentPosition(B.createElement("fieldset"))}),T.find=Ht,T.expr[":"]=T.expr.pseudos,T.unique=T.uniqueSort,Ht.compile=hr,Ht.select=_o,Ht.setDocument=vo,Ht.tokenize=Ko,Ht.escape=T.escapeSelector,Ht.getText=T.text,Ht.isXML=T.isXMLDoc,Ht.selectors=T.expr,Ht.support=T.support,Ht.uniqueSort=T.uniqueSort}();var wr=function(c,h,y){for(var S=[],R=void 0!==y;(c=c[h])&&9!==c.nodeType;)if(1===c.nodeType){if(R&&T(c).is(y))break;S.push(c)}return S},Ut=function(c,h){for(var y=[];c;c=c.nextSibling)1===c.nodeType&&c!==h&&y.push(c);return y},tn=T.expr.match.needsContext,O=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function wi(c,h,y){return Dt(h)?T.grep(c,function(S,R){return!!h.call(S,R,S)!==y}):h.nodeType?T.grep(c,function(S){return S===h!==y}):"string"!=typeof h?T.grep(c,function(S){return ao.call(h,S)>-1!==y}):T.filter(h,c,y)}T.filter=function(c,h,y){var S=h[0];return y&&(c=":not("+c+")"),1===h.length&&1===S.nodeType?T.find.matchesSelector(S,c)?[S]:[]:T.find.matches(c,T.grep(h,function(R){return 1===R.nodeType}))},T.fn.extend({find:function(c){var h,y,S=this.length,R=this;if("string"!=typeof c)return this.pushStack(T(c).filter(function(){for(h=0;h<S;h++)if(T.contains(R[h],this))return!0}));for(y=this.pushStack([]),h=0;h<S;h++)T.find(c,R[h],y);return S>1?T.uniqueSort(y):y},filter:function(c){return this.pushStack(wi(this,c||[],!1))},not:function(c){return this.pushStack(wi(this,c||[],!0))},is:function(c){return!!wi(this,"string"==typeof c&&tn.test(c)?T(c):c||[],!1).length}});var Bo,Yi=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,ma=T.fn.init=function(c,h,y){var S,R;if(!c)return this;if(y=y||Bo,"string"==typeof c){if(!(S="<"===c[0]&&">"===c[c.length-1]&&c.length>=3?[null,c,null]:Yi.exec(c))||!S[1]&&h)return!h||h.jquery?(h||y).find(c):this.constructor(h).find(c);if(S[1]){if(T.merge(this,T.parseHTML(S[1],(h=h instanceof T?h[0]:h)&&h.nodeType?h.ownerDocument||h:ye,!0)),O.test(S[1])&&T.isPlainObject(h))for(S in h)Dt(this[S])?this[S](h[S]):this.attr(S,h[S]);return this}return(R=ye.getElementById(S[2]))&&(this[0]=R,this.length=1),this}return c.nodeType?(this[0]=c,this.length=1,this):Dt(c)?void 0!==y.ready?y.ready(c):c(T):T.makeArray(c,this)};ma.prototype=T.fn,Bo=T(ye);var Bt=/^(?:parents|prev(?:Until|All))/,Zt={children:!0,contents:!0,next:!0,prev:!0};function wt(c,h){for(;(c=c[h])&&1!==c.nodeType;);return c}T.fn.extend({has:function(c){var h=T(c,this),y=h.length;return this.filter(function(){for(var S=0;S<y;S++)if(T.contains(this,h[S]))return!0})},closest:function(c,h){var y,S=0,R=this.length,D=[],B="string"!=typeof c&&T(c);if(!tn.test(c))for(;S<R;S++)for(y=this[S];y&&y!==h;y=y.parentNode)if(y.nodeType<11&&(B?B.index(y)>-1:1===y.nodeType&&T.find.matchesSelector(y,c))){D.push(y);break}return this.pushStack(D.length>1?T.uniqueSort(D):D)},index:function(c){return c?"string"==typeof c?ao.call(T(c),this[0]):ao.call(this,c.jquery?c[0]:c):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(c,h){return this.pushStack(T.uniqueSort(T.merge(this.get(),T(c,h))))},addBack:function(c){return this.add(null==c?this.prevObject:this.prevObject.filter(c))}}),T.each({parent:function(c){var h=c.parentNode;return h&&11!==h.nodeType?h:null},parents:function(c){return wr(c,"parentNode")},parentsUntil:function(c,h,y){return wr(c,"parentNode",y)},next:function(c){return wt(c,"nextSibling")},prev:function(c){return wt(c,"previousSibling")},nextAll:function(c){return wr(c,"nextSibling")},prevAll:function(c){return wr(c,"previousSibling")},nextUntil:function(c,h,y){return wr(c,"nextSibling",y)},prevUntil:function(c,h,y){return wr(c,"previousSibling",y)},siblings:function(c){return Ut((c.parentNode||{}).firstChild,c)},children:function(c){return Ut(c.firstChild)},contents:function(c){return null!=c.contentDocument&&p(c.contentDocument)?c.contentDocument:(Ke(c,"template")&&(c=c.content||c),T.merge([],c.childNodes))}},function(c,h){T.fn[c]=function(y,S){var R=T.map(this,h,y);return"Until"!==c.slice(-5)&&(S=y),S&&"string"==typeof S&&(R=T.filter(S,R)),this.length>1&&(Zt[c]||T.uniqueSort(R),Bt.test(c)&&R.reverse()),this.pushStack(R)}});var de=/[^\x20\t\r\n\f]+/g;function qn(c){return c}function tt(c){throw c}function Fo(c,h,y,S){var R;try{c&&Dt(R=c.promise)?R.call(c).done(h).fail(y):c&&Dt(R=c.then)?R.call(c,h,y):h.apply(void 0,[c].slice(S))}catch(D){y.apply(void 0,[D])}}T.Callbacks=function(c){c="string"==typeof c?function _s(c){var h={};return T.each(c.match(de)||[],function(y,S){h[S]=!0}),h}(c):T.extend({},c);var h,y,S,R,D=[],B=[],z=-1,V=function(){for(R=R||c.once,S=h=!0;B.length;z=-1)for(y=B.shift();++z<D.length;)!1===D[z].apply(y[0],y[1])&&c.stopOnFalse&&(z=D.length,y=!1);c.memory||(y=!1),h=!1,R&&(D=y?[]:"")},k={add:function(){return D&&(y&&!h&&(z=D.length-1,B.push(y)),function he(Te){T.each(Te,function(ae,ke){Dt(ke)?(!c.unique||!k.has(ke))&&D.push(ke):ke&&ke.length&&"string"!==qt(ke)&&he(ke)})}(arguments),y&&!h&&V()),this},remove:function(){return T.each(arguments,function(he,Te){for(var ae;(ae=T.inArray(Te,D,ae))>-1;)D.splice(ae,1),ae<=z&&z--}),this},has:function(he){return he?T.inArray(he,D)>-1:D.length>0},empty:function(){return D&&(D=[]),this},disable:function(){return R=B=[],D=y="",this},disabled:function(){return!D},lock:function(){return R=B=[],!y&&!h&&(D=y=""),this},locked:function(){return!!R},fireWith:function(he,Te){return R||(Te=[he,(Te=Te||[]).slice?Te.slice():Te],B.push(Te),h||V()),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!S}};return k},T.extend({Deferred:function(c){var h=[["notify","progress",T.Callbacks("memory"),T.Callbacks("memory"),2],["resolve","done",T.Callbacks("once memory"),T.Callbacks("once memory"),0,"resolved"],["reject","fail",T.Callbacks("once memory"),T.Callbacks("once memory"),1,"rejected"]],y="pending",S={state:function(){return y},always:function(){return R.done(arguments).fail(arguments),this},catch:function(D){return S.then(null,D)},pipe:function(){var D=arguments;return T.Deferred(function(B){T.each(h,function(z,V){var k=Dt(D[V[4]])&&D[V[4]];R[V[1]](function(){var he=k&&k.apply(this,arguments);he&&Dt(he.promise)?he.promise().progress(B.notify).done(B.resolve).fail(B.reject):B[V[0]+"With"](this,k?[he]:arguments)})}),D=null}).promise()},then:function(D,B,z){var V=0;function k(he,Te,ae,ke){return function(){var Fe=this,Ot=arguments,Rt=function(){var rn,en;if(!(he<V)){if((rn=ae.apply(Fe,Ot))===Te.promise())throw new TypeError("Thenable self-resolution");Dt(en=rn&&("object"==typeof rn||"function"==typeof rn)&&rn.then)?ke?en.call(rn,k(V,Te,qn,ke),k(V,Te,tt,ke)):(V++,en.call(rn,k(V,Te,qn,ke),k(V,Te,tt,ke),k(V,Te,qn,Te.notifyWith))):(ae!==qn&&(Fe=void 0,Ot=[rn]),(ke||Te.resolveWith)(Fe,Ot))}},an=ke?Rt:function(){try{Rt()}catch(rn){T.Deferred.exceptionHook&&T.Deferred.exceptionHook(rn,an.error),he+1>=V&&(ae!==tt&&(Fe=void 0,Ot=[rn]),Te.rejectWith(Fe,Ot))}};he?an():(T.Deferred.getErrorHook?an.error=T.Deferred.getErrorHook():T.Deferred.getStackHook&&(an.error=T.Deferred.getStackHook()),Ue.setTimeout(an))}}return T.Deferred(function(he){h[0][3].add(k(0,he,Dt(z)?z:qn,he.notifyWith)),h[1][3].add(k(0,he,Dt(D)?D:qn)),h[2][3].add(k(0,he,Dt(B)?B:tt))}).promise()},promise:function(D){return null!=D?T.extend(D,S):S}},R={};return T.each(h,function(D,B){var z=B[2],V=B[5];S[B[1]]=z.add,V&&z.add(function(){y=V},h[3-D][2].disable,h[3-D][3].disable,h[0][2].lock,h[0][3].lock),z.add(B[3].fire),R[B[0]]=function(){return R[B[0]+"With"](this===R?void 0:this,arguments),this},R[B[0]+"With"]=z.fireWith}),S.promise(R),c&&c.call(R,R),R},when:function(c){var h=arguments.length,y=h,S=Array(y),R=kn.call(arguments),D=T.Deferred(),B=function(z){return function(V){S[z]=this,R[z]=arguments.length>1?kn.call(arguments):V,--h||D.resolveWith(S,R)}};if(h<=1&&(Fo(c,D.done(B(y)).resolve,D.reject,!h),"pending"===D.state()||Dt(R[y]&&R[y].then)))return D.then();for(;y--;)Fo(R[y],B(y),D.reject);return D.promise()}});var yn=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;T.Deferred.exceptionHook=function(c,h){Ue.console&&Ue.console.warn&&c&&yn.test(c.name)&&Ue.console.warn("jQuery.Deferred exception: "+c.message,c.stack,h)},T.readyException=function(c){Ue.setTimeout(function(){throw c})};var Ir=T.Deferred();function Gt(){ye.removeEventListener("DOMContentLoaded",Gt),Ue.removeEventListener("load",Gt),T.ready()}T.fn.ready=function(c){return Ir.then(c).catch(function(h){T.readyException(h)}),this},T.extend({isReady:!1,readyWait:1,ready:function(c){(!0===c?--T.readyWait:T.isReady)||(T.isReady=!0,!(!0!==c&&--T.readyWait>0)&&Ir.resolveWith(ye,[T]))}}),T.ready.then=Ir.then,"complete"===ye.readyState||"loading"!==ye.readyState&&!ye.documentElement.doScroll?Ue.setTimeout(T.ready):(ye.addEventListener("DOMContentLoaded",Gt),Ue.addEventListener("load",Gt));var vn=function(c,h,y,S,R,D,B){var z=0,V=c.length,k=null==y;if("object"===qt(y))for(z in R=!0,y)vn(c,h,z,y[z],!0,D,B);else if(void 0!==S&&(R=!0,Dt(S)||(B=!0),k&&(B?(h.call(c,S),h=null):(k=h,h=function(he,Te,ae){return k.call(T(he),ae)})),h))for(;z<V;z++)h(c[z],y,B?S:S.call(c[z],z,h(c[z],y)));return R?c:k?h.call(c):V?h(c[0],y):D},wn=/^-ms-/,vr=/-([a-z])/g;function jo(c,h){return h.toUpperCase()}function br(c){return c.replace(wn,"ms-").replace(vr,jo)}var Ho=function(c){return 1===c.nodeType||9===c.nodeType||!+c.nodeType};function Jo(){this.expando=T.expando+Jo.uid++}Jo.uid=1,Jo.prototype={cache:function(c){var h=c[this.expando];return h||(h={},Ho(c)&&(c.nodeType?c[this.expando]=h:Object.defineProperty(c,this.expando,{value:h,configurable:!0}))),h},set:function(c,h,y){var S,R=this.cache(c);if("string"==typeof h)R[br(h)]=y;else for(S in h)R[br(S)]=h[S];return R},get:function(c,h){return void 0===h?this.cache(c):c[this.expando]&&c[this.expando][br(h)]},access:function(c,h,y){return void 0===h||h&&"string"==typeof h&&void 0===y?this.get(c,h):(this.set(c,h,y),void 0!==y?y:h)},remove:function(c,h){var y,S=c[this.expando];if(void 0!==S){if(void 0!==h)for((y=(h=Array.isArray(h)?h.map(br):(h=br(h))in S?[h]:h.match(de)||[]).length);y--;)delete S[h[y]];(void 0===h||T.isEmptyObject(S))&&(c.nodeType?c[this.expando]=void 0:delete c[this.expando])}},hasData:function(c){var h=c[this.expando];return void 0!==h&&!T.isEmptyObject(h)}};var st=new Jo,Wn=new Jo,En=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Zo=/[A-Z]/g;function ei(c,h,y){var S;if(void 0===y&&1===c.nodeType)if(S="data-"+h.replace(Zo,"-$&").toLowerCase(),"string"==typeof(y=c.getAttribute(S))){try{y=function _r(c){return"true"===c||"false"!==c&&("null"===c?null:c===+c+""?+c:En.test(c)?JSON.parse(c):c)}(y)}catch{}Wn.set(c,h,y)}else y=void 0;return y}T.extend({hasData:function(c){return Wn.hasData(c)||st.hasData(c)},data:function(c,h,y){return Wn.access(c,h,y)},removeData:function(c,h){Wn.remove(c,h)},_data:function(c,h,y){return st.access(c,h,y)},_removeData:function(c,h){st.remove(c,h)}}),T.fn.extend({data:function(c,h){var y,S,R,D=this[0],B=D&&D.attributes;if(void 0===c){if(this.length&&(R=Wn.get(D),1===D.nodeType&&!st.get(D,"hasDataAttrs"))){for(y=B.length;y--;)B[y]&&0===(S=B[y].name).indexOf("data-")&&(S=br(S.slice(5)),ei(D,S,R[S]));st.set(D,"hasDataAttrs",!0)}return R}return"object"==typeof c?this.each(function(){Wn.set(this,c)}):vn(this,function(z){var V;if(D&&void 0===z)return void 0!==(V=Wn.get(D,c))||void 0!==(V=ei(D,c))?V:void 0;this.each(function(){Wn.set(this,c,z)})},null,h,arguments.length>1,null,!0)},removeData:function(c){return this.each(function(){Wn.remove(this,c)})}}),T.extend({queue:function(c,h,y){var S;if(c)return S=st.get(c,h=(h||"fx")+"queue"),y&&(!S||Array.isArray(y)?S=st.access(c,h,T.makeArray(y)):S.push(y)),S||[]},dequeue:function(c,h){var y=T.queue(c,h=h||"fx"),S=y.length,R=y.shift(),D=T._queueHooks(c,h);"inprogress"===R&&(R=y.shift(),S--),R&&("fx"===h&&y.unshift("inprogress"),delete D.stop,R.call(c,function(){T.dequeue(c,h)},D)),!S&&D&&D.empty.fire()},_queueHooks:function(c,h){var y=h+"queueHooks";return st.get(c,y)||st.access(c,y,{empty:T.Callbacks("once memory").add(function(){st.remove(c,[h+"queue",y])})})}}),T.fn.extend({queue:function(c,h){var y=2;return"string"!=typeof c&&(h=c,c="fx",y--),arguments.length<y?T.queue(this[0],c):void 0===h?this:this.each(function(){var S=T.queue(this,c,h);T._queueHooks(this,c),"fx"===c&&"inprogress"!==S[0]&&T.dequeue(this,c)})},dequeue:function(c){return this.each(function(){T.dequeue(this,c)})},clearQueue:function(c){return this.queue(c||"fx",[])},promise:function(c,h){var y,S=1,R=T.Deferred(),D=this,B=this.length,z=function(){--S||R.resolveWith(D,[D])};for("string"!=typeof c&&(h=c,c=void 0),c=c||"fx";B--;)(y=st.get(D[B],c+"queueHooks"))&&y.empty&&(S++,y.empty.add(z));return z(),R.promise(h)}});var Zn=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,lo=new RegExp("^(?:([+-])=|)("+Zn+")([a-z%]*)$","i"),xt=["Top","Right","Bottom","Left"],sr=ye.documentElement,Ao=function(c){return T.contains(c.ownerDocument,c)},$a={composed:!0};sr.getRootNode&&(Ao=function(c){return T.contains(c.ownerDocument,c)||c.getRootNode($a)===c.ownerDocument});var Qi=function(c,h){return"none"===(c=h||c).style.display||""===c.style.display&&Ao(c)&&"none"===T.css(c,"display")};function Ni(c,h,y,S){var R,D,B=20,z=S?function(){return S.cur()}:function(){return T.css(c,h,"")},V=z(),k=y&&y[3]||(T.cssNumber[h]?"":"px"),he=c.nodeType&&(T.cssNumber[h]||"px"!==k&&+V)&&lo.exec(T.css(c,h));if(he&&he[3]!==k){for(k=k||he[3],he=+(V/=2)||1;B--;)T.style(c,h,he+k),(1-D)*(1-(D=z()/V||.5))<=0&&(B=0),he/=D;T.style(c,h,(he*=2)+k),y=y||[]}return y&&(he=+he||+V||0,R=y[1]?he+(y[1]+1)*y[2]:+y[2],S&&(S.unit=k,S.start=he,S.end=R)),R}var Ai={};function Ua(c){var h,y=c.ownerDocument,S=c.nodeName,R=Ai[S];return R||(h=y.body.appendChild(y.createElement(S)),R=T.css(h,"display"),h.parentNode.removeChild(h),"none"===R&&(R="block"),Ai[S]=R,R)}function Pt(c,h){for(var y,S,R=[],D=0,B=c.length;D<B;D++)(S=c[D]).style&&(y=S.style.display,h?("none"===y&&(R[D]=st.get(S,"display")||null,R[D]||(S.style.display="")),""===S.style.display&&Qi(S)&&(R[D]=Ua(S))):"none"!==y&&(R[D]="none",st.set(S,"display",y)));for(D=0;D<B;D++)null!=R[D]&&(c[D].style.display=R[D]);return c}T.fn.extend({show:function(){return Pt(this,!0)},hide:function(){return Pt(this)},toggle:function(c){return"boolean"==typeof c?c?this.show():this.hide():this.each(function(){Qi(this)?T(this).show():T(this).hide()})}});var h,y,nt=/^(?:checkbox|radio)$/i,$o=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Va=/^$|^module$|\/(?:java|ecma)script/i;h=ye.createDocumentFragment().appendChild(ye.createElement("div")),(y=ye.createElement("input")).setAttribute("type","radio"),y.setAttribute("checked","checked"),y.setAttribute("name","t"),h.appendChild(y),ut.checkClone=h.cloneNode(!0).cloneNode(!0).lastChild.checked,h.innerHTML="<textarea>x</textarea>",ut.noCloneChecked=!!h.cloneNode(!0).lastChild.defaultValue,h.innerHTML="<option></option>",ut.option=!!h.lastChild;var Nr={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Kn(c,h){var y;return y=typeof c.getElementsByTagName<"u"?c.getElementsByTagName(h||"*"):typeof c.querySelectorAll<"u"?c.querySelectorAll(h||"*"):[],void 0===h||h&&Ke(c,h)?T.merge([c],y):y}function xi(c,h){for(var y=0,S=c.length;y<S;y++)st.set(c[y],"globalEval",!h||st.get(h[y],"globalEval"))}Nr.tbody=Nr.tfoot=Nr.colgroup=Nr.caption=Nr.thead,Nr.th=Nr.td,ut.option||(Nr.optgroup=Nr.option=[1,"<select multiple='multiple'>","</select>"]);var ga=/<|&#?\w+;/;function Oi(c,h,y,S,R){for(var D,B,z,V,k,he,Te=h.createDocumentFragment(),ae=[],ke=0,Fe=c.length;ke<Fe;ke++)if((D=c[ke])||0===D)if("object"===qt(D))T.merge(ae,D.nodeType?[D]:D);else if(ga.test(D)){for(B=B||Te.appendChild(h.createElement("div")),z=($o.exec(D)||["",""])[1].toLowerCase(),B.innerHTML=(V=Nr[z]||Nr._default)[1]+T.htmlPrefilter(D)+V[2],he=V[0];he--;)B=B.lastChild;T.merge(ae,B.childNodes),(B=Te.firstChild).textContent=""}else ae.push(h.createTextNode(D));for(Te.textContent="",ke=0;D=ae[ke++];)if(S&&T.inArray(D,S)>-1)R&&R.push(D);else if(k=Ao(D),B=Kn(Te.appendChild(D),"script"),k&&xi(B),y)for(he=0;D=B[he++];)Va.test(D.type||"")&&y.push(D);return Te}var Gi=/^([^.]*)(?:\.(.+)|)/;function ti(){return!0}function Nn(){return!1}function Ar(c,h,y,S,R,D){var B,z;if("object"==typeof h){for(z in"string"!=typeof y&&(S=S||y,y=void 0),h)Ar(c,z,y,S,h[z],D);return c}if(null==S&&null==R?(R=y,S=y=void 0):null==R&&("string"==typeof y?(R=S,S=void 0):(R=S,S=y,y=void 0)),!1===R)R=Nn;else if(!R)return c;return 1===D&&(B=R,R=function(V){return T().off(V),B.apply(this,arguments)},R.guid=B.guid||(B.guid=T.guid++)),c.each(function(){T.event.add(this,h,R,S,y)})}function ni(c,h,y){y?(st.set(c,h,!1),T.event.add(c,h,{namespace:!1,handler:function(S){var R,D=st.get(this,h);if(1&S.isTrigger&&this[h]){if(D)(T.event.special[h]||{}).delegateType&&S.stopPropagation();else if(D=kn.call(arguments),st.set(this,h,D),this[h](),R=st.get(this,h),st.set(this,h,!1),D!==R)return S.stopImmediatePropagation(),S.preventDefault(),R}else D&&(st.set(this,h,T.event.trigger(D[0],D.slice(1),this)),S.stopPropagation(),S.isImmediatePropagationStopped=ti)}})):void 0===st.get(c,h)&&T.event.add(c,h,ti)}T.event={global:{},add:function(c,h,y,S,R){var D,B,z,V,k,he,Te,ae,ke,Fe,Ot,Rt=st.get(c);if(Ho(c))for(y.handler&&(y=(D=y).handler,R=D.selector),R&&T.find.matchesSelector(sr,R),y.guid||(y.guid=T.guid++),(V=Rt.events)||(V=Rt.events=Object.create(null)),(B=Rt.handle)||(B=Rt.handle=function(an){return typeof T<"u"&&T.event.triggered!==an.type?T.event.dispatch.apply(c,arguments):void 0}),k=(h=(h||"").match(de)||[""]).length;k--;)ke=Ot=(z=Gi.exec(h[k])||[])[1],Fe=(z[2]||"").split(".").sort(),ke&&(Te=T.event.special[ke]||{},Te=T.event.special[ke=(R?Te.delegateType:Te.bindType)||ke]||{},he=T.extend({type:ke,origType:Ot,data:S,handler:y,guid:y.guid,selector:R,needsContext:R&&T.expr.match.needsContext.test(R),namespace:Fe.join(".")},D),(ae=V[ke])||((ae=V[ke]=[]).delegateCount=0,(!Te.setup||!1===Te.setup.call(c,S,Fe,B))&&c.addEventListener&&c.addEventListener(ke,B)),Te.add&&(Te.add.call(c,he),he.handler.guid||(he.handler.guid=y.guid)),R?ae.splice(ae.delegateCount++,0,he):ae.push(he),T.event.global[ke]=!0)},remove:function(c,h,y,S,R){var D,B,z,V,k,he,Te,ae,ke,Fe,Ot,Rt=st.hasData(c)&&st.get(c);if(Rt&&(V=Rt.events)){for(k=(h=(h||"").match(de)||[""]).length;k--;)if(ke=Ot=(z=Gi.exec(h[k])||[])[1],Fe=(z[2]||"").split(".").sort(),ke){for(Te=T.event.special[ke]||{},ae=V[ke=(S?Te.delegateType:Te.bindType)||ke]||[],z=z[2]&&new RegExp("(^|\\.)"+Fe.join("\\.(?:.*\\.|)")+"(\\.|$)"),B=D=ae.length;D--;)he=ae[D],(R||Ot===he.origType)&&(!y||y.guid===he.guid)&&(!z||z.test(he.namespace))&&(!S||S===he.selector||"**"===S&&he.selector)&&(ae.splice(D,1),he.selector&&ae.delegateCount--,Te.remove&&Te.remove.call(c,he));B&&!ae.length&&((!Te.teardown||!1===Te.teardown.call(c,Fe,Rt.handle))&&T.removeEvent(c,ke,Rt.handle),delete V[ke])}else for(ke in V)T.event.remove(c,ke+h[k],y,S,!0);T.isEmptyObject(V)&&st.remove(c,"handle events")}},dispatch:function(c){var h,y,S,R,D,B,z=new Array(arguments.length),V=T.event.fix(c),k=(st.get(this,"events")||Object.create(null))[V.type]||[],he=T.event.special[V.type]||{};for(z[0]=V,h=1;h<arguments.length;h++)z[h]=arguments[h];if(V.delegateTarget=this,!he.preDispatch||!1!==he.preDispatch.call(this,V)){for(B=T.event.handlers.call(this,V,k),h=0;(R=B[h++])&&!V.isPropagationStopped();)for(V.currentTarget=R.elem,y=0;(D=R.handlers[y++])&&!V.isImmediatePropagationStopped();)(!V.rnamespace||!1===D.namespace||V.rnamespace.test(D.namespace))&&(V.handleObj=D,V.data=D.data,void 0!==(S=((T.event.special[D.origType]||{}).handle||D.handler).apply(R.elem,z))&&!1===(V.result=S)&&(V.preventDefault(),V.stopPropagation()));return he.postDispatch&&he.postDispatch.call(this,V),V.result}},handlers:function(c,h){var y,S,R,D,B,z=[],V=h.delegateCount,k=c.target;if(V&&k.nodeType&&!("click"===c.type&&c.button>=1))for(;k!==this;k=k.parentNode||this)if(1===k.nodeType&&("click"!==c.type||!0!==k.disabled)){for(D=[],B={},y=0;y<V;y++)void 0===B[R=(S=h[y]).selector+" "]&&(B[R]=S.needsContext?T(R,this).index(k)>-1:T.find(R,this,null,[k]).length),B[R]&&D.push(S);D.length&&z.push({elem:k,handlers:D})}return k=this,V<h.length&&z.push({elem:k,handlers:h.slice(V)}),z},addProp:function(c,h){Object.defineProperty(T.Event.prototype,c,{enumerable:!0,configurable:!0,get:Dt(h)?function(){if(this.originalEvent)return h(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[c]},set:function(y){Object.defineProperty(this,c,{enumerable:!0,configurable:!0,writable:!0,value:y})}})},fix:function(c){return c[T.expando]?c:new T.Event(c)},special:{load:{noBubble:!0},click:{setup:function(c){var h=this||c;return nt.test(h.type)&&h.click&&Ke(h,"input")&&ni(h,"click",!0),!1},trigger:function(c){var h=this||c;return nt.test(h.type)&&h.click&&Ke(h,"input")&&ni(h,"click"),!0},_default:function(c){var h=c.target;return nt.test(h.type)&&h.click&&Ke(h,"input")&&st.get(h,"click")||Ke(h,"a")}},beforeunload:{postDispatch:function(c){void 0!==c.result&&c.originalEvent&&(c.originalEvent.returnValue=c.result)}}}},T.removeEvent=function(c,h,y){c.removeEventListener&&c.removeEventListener(h,y)},T.Event=function(c,h){if(!(this instanceof T.Event))return new T.Event(c,h);c&&c.type?(this.originalEvent=c,this.type=c.type,this.isDefaultPrevented=c.defaultPrevented||void 0===c.defaultPrevented&&!1===c.returnValue?ti:Nn,this.target=c.target&&3===c.target.nodeType?c.target.parentNode:c.target,this.currentTarget=c.currentTarget,this.relatedTarget=c.relatedTarget):this.type=c,h&&T.extend(this,h),this.timeStamp=c&&c.timeStamp||Date.now(),this[T.expando]=!0},T.Event.prototype={constructor:T.Event,isDefaultPrevented:Nn,isPropagationStopped:Nn,isImmediatePropagationStopped:Nn,isSimulated:!1,preventDefault:function(){var c=this.originalEvent;this.isDefaultPrevented=ti,c&&!this.isSimulated&&c.preventDefault()},stopPropagation:function(){var c=this.originalEvent;this.isPropagationStopped=ti,c&&!this.isSimulated&&c.stopPropagation()},stopImmediatePropagation:function(){var c=this.originalEvent;this.isImmediatePropagationStopped=ti,c&&!this.isSimulated&&c.stopImmediatePropagation(),this.stopPropagation()}},T.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},T.event.addProp),T.each({focus:"focusin",blur:"focusout"},function(c,h){function y(S){if(ye.documentMode){var R=st.get(this,"handle"),D=T.event.fix(S);D.type="focusin"===S.type?"focus":"blur",D.isSimulated=!0,R(S),D.target===D.currentTarget&&R(D)}else T.event.simulate(h,S.target,T.event.fix(S))}T.event.special[c]={setup:function(){var S;if(ni(this,c,!0),!ye.documentMode)return!1;(S=st.get(this,h))||this.addEventListener(h,y),st.set(this,h,(S||0)+1)},trigger:function(){return ni(this,c),!0},teardown:function(){var S;if(!ye.documentMode)return!1;(S=st.get(this,h)-1)?st.set(this,h,S):(this.removeEventListener(h,y),st.remove(this,h))},_default:function(S){return st.get(S.target,c)},delegateType:h},T.event.special[h]={setup:function(){var S=this.ownerDocument||this.document||this,R=ye.documentMode?this:S,D=st.get(R,h);D||(ye.documentMode?this.addEventListener(h,y):S.addEventListener(c,y,!0)),st.set(R,h,(D||0)+1)},teardown:function(){var S=this.ownerDocument||this.document||this,R=ye.documentMode?this:S,D=st.get(R,h)-1;D?st.set(R,h,D):(ye.documentMode?this.removeEventListener(h,y):S.removeEventListener(c,y,!0),st.remove(R,h))}}}),T.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(c,h){T.event.special[c]={delegateType:h,bindType:h,handle:function(y){var S,D=y.relatedTarget,B=y.handleObj;return(!D||D!==this&&!T.contains(this,D))&&(y.type=B.origType,S=B.handler.apply(this,arguments),y.type=h),S}}}),T.fn.extend({on:function(c,h,y,S){return Ar(this,c,h,y,S)},one:function(c,h,y,S){return Ar(this,c,h,y,S,1)},off:function(c,h,y){var S,R;if(c&&c.preventDefault&&c.handleObj)return S=c.handleObj,T(c.delegateTarget).off(S.namespace?S.origType+"."+S.namespace:S.origType,S.selector,S.handler),this;if("object"==typeof c){for(R in c)this.off(R,h,c[R]);return this}return(!1===h||"function"==typeof h)&&(y=h,h=void 0),!1===y&&(y=Nn),this.each(function(){T.event.remove(this,c,y,h)})}});var va=/<script|<style|<link/i,Xi=/checked\s*(?:[^=]|=\s*.checked.)/i,ys=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function za(c,h){return Ke(c,"table")&&Ke(11!==h.nodeType?h:h.firstChild,"tr")&&T(c).children("tbody")[0]||c}function ba(c){return c.type=(null!==c.getAttribute("type"))+"/"+c.type,c}function Cn(c){return"true/"===(c.type||"").slice(0,5)?c.type=c.type.slice(5):c.removeAttribute("type"),c}function un(c,h){var y,S,R,B,z,V;if(1===h.nodeType){if(st.hasData(c)&&(V=st.get(c).events))for(R in st.remove(h,"handle events"),V)for(y=0,S=V[R].length;y<S;y++)T.event.add(h,R,V[R][y]);Wn.hasData(c)&&(B=Wn.access(c),z=T.extend({},B),Wn.set(h,z))}}function zr(c,h){var y=h.nodeName.toLowerCase();"input"===y&&nt.test(c.type)?h.checked=c.checked:("input"===y||"textarea"===y)&&(h.defaultValue=c.defaultValue)}function Hn(c,h,y,S){h=Jn(h);var R,D,B,z,V,k,he=0,Te=c.length,ae=Te-1,ke=h[0],Fe=Dt(ke);if(Fe||Te>1&&"string"==typeof ke&&!ut.checkClone&&Xi.test(ke))return c.each(function(Ot){var Rt=c.eq(Ot);Fe&&(h[0]=ke.call(this,Ot,Rt.html())),Hn(Rt,h,y,S)});if(Te&&(D=(R=Oi(h,c[0].ownerDocument,!1,c,S)).firstChild,1===R.childNodes.length&&(R=D),D||S)){for(z=(B=T.map(Kn(R,"script"),ba)).length;he<Te;he++)V=R,he!==ae&&(V=T.clone(V,!0,!0),z&&T.merge(B,Kn(V,"script"))),y.call(c[he],V,he);if(z)for(k=B[B.length-1].ownerDocument,T.map(B,Cn),he=0;he<z;he++)Va.test((V=B[he]).type||"")&&!st.access(V,"globalEval")&&T.contains(k,V)&&(V.src&&"module"!==(V.type||"").toLowerCase()?T._evalUrl&&!V.noModule&&T._evalUrl(V.src,{nonce:V.nonce||V.getAttribute("nonce")},k):sn(V.textContent.replace(ys,""),V,k))}return c}function qr(c,h,y){for(var S,R=h?T.filter(h,c):c,D=0;null!=(S=R[D]);D++)!y&&1===S.nodeType&&T.cleanData(Kn(S)),S.parentNode&&(y&&Ao(S)&&xi(Kn(S,"script")),S.parentNode.removeChild(S));return c}T.extend({htmlPrefilter:function(c){return c},clone:function(c,h,y){var S,R,D,B,z=c.cloneNode(!0),V=Ao(c);if(!(ut.noCloneChecked||1!==c.nodeType&&11!==c.nodeType||T.isXMLDoc(c)))for(B=Kn(z),S=0,R=(D=Kn(c)).length;S<R;S++)zr(D[S],B[S]);if(h)if(y)for(D=D||Kn(c),B=B||Kn(z),S=0,R=D.length;S<R;S++)un(D[S],B[S]);else un(c,z);return(B=Kn(z,"script")).length>0&&xi(B,!V&&Kn(c,"script")),z},cleanData:function(c){for(var h,y,S,R=T.event.special,D=0;void 0!==(y=c[D]);D++)if(Ho(y)){if(h=y[st.expando]){if(h.events)for(S in h.events)R[S]?T.event.remove(y,S):T.removeEvent(y,S,h.handle);y[st.expando]=void 0}y[Wn.expando]&&(y[Wn.expando]=void 0)}}}),T.fn.extend({detach:function(c){return qr(this,c,!0)},remove:function(c){return qr(this,c)},text:function(c){return vn(this,function(h){return void 0===h?T.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=h)})},null,c,arguments.length)},append:function(){return Hn(this,arguments,function(c){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||za(this,c).appendChild(c)})},prepend:function(){return Hn(this,arguments,function(c){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var h=za(this,c);h.insertBefore(c,h.firstChild)}})},before:function(){return Hn(this,arguments,function(c){this.parentNode&&this.parentNode.insertBefore(c,this)})},after:function(){return Hn(this,arguments,function(c){this.parentNode&&this.parentNode.insertBefore(c,this.nextSibling)})},empty:function(){for(var c,h=0;null!=(c=this[h]);h++)1===c.nodeType&&(T.cleanData(Kn(c,!1)),c.textContent="");return this},clone:function(c,h){return c=c??!1,h=h??c,this.map(function(){return T.clone(this,c,h)})},html:function(c){return vn(this,function(h){var y=this[0]||{},S=0,R=this.length;if(void 0===h&&1===y.nodeType)return y.innerHTML;if("string"==typeof h&&!va.test(h)&&!Nr[($o.exec(h)||["",""])[1].toLowerCase()]){h=T.htmlPrefilter(h);try{for(;S<R;S++)1===(y=this[S]||{}).nodeType&&(T.cleanData(Kn(y,!1)),y.innerHTML=h);y=0}catch{}}y&&this.empty().append(h)},null,c,arguments.length)},replaceWith:function(){var c=[];return Hn(this,arguments,function(h){var y=this.parentNode;T.inArray(this,c)<0&&(T.cleanData(Kn(this)),y&&y.replaceChild(h,this))},c)}}),T.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(c,h){T.fn[c]=function(y){for(var S,R=[],D=T(y),B=D.length-1,z=0;z<=B;z++)S=z===B?this:this.clone(!0),T(D[z])[h](S),Jt.apply(R,S.get());return this.pushStack(R)}});var co=new RegExp("^("+Zn+")(?!px)[a-z%]+$","i"),Uo=/^--/,lr=function(c){var h=c.ownerDocument.defaultView;return(!h||!h.opener)&&(h=Ue),h.getComputedStyle(c)},ri=function(c,h,y){var S,R,D={};for(R in h)D[R]=c.style[R],c.style[R]=h[R];for(R in S=y.call(c),h)c.style[R]=D[R];return S},uo=new RegExp(xt.join("|"),"i");function Pr(c,h,y){var S,R,D,B,z=Uo.test(h),V=c.style;return(y=y||lr(c))&&(B=y.getPropertyValue(h)||y[h],z&&B&&(B=B.replace(Mo,"$1")||void 0),""===B&&!Ao(c)&&(B=T.style(c,h)),!ut.pixelBoxStyles()&&co.test(B)&&uo.test(h)&&(S=V.width,R=V.minWidth,D=V.maxWidth,V.minWidth=V.maxWidth=V.width=B,B=y.width,V.width=S,V.minWidth=R,V.maxWidth=D)),void 0!==B?B+"":B}function $n(c,h){return{get:function(){if(!c())return(this.get=h).apply(this,arguments);delete this.get}}}!function(){function c(){if(k){V.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",k.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",sr.appendChild(V).appendChild(k);var he=Ue.getComputedStyle(k);y="1%"!==he.top,z=12===h(he.marginLeft),k.style.right="60%",D=36===h(he.right),S=36===h(he.width),k.style.position="absolute",R=12===h(k.offsetWidth/3),sr.removeChild(V),k=null}}function h(he){return Math.round(parseFloat(he))}var y,S,R,D,B,z,V=ye.createElement("div"),k=ye.createElement("div");k.style&&(k.style.backgroundClip="content-box",k.cloneNode(!0).style.backgroundClip="",ut.clearCloneStyle="content-box"===k.style.backgroundClip,T.extend(ut,{boxSizingReliable:function(){return c(),S},pixelBoxStyles:function(){return c(),D},pixelPosition:function(){return c(),y},reliableMarginLeft:function(){return c(),z},scrollboxSize:function(){return c(),R},reliableTrDimensions:function(){var he,Te,ae,ke;return null==B&&(he=ye.createElement("table"),Te=ye.createElement("tr"),ae=ye.createElement("div"),he.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Te.style.cssText="box-sizing:content-box;border:1px solid",Te.style.height="1px",ae.style.height="9px",ae.style.display="block",sr.appendChild(he).appendChild(Te).appendChild(ae),ke=Ue.getComputedStyle(Te),B=parseInt(ke.height,10)+parseInt(ke.borderTopWidth,10)+parseInt(ke.borderBottomWidth,10)===Te.offsetHeight,sr.removeChild(he)),B}}))}();var Vo=["Webkit","Moz","ms"],_a=ye.createElement("div").style,qa={};function ya(c){return T.cssProps[c]||qa[c]||(c in _a?c:qa[c]=function Wa(c){for(var h=c[0].toUpperCase()+c.slice(1),y=Vo.length;y--;)if((c=Vo[y]+h)in _a)return c}(c)||c)}var Es=/^(none|table(?!-c[ea]).+)/,Cs={position:"absolute",visibility:"hidden",display:"block"},Ji={letterSpacing:"0",fontWeight:"400"};function fo(c,h,y){var S=lo.exec(h);return S?Math.max(0,S[2]-(y||0))+(S[3]||"px"):h}function Ri(c,h,y,S,R,D){var B="width"===h?1:0,z=0,V=0,k=0;if(y===(S?"border":"content"))return 0;for(;B<4;B+=2)"margin"===y&&(k+=T.css(c,y+xt[B],!0,R)),S?("content"===y&&(V-=T.css(c,"padding"+xt[B],!0,R)),"margin"!==y&&(V-=T.css(c,"border"+xt[B]+"Width",!0,R))):(V+=T.css(c,"padding"+xt[B],!0,R),"padding"!==y?V+=T.css(c,"border"+xt[B]+"Width",!0,R):z+=T.css(c,"border"+xt[B]+"Width",!0,R));return!S&&D>=0&&(V+=Math.max(0,Math.ceil(c["offset"+h[0].toUpperCase()+h.slice(1)]-D-V-z-.5))||0),V+k}function Zi(c,h,y){var S=lr(c),D=(!ut.boxSizingReliable()||y)&&"border-box"===T.css(c,"boxSizing",!1,S),B=D,z=Pr(c,h,S),V="offset"+h[0].toUpperCase()+h.slice(1);if(co.test(z)){if(!y)return z;z="auto"}return(!ut.boxSizingReliable()&&D||!ut.reliableTrDimensions()&&Ke(c,"tr")||"auto"===z||!parseFloat(z)&&"inline"===T.css(c,"display",!1,S))&&c.getClientRects().length&&(D="border-box"===T.css(c,"boxSizing",!1,S),(B=V in c)&&(z=c[V])),(z=parseFloat(z)||0)+Ri(c,h,y||(D?"border":"content"),B,S,z)+"px"}function An(c,h,y,S,R){return new An.prototype.init(c,h,y,S,R)}T.extend({cssHooks:{opacity:{get:function(c,h){if(h){var y=Pr(c,"opacity");return""===y?"1":y}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(c,h,y,S){if(c&&3!==c.nodeType&&8!==c.nodeType&&c.style){var R,D,B,z=br(h),V=Uo.test(h),k=c.style;if(V||(h=ya(z)),B=T.cssHooks[h]||T.cssHooks[z],void 0===y)return B&&"get"in B&&void 0!==(R=B.get(c,!1,S))?R:k[h];if("string"==(D=typeof y)&&(R=lo.exec(y))&&R[1]&&(y=Ni(c,h,R),D="number"),null==y||y!=y)return;"number"===D&&!V&&(y+=R&&R[3]||(T.cssNumber[z]?"":"px")),!ut.clearCloneStyle&&""===y&&0===h.indexOf("background")&&(k[h]="inherit"),(!B||!("set"in B)||void 0!==(y=B.set(c,y,S)))&&(V?k.setProperty(h,y):k[h]=y)}},css:function(c,h,y,S){var R,D,B,z=br(h);return Uo.test(h)||(h=ya(z)),(B=T.cssHooks[h]||T.cssHooks[z])&&"get"in B&&(R=B.get(c,!0,y)),void 0===R&&(R=Pr(c,h,S)),"normal"===R&&h in Ji&&(R=Ji[h]),""===y||y?(D=parseFloat(R),!0===y||isFinite(D)?D||0:R):R}}),T.each(["height","width"],function(c,h){T.cssHooks[h]={get:function(y,S,R){if(S)return!Es.test(T.css(y,"display"))||y.getClientRects().length&&y.getBoundingClientRect().width?Zi(y,h,R):ri(y,Cs,function(){return Zi(y,h,R)})},set:function(y,S,R){var D,B=lr(y),z=!ut.scrollboxSize()&&"absolute"===B.position,k=(z||R)&&"border-box"===T.css(y,"boxSizing",!1,B),he=R?Ri(y,h,R,k,B):0;return k&&z&&(he-=Math.ceil(y["offset"+h[0].toUpperCase()+h.slice(1)]-parseFloat(B[h])-Ri(y,h,"border",!1,B)-.5)),he&&(D=lo.exec(S))&&"px"!==(D[3]||"px")&&(y.style[h]=S,S=T.css(y,h)),fo(0,S,he)}}}),T.cssHooks.marginLeft=$n(ut.reliableMarginLeft,function(c,h){if(h)return(parseFloat(Pr(c,"marginLeft"))||c.getBoundingClientRect().left-ri(c,{marginLeft:0},function(){return c.getBoundingClientRect().left}))+"px"}),T.each({margin:"",padding:"",border:"Width"},function(c,h){T.cssHooks[c+h]={expand:function(y){for(var S=0,R={},D="string"==typeof y?y.split(" "):[y];S<4;S++)R[c+xt[S]+h]=D[S]||D[S-2]||D[0];return R}},"margin"!==c&&(T.cssHooks[c+h].set=fo)}),T.fn.extend({css:function(c,h){return vn(this,function(y,S,R){var D,B,z={},V=0;if(Array.isArray(S)){for(D=lr(y),B=S.length;V<B;V++)z[S[V]]=T.css(y,S[V],!1,D);return z}return void 0!==R?T.style(y,S,R):T.css(y,S)},c,h,arguments.length>1)}}),T.Tween=An,An.prototype={constructor:An,init:function(c,h,y,S,R,D){this.elem=c,this.prop=y,this.easing=R||T.easing._default,this.options=h,this.start=this.now=this.cur(),this.end=S,this.unit=D||(T.cssNumber[y]?"":"px")},cur:function(){var c=An.propHooks[this.prop];return c&&c.get?c.get(this):An.propHooks._default.get(this)},run:function(c){var h,y=An.propHooks[this.prop];return this.pos=h=this.options.duration?T.easing[this.easing](c,this.options.duration*c,0,1,this.options.duration):c,this.now=(this.end-this.start)*h+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),y&&y.set?y.set(this):An.propHooks._default.set(this),this}},An.prototype.init.prototype=An.prototype,An.propHooks={_default:{get:function(c){var h;return 1!==c.elem.nodeType||null!=c.elem[c.prop]&&null==c.elem.style[c.prop]?c.elem[c.prop]:(h=T.css(c.elem,c.prop,""))&&"auto"!==h?h:0},set:function(c){T.fx.step[c.prop]?T.fx.step[c.prop](c):1!==c.elem.nodeType||!T.cssHooks[c.prop]&&null==c.elem.style[ya(c.prop)]?c.elem[c.prop]=c.now:T.style(c.elem,c.prop,c.now+c.unit)}}},An.propHooks.scrollTop=An.propHooks.scrollLeft={set:function(c){c.elem.nodeType&&c.elem.parentNode&&(c.elem[c.prop]=c.now)}},T.easing={linear:function(c){return c},swing:function(c){return.5-Math.cos(c*Math.PI)/2},_default:"swing"},T.fx=An.prototype.init,T.fx.step={};var xr,ho,zo=/^(?:toggle|show|hide)$/,po=/queueHooks$/;function mo(){ho&&(!1===ye.hidden&&Ue.requestAnimationFrame?Ue.requestAnimationFrame(mo):Ue.setTimeout(mo,T.fx.interval),T.fx.tick())}function ki(){return Ue.setTimeout(function(){xr=void 0}),xr=Date.now()}function oi(c,h){var y,S=0,R={height:c};for(h=h?1:0;S<4;S+=2-h)R["margin"+(y=xt[S])]=R["padding"+y]=c;return h&&(R.opacity=R.width=c),R}function Ka(c,h,y){for(var S,R=(er.tweeners[h]||[]).concat(er.tweeners["*"]),D=0,B=R.length;D<B;D++)if(S=R[D].call(y,h,c))return S}function er(c,h,y){var S,R,D=0,B=er.prefilters.length,z=T.Deferred().always(function(){delete V.elem}),V=function(){if(R)return!1;for(var Te=xr||ki(),ae=Math.max(0,k.startTime+k.duration-Te),Fe=1-(ae/k.duration||0),Ot=0,Rt=k.tweens.length;Ot<Rt;Ot++)k.tweens[Ot].run(Fe);return z.notifyWith(c,[k,Fe,ae]),Fe<1&&Rt?ae:(Rt||z.notifyWith(c,[k,1,0]),z.resolveWith(c,[k]),!1)},k=z.promise({elem:c,props:T.extend({},h),opts:T.extend(!0,{specialEasing:{},easing:T.easing._default},y),originalProperties:h,originalOptions:y,startTime:xr||ki(),duration:y.duration,tweens:[],createTween:function(Te,ae){var ke=T.Tween(c,k.opts,Te,ae,k.opts.specialEasing[Te]||k.opts.easing);return k.tweens.push(ke),ke},stop:function(Te){var ae=0,ke=Te?k.tweens.length:0;if(R)return this;for(R=!0;ae<ke;ae++)k.tweens[ae].run(1);return Te?(z.notifyWith(c,[k,1,0]),z.resolveWith(c,[k,Te])):z.rejectWith(c,[k,Te]),this}}),he=k.props;for(function ea(c,h){var y,S,R,D,B;for(y in c)if(R=h[S=br(y)],D=c[y],Array.isArray(D)&&(R=D[1],D=c[y]=D[0]),y!==S&&(c[S]=D,delete c[y]),(B=T.cssHooks[S])&&"expand"in B)for(y in D=B.expand(D),delete c[S],D)y in c||(c[y]=D[y],h[y]=R);else h[S]=R}(he,k.opts.specialEasing);D<B;D++)if(S=er.prefilters[D].call(k,c,he,k.opts))return Dt(S.stop)&&(T._queueHooks(k.elem,k.opts.queue).stop=S.stop.bind(S)),S;return T.map(he,Ka,k),Dt(k.opts.start)&&k.opts.start.call(c,k),k.progress(k.opts.progress).done(k.opts.done,k.opts.complete).fail(k.opts.fail).always(k.opts.always),T.fx.timer(T.extend(V,{elem:c,anim:k,queue:k.opts.queue})),k}T.Animation=T.extend(er,{tweeners:{"*":[function(c,h){var y=this.createTween(c,h);return Ni(y.elem,c,lo.exec(h),y),y}]},tweener:function(c,h){Dt(c)?(h=c,c=["*"]):c=c.match(de);for(var y,S=0,R=c.length;S<R;S++)(er.tweeners[y=c[S]]=er.tweeners[y]||[]).unshift(h)},prefilters:[function xo(c,h,y){var S,R,D,B,z,V,k,he,Te="width"in h||"height"in h,ae=this,ke={},Fe=c.style,Ot=c.nodeType&&Qi(c),Rt=st.get(c,"fxshow");for(S in y.queue||(null==(B=T._queueHooks(c,"fx")).unqueued&&(B.unqueued=0,z=B.empty.fire,B.empty.fire=function(){B.unqueued||z()}),B.unqueued++,ae.always(function(){ae.always(function(){B.unqueued--,T.queue(c,"fx").length||B.empty.fire()})})),h)if(zo.test(R=h[S])){if(delete h[S],D=D||"toggle"===R,R===(Ot?"hide":"show")){if("show"!==R||!Rt||void 0===Rt[S])continue;Ot=!0}ke[S]=Rt&&Rt[S]||T.style(c,S)}if((V=!T.isEmptyObject(h))||!T.isEmptyObject(ke))for(S in Te&&1===c.nodeType&&(y.overflow=[Fe.overflow,Fe.overflowX,Fe.overflowY],null==(k=Rt&&Rt.display)&&(k=st.get(c,"display")),"none"===(he=T.css(c,"display"))&&(k?he=k:(Pt([c],!0),k=c.style.display||k,he=T.css(c,"display"),Pt([c]))),("inline"===he||"inline-block"===he&&null!=k)&&"none"===T.css(c,"float")&&(V||(ae.done(function(){Fe.display=k}),null==k&&(k="none"===(he=Fe.display)?"":he)),Fe.display="inline-block")),y.overflow&&(Fe.overflow="hidden",ae.always(function(){Fe.overflow=y.overflow[0],Fe.overflowX=y.overflow[1],Fe.overflowY=y.overflow[2]})),V=!1,ke)V||(Rt?"hidden"in Rt&&(Ot=Rt.hidden):Rt=st.access(c,"fxshow",{display:k}),D&&(Rt.hidden=!Ot),Ot&&Pt([c],!0),ae.done(function(){for(S in Ot||Pt([c]),st.remove(c,"fxshow"),ke)T.style(c,S,ke[S])})),V=Ka(Ot?Rt[S]:0,S,ae),S in Rt||(Rt[S]=V.start,Ot&&(V.end=V.start,V.start=0))}],prefilter:function(c,h){h?er.prefilters.unshift(c):er.prefilters.push(c)}}),T.speed=function(c,h,y){var S=c&&"object"==typeof c?T.extend({},c):{complete:y||!y&&h||Dt(c)&&c,duration:c,easing:y&&h||h&&!Dt(h)&&h};return T.fx.off?S.duration=0:"number"!=typeof S.duration&&(S.duration=S.duration in T.fx.speeds?T.fx.speeds[S.duration]:T.fx.speeds._default),(null==S.queue||!0===S.queue)&&(S.queue="fx"),S.old=S.complete,S.complete=function(){Dt(S.old)&&S.old.call(this),S.queue&&T.dequeue(this,S.queue)},S},T.fn.extend({fadeTo:function(c,h,y,S){return this.filter(Qi).css("opacity",0).show().end().animate({opacity:h},c,y,S)},animate:function(c,h,y,S){var R=T.isEmptyObject(c),D=T.speed(h,y,S),B=function(){var z=er(this,T.extend({},c),D);(R||st.get(this,"finish"))&&z.stop(!0)};return B.finish=B,R||!1===D.queue?this.each(B):this.queue(D.queue,B)},stop:function(c,h,y){var S=function(R){var D=R.stop;delete R.stop,D(y)};return"string"!=typeof c&&(y=h,h=c,c=void 0),h&&this.queue(c||"fx",[]),this.each(function(){var R=!0,D=null!=c&&c+"queueHooks",B=T.timers,z=st.get(this);if(D)z[D]&&z[D].stop&&S(z[D]);else for(D in z)z[D]&&z[D].stop&&po.test(D)&&S(z[D]);for(D=B.length;D--;)B[D].elem===this&&(null==c||B[D].queue===c)&&(B[D].anim.stop(y),R=!1,B.splice(D,1));(R||!y)&&T.dequeue(this,c)})},finish:function(c){return!1!==c&&(c=c||"fx"),this.each(function(){var h,y=st.get(this),S=y[c+"queue"],R=y[c+"queueHooks"],D=T.timers,B=S?S.length:0;for(y.finish=!0,T.queue(this,c,[]),R&&R.stop&&R.stop.call(this,!0),h=D.length;h--;)D[h].elem===this&&D[h].queue===c&&(D[h].anim.stop(!0),D.splice(h,1));for(h=0;h<B;h++)S[h]&&S[h].finish&&S[h].finish.call(this);delete y.finish})}}),T.each(["toggle","show","hide"],function(c,h){var y=T.fn[h];T.fn[h]=function(S,R,D){return null==S||"boolean"==typeof S?y.apply(this,arguments):this.animate(oi(h,!0),S,R,D)}}),T.each({slideDown:oi("show"),slideUp:oi("hide"),slideToggle:oi("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(c,h){T.fn[c]=function(y,S,R){return this.animate(h,y,S,R)}}),T.timers=[],T.fx.tick=function(){var c,h=0,y=T.timers;for(xr=Date.now();h<y.length;h++)!(c=y[h])()&&y[h]===c&&y.splice(h--,1);y.length||T.fx.stop(),xr=void 0},T.fx.timer=function(c){T.timers.push(c),T.fx.start()},T.fx.interval=13,T.fx.start=function(){ho||(ho=!0,mo())},T.fx.stop=function(){ho=null},T.fx.speeds={slow:600,fast:200,_default:400},T.fn.delay=function(c,h){return c=T.fx&&T.fx.speeds[c]||c,this.queue(h=h||"fx",function(y,S){var R=Ue.setTimeout(y,c);S.stop=function(){Ue.clearTimeout(R)}})},function(){var c=ye.createElement("input"),y=ye.createElement("select").appendChild(ye.createElement("option"));c.type="checkbox",ut.checkOn=""!==c.value,ut.optSelected=y.selected,(c=ye.createElement("input")).value="t",c.type="radio",ut.radioValue="t"===c.value}();var dr,Di=T.expr.attrHandle;T.fn.extend({attr:function(c,h){return vn(this,T.attr,c,h,arguments.length>1)},removeAttr:function(c){return this.each(function(){T.removeAttr(this,c)})}}),T.extend({attr:function(c,h,y){var S,R,D=c.nodeType;if(3!==D&&8!==D&&2!==D)return typeof c.getAttribute>"u"?T.prop(c,h,y):((1!==D||!T.isXMLDoc(c))&&(R=T.attrHooks[h.toLowerCase()]||(T.expr.match.bool.test(h)?dr:void 0)),void 0!==y?null===y?void T.removeAttr(c,h):R&&"set"in R&&void 0!==(S=R.set(c,y,h))?S:(c.setAttribute(h,y+""),y):R&&"get"in R&&null!==(S=R.get(c,h))?S:(S=T.find.attr(c,h))??void 0)},attrHooks:{type:{set:function(c,h){if(!ut.radioValue&&"radio"===h&&Ke(c,"input")){var y=c.value;return c.setAttribute("type",h),y&&(c.value=y),h}}}},removeAttr:function(c,h){var y,S=0,R=h&&h.match(de);if(R&&1===c.nodeType)for(;y=R[S++];)c.removeAttribute(y)}}),dr={set:function(c,h,y){return!1===h?T.removeAttr(c,y):c.setAttribute(y,y),y}},T.each(T.expr.match.bool.source.match(/\w+/g),function(c,h){var y=Di[h]||T.find.attr;Di[h]=function(S,R,D){var B,z,V=R.toLowerCase();return D||(z=Di[V],Di[V]=B,B=null!=y(S,R,D)?V:null,Di[V]=z),B}});var qo=/^(?:input|select|textarea|button)$/i,Dn=/^(?:a|area)$/i;function bn(c){return(c.match(de)||[]).join(" ")}function Or(c){return c.getAttribute&&c.getAttribute("class")||""}function Li(c){return Array.isArray(c)?c:"string"==typeof c&&c.match(de)||[]}T.fn.extend({prop:function(c,h){return vn(this,T.prop,c,h,arguments.length>1)},removeProp:function(c){return this.each(function(){delete this[T.propFix[c]||c]})}}),T.extend({prop:function(c,h,y){var S,R,D=c.nodeType;if(3!==D&&8!==D&&2!==D)return(1!==D||!T.isXMLDoc(c))&&(R=T.propHooks[h=T.propFix[h]||h]),void 0!==y?R&&"set"in R&&void 0!==(S=R.set(c,y,h))?S:c[h]=y:R&&"get"in R&&null!==(S=R.get(c,h))?S:c[h]},propHooks:{tabIndex:{get:function(c){var h=T.find.attr(c,"tabindex");return h?parseInt(h,10):qo.test(c.nodeName)||Dn.test(c.nodeName)&&c.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),ut.optSelected||(T.propHooks.selected={get:function(c){return null},set:function(c){}}),T.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){T.propFix[this.toLowerCase()]=this}),T.fn.extend({addClass:function(c){var h,y,S,R,D,B;return Dt(c)?this.each(function(z){T(this).addClass(c.call(this,z,Or(this)))}):(h=Li(c)).length?this.each(function(){if(S=Or(this),y=1===this.nodeType&&" "+bn(S)+" "){for(D=0;D<h.length;D++)y.indexOf(" "+(R=h[D])+" ")<0&&(y+=R+" ");B=bn(y),S!==B&&this.setAttribute("class",B)}}):this},removeClass:function(c){var h,y,S,R,D,B;return Dt(c)?this.each(function(z){T(this).removeClass(c.call(this,z,Or(this)))}):arguments.length?(h=Li(c)).length?this.each(function(){if(S=Or(this),y=1===this.nodeType&&" "+bn(S)+" "){for(D=0;D<h.length;D++)for(R=h[D];y.indexOf(" "+R+" ")>-1;)y=y.replace(" "+R+" "," ");B=bn(y),S!==B&&this.setAttribute("class",B)}}):this:this.attr("class","")},toggleClass:function(c,h){var y,S,R,D,B=typeof c,z="string"===B||Array.isArray(c);return Dt(c)?this.each(function(V){T(this).toggleClass(c.call(this,V,Or(this),h),h)}):"boolean"==typeof h&&z?h?this.addClass(c):this.removeClass(c):(y=Li(c),this.each(function(){if(z)for(D=T(this),R=0;R<y.length;R++)D.hasClass(S=y[R])?D.removeClass(S):D.addClass(S);else(void 0===c||"boolean"===B)&&((S=Or(this))&&st.set(this,"__className__",S),this.setAttribute&&this.setAttribute("class",S||!1===c?"":st.get(this,"__className__")||""))}))},hasClass:function(c){var h,y,S=0;for(h=" "+c+" ";y=this[S++];)if(1===y.nodeType&&(" "+bn(Or(y))+" ").indexOf(h)>-1)return!0;return!1}});var Et=/\r/g;T.fn.extend({val:function(c){var h,y,S,R=this[0];return arguments.length?(S=Dt(c),this.each(function(D){var B;1===this.nodeType&&(null==(B=S?c.call(this,D,T(this).val()):c)?B="":"number"==typeof B?B+="":Array.isArray(B)&&(B=T.map(B,function(z){return null==z?"":z+""})),(!(h=T.valHooks[this.type]||T.valHooks[this.nodeName.toLowerCase()])||!("set"in h)||void 0===h.set(this,B,"value"))&&(this.value=B))})):R?(h=T.valHooks[R.type]||T.valHooks[R.nodeName.toLowerCase()])&&"get"in h&&void 0!==(y=h.get(R,"value"))?y:"string"==typeof(y=R.value)?y.replace(Et,""):y??"":void 0}}),T.extend({valHooks:{option:{get:function(c){return T.find.attr(c,"value")??bn(T.text(c))}},select:{get:function(c){var h,y,S,R=c.options,D=c.selectedIndex,B="select-one"===c.type,z=B?null:[],V=B?D+1:R.length;for(S=D<0?V:B?D:0;S<V;S++)if(((y=R[S]).selected||S===D)&&!y.disabled&&(!y.parentNode.disabled||!Ke(y.parentNode,"optgroup"))){if(h=T(y).val(),B)return h;z.push(h)}return z},set:function(c,h){for(var y,S,R=c.options,D=T.makeArray(h),B=R.length;B--;)((S=R[B]).selected=T.inArray(T.valHooks.option.get(S),D)>-1)&&(y=!0);return y||(c.selectedIndex=-1),D}}}}),T.each(["radio","checkbox"],function(){T.valHooks[this]={set:function(c,h){if(Array.isArray(h))return c.checked=T.inArray(T(c).val(),h)>-1}},ut.checkOn||(T.valHooks[this].get=function(c){return null===c.getAttribute("value")?"on":c.value})});var cr=Ue.location,Ya={guid:Date.now()},ta=/\?/;T.parseXML=function(c){var h,y;if(!c||"string"!=typeof c)return null;try{h=(new Ue.DOMParser).parseFromString(c,"text/xml")}catch{}return y=h&&h.getElementsByTagName("parsererror")[0],(!h||y)&&T.error("Invalid XML: "+(y?T.map(y.childNodes,function(S){return S.textContent}).join("\n"):c)),h};var Se=/^(?:focusinfocus|focusoutblur)$/,go=function(c){c.stopPropagation()};T.extend(T.event,{trigger:function(c,h,y,S){var R,D,B,z,V,k,he,Te,ae=[y||ye],ke=Si.call(c,"type")?c.type:c,Fe=Si.call(c,"namespace")?c.namespace.split("."):[];if(D=Te=B=y=y||ye,3!==y.nodeType&&8!==y.nodeType&&!Se.test(ke+T.event.triggered)&&(ke.indexOf(".")>-1&&(Fe=ke.split("."),ke=Fe.shift(),Fe.sort()),V=ke.indexOf(":")<0&&"on"+ke,(c=c[T.expando]?c:new T.Event(ke,"object"==typeof c&&c)).isTrigger=S?2:3,c.namespace=Fe.join("."),c.rnamespace=c.namespace?new RegExp("(^|\\.)"+Fe.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,c.result=void 0,c.target||(c.target=y),h=null==h?[c]:T.makeArray(h,[c]),he=T.event.special[ke]||{},S||!he.trigger||!1!==he.trigger.apply(y,h))){if(!S&&!he.noBubble&&!zt(y)){for(Se.test((z=he.delegateType||ke)+ke)||(D=D.parentNode);D;D=D.parentNode)ae.push(D),B=D;B===(y.ownerDocument||ye)&&ae.push(B.defaultView||B.parentWindow||Ue)}for(R=0;(D=ae[R++])&&!c.isPropagationStopped();)Te=D,c.type=R>1?z:he.bindType||ke,(k=(st.get(D,"events")||Object.create(null))[c.type]&&st.get(D,"handle"))&&k.apply(D,h),(k=V&&D[V])&&k.apply&&Ho(D)&&(c.result=k.apply(D,h),!1===c.result&&c.preventDefault());return c.type=ke,!S&&!c.isDefaultPrevented()&&(!he._default||!1===he._default.apply(ae.pop(),h))&&Ho(y)&&V&&Dt(y[ke])&&!zt(y)&&((B=y[V])&&(y[V]=null),T.event.triggered=ke,c.isPropagationStopped()&&Te.addEventListener(ke,go),y[ke](),c.isPropagationStopped()&&Te.removeEventListener(ke,go),T.event.triggered=void 0,B&&(y[V]=B)),c.result}},simulate:function(c,h,y){var S=T.extend(new T.Event,y,{type:c,isSimulated:!0});T.event.trigger(S,null,h)}}),T.fn.extend({trigger:function(c,h){return this.each(function(){T.event.trigger(c,h,this)})},triggerHandler:function(c,h){var y=this[0];if(y)return T.event.trigger(c,h,y,!0)}});var Ss=/\[\]$/,Ln=/\r?\n/g,Wr=/^(?:submit|button|image|reset|file)$/i,Mr=/^(?:input|select|textarea|keygen)/i;function Kr(c,h,y,S){var R;if(Array.isArray(h))T.each(h,function(D,B){y||Ss.test(c)?S(c,B):Kr(c+"["+("object"==typeof B&&null!=B?D:"")+"]",B,y,S)});else if(y||"object"!==qt(h))S(c,h);else for(R in h)Kr(c+"["+R+"]",h[R],y,S)}T.param=function(c,h){var y,S=[],R=function(D,B){var z=Dt(B)?B():B;S[S.length]=encodeURIComponent(D)+"="+encodeURIComponent(z??"")};if(null==c)return"";if(Array.isArray(c)||c.jquery&&!T.isPlainObject(c))T.each(c,function(){R(this.name,this.value)});else for(y in c)Kr(y,c[y],h,R);return S.join("&")},T.fn.extend({serialize:function(){return T.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var c=T.prop(this,"elements");return c?T.makeArray(c):this}).filter(function(){var c=this.type;return this.name&&!T(this).is(":disabled")&&Mr.test(this.nodeName)&&!Wr.test(c)&&(this.checked||!nt.test(c))}).map(function(c,h){var y=T(this).val();return null==y?null:Array.isArray(y)?T.map(y,function(S){return{name:h.name,value:S.replace(Ln,"\r\n")}}):{name:h.name,value:y.replace(Ln,"\r\n")}}).get()}});var Ea=/%20/g,Qa=/#.*$/,Nt=/([?&])_=[^&]*/,Ga=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ii=/^(?:GET|HEAD)$/,Un=/^\/\//,In={},Pi={},Wo="*/".concat("*"),Oo=ye.createElement("a");function Ca(c){return function(h,y){"string"!=typeof h&&(y=h,h="*");var S,R=0,D=h.toLowerCase().match(de)||[];if(Dt(y))for(;S=D[R++];)"+"===S[0]?(S=S.slice(1)||"*",(c[S]=c[S]||[]).unshift(y)):(c[S]=c[S]||[]).push(y)}}function on(c,h,y,S){var R={},D=c===Pi;function B(z){var V;return R[z]=!0,T.each(c[z]||[],function(k,he){var Te=he(h,y,S);return"string"!=typeof Te||D||R[Te]?D?!(V=Te):void 0:(h.dataTypes.unshift(Te),B(Te),!1)}),V}return B(h.dataTypes[0])||!R["*"]&&B("*")}function Yr(c,h){var y,S,R=T.ajaxSettings.flatOptions||{};for(y in h)void 0!==h[y]&&((R[y]?c:S||(S={}))[y]=h[y]);return S&&T.extend(!0,c,S),c}Oo.href=cr.href,T.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:cr.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(cr.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Wo,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":T.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(c,h){return h?Yr(Yr(c,T.ajaxSettings),h):Yr(T.ajaxSettings,c)},ajaxPrefilter:Ca(In),ajaxTransport:Ca(Pi),ajax:function(c,h){"object"==typeof c&&(h=c,c=void 0);var y,S,R,D,B,z,V,k,he,Te,ae=T.ajaxSetup({},h=h||{}),ke=ae.context||ae,Fe=ae.context&&(ke.nodeType||ke.jquery)?T(ke):T.event,Ot=T.Deferred(),Rt=T.Callbacks("once memory"),an=ae.statusCode||{},rn={},en={},yr="canceled",jt={readyState:0,getResponseHeader:function(Lt){var ln;if(V){if(!D)for(D={};ln=Ga.exec(R);)D[ln[1].toLowerCase()+" "]=(D[ln[1].toLowerCase()+" "]||[]).concat(ln[2]);ln=D[Lt.toLowerCase()+" "]}return null==ln?null:ln.join(", ")},getAllResponseHeaders:function(){return V?R:null},setRequestHeader:function(Lt,ln){return null==V&&(Lt=en[Lt.toLowerCase()]=en[Lt.toLowerCase()]||Lt,rn[Lt]=ln),this},overrideMimeType:function(Lt){return null==V&&(ae.mimeType=Lt),this},statusCode:function(Lt){var ln;if(Lt)if(V)jt.always(Lt[jt.status]);else for(ln in Lt)an[ln]=[an[ln],Lt[ln]];return this},abort:function(Lt){var ln=Lt||yr;return y&&y.abort(ln),Pn(0,ln),this}};if(Ot.promise(jt),ae.url=((c||ae.url||cr.href)+"").replace(Un,cr.protocol+"//"),ae.type=h.method||h.type||ae.method||ae.type,ae.dataTypes=(ae.dataType||"*").toLowerCase().match(de)||[""],null==ae.crossDomain){z=ye.createElement("a");try{z.href=ae.url,z.href=z.href,ae.crossDomain=Oo.protocol+"//"+Oo.host!=z.protocol+"//"+z.host}catch{ae.crossDomain=!0}}if(ae.data&&ae.processData&&"string"!=typeof ae.data&&(ae.data=T.param(ae.data,ae.traditional)),on(In,ae,h,jt),V)return jt;for(he in(k=T.event&&ae.global)&&0==T.active++&&T.event.trigger("ajaxStart"),ae.type=ae.type.toUpperCase(),ae.hasContent=!Ii.test(ae.type),S=ae.url.replace(Qa,""),ae.hasContent?ae.data&&ae.processData&&0===(ae.contentType||"").indexOf("application/x-www-form-urlencoded")&&(ae.data=ae.data.replace(Ea,"+")):(Te=ae.url.slice(S.length),ae.data&&(ae.processData||"string"==typeof ae.data)&&(S+=(ta.test(S)?"&":"?")+ae.data,delete ae.data),!1===ae.cache&&(S=S.replace(Nt,"$1"),Te=(ta.test(S)?"&":"?")+"_="+Ya.guid+++Te),ae.url=S+Te),ae.ifModified&&(T.lastModified[S]&&jt.setRequestHeader("If-Modified-Since",T.lastModified[S]),T.etag[S]&&jt.setRequestHeader("If-None-Match",T.etag[S])),(ae.data&&ae.hasContent&&!1!==ae.contentType||h.contentType)&&jt.setRequestHeader("Content-Type",ae.contentType),jt.setRequestHeader("Accept",ae.dataTypes[0]&&ae.accepts[ae.dataTypes[0]]?ae.accepts[ae.dataTypes[0]]+("*"!==ae.dataTypes[0]?", "+Wo+"; q=0.01":""):ae.accepts["*"]),ae.headers)jt.setRequestHeader(he,ae.headers[he]);if(ae.beforeSend&&(!1===ae.beforeSend.call(ke,jt,ae)||V))return jt.abort();if(yr="abort",Rt.add(ae.complete),jt.done(ae.success),jt.fail(ae.error),y=on(Pi,ae,h,jt)){if(jt.readyState=1,k&&Fe.trigger("ajaxSend",[jt,ae]),V)return jt;ae.async&&ae.timeout>0&&(B=Ue.setTimeout(function(){jt.abort("timeout")},ae.timeout));try{V=!1,y.send(rn,Pn)}catch(Lt){if(V)throw Lt;Pn(-1,Lt)}}else Pn(-1,"No Transport");function Pn(Lt,ln,Bi,fn){var ur,Xr,Qn,tr,Er,Sn=ln;V||(V=!0,B&&Ue.clearTimeout(B),y=void 0,R=fn||"",jt.readyState=Lt>0?4:0,ur=Lt>=200&&Lt<300||304===Lt,Bi&&(tr=function Yn(c,h,y){for(var S,R,D,B,z=c.contents,V=c.dataTypes;"*"===V[0];)V.shift(),void 0===S&&(S=c.mimeType||h.getResponseHeader("Content-Type"));if(S)for(R in z)if(z[R]&&z[R].test(S)){V.unshift(R);break}if(V[0]in y)D=V[0];else{for(R in y){if(!V[0]||c.converters[R+" "+V[0]]){D=R;break}B||(B=R)}D=D||B}if(D)return D!==V[0]&&V.unshift(D),y[D]}(ae,jt,Bi)),!ur&&T.inArray("script",ae.dataTypes)>-1&&T.inArray("json",ae.dataTypes)<0&&(ae.converters["text script"]=function(){}),tr=function Br(c,h,y,S){var R,D,B,z,V,k={},he=c.dataTypes.slice();if(he[1])for(B in c.converters)k[B.toLowerCase()]=c.converters[B];for(D=he.shift();D;)if(c.responseFields[D]&&(y[c.responseFields[D]]=h),!V&&S&&c.dataFilter&&(h=c.dataFilter(h,c.dataType)),V=D,D=he.shift())if("*"===D)D=V;else if("*"!==V&&V!==D){if(!(B=k[V+" "+D]||k["* "+D]))for(R in k)if((z=R.split(" "))[1]===D&&(B=k[V+" "+z[0]]||k["* "+z[0]])){!0===B?B=k[R]:!0!==k[R]&&(D=z[0],he.unshift(z[1]));break}if(!0!==B)if(B&&c.throws)h=B(h);else try{h=B(h)}catch(Te){return{state:"parsererror",error:B?Te:"No conversion from "+V+" to "+D}}}return{state:"success",data:h}}(ae,tr,jt,ur),ur?(ae.ifModified&&((Er=jt.getResponseHeader("Last-Modified"))&&(T.lastModified[S]=Er),(Er=jt.getResponseHeader("etag"))&&(T.etag[S]=Er)),204===Lt||"HEAD"===ae.type?Sn="nocontent":304===Lt?Sn="notmodified":(Sn=tr.state,Xr=tr.data,ur=!(Qn=tr.error))):(Qn=Sn,(Lt||!Sn)&&(Sn="error",Lt<0&&(Lt=0))),jt.status=Lt,jt.statusText=(ln||Sn)+"",ur?Ot.resolveWith(ke,[Xr,Sn,jt]):Ot.rejectWith(ke,[jt,Sn,Qn]),jt.statusCode(an),an=void 0,k&&Fe.trigger(ur?"ajaxSuccess":"ajaxError",[jt,ae,ur?Xr:Qn]),Rt.fireWith(ke,[jt,Sn]),k&&(Fe.trigger("ajaxComplete",[jt,ae]),--T.active||T.event.trigger("ajaxStop")))}return jt},getJSON:function(c,h,y){return T.get(c,h,y,"json")},getScript:function(c,h){return T.get(c,void 0,h,"script")}}),T.each(["get","post"],function(c,h){T[h]=function(y,S,R,D){return Dt(S)&&(D=D||R,R=S,S=void 0),T.ajax(T.extend({url:y,type:h,dataType:D,data:S,success:R},T.isPlainObject(y)&&y))}}),T.ajaxPrefilter(function(c){var h;for(h in c.headers)"content-type"===h.toLowerCase()&&(c.contentType=c.headers[h]||"")}),T._evalUrl=function(c,h,y){return T.ajax({url:c,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(S){T.globalEval(S,h,y)}})},T.fn.extend({wrapAll:function(c){var h;return this[0]&&(Dt(c)&&(c=c.call(this[0])),h=T(c,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&h.insertBefore(this[0]),h.map(function(){for(var y=this;y.firstElementChild;)y=y.firstElementChild;return y}).append(this)),this},wrapInner:function(c){return Dt(c)?this.each(function(h){T(this).wrapInner(c.call(this,h))}):this.each(function(){var h=T(this),y=h.contents();y.length?y.wrapAll(c):h.append(c)})},wrap:function(c){var h=Dt(c);return this.each(function(y){T(this).wrapAll(h?c.call(this,y):c)})},unwrap:function(c){return this.parent(c).not("body").each(function(){T(this).replaceWith(this.childNodes)}),this}}),T.expr.pseudos.hidden=function(c){return!T.expr.pseudos.visible(c)},T.expr.pseudos.visible=function(c){return!!(c.offsetWidth||c.offsetHeight||c.getClientRects().length)},T.ajaxSettings.xhr=function(){try{return new Ue.XMLHttpRequest}catch{}};var Mi={0:200,1223:204},nn=T.ajaxSettings.xhr();ut.cors=!!nn&&"withCredentials"in nn,ut.ajax=nn=!!nn,T.ajaxTransport(function(c){var h,y;if(ut.cors||nn&&!c.crossDomain)return{send:function(S,R){var D,B=c.xhr();if(B.open(c.type,c.url,c.async,c.username,c.password),c.xhrFields)for(D in c.xhrFields)B[D]=c.xhrFields[D];for(D in c.mimeType&&B.overrideMimeType&&B.overrideMimeType(c.mimeType),!c.crossDomain&&!S["X-Requested-With"]&&(S["X-Requested-With"]="XMLHttpRequest"),S)B.setRequestHeader(D,S[D]);h=function(z){return function(){h&&(h=y=B.onload=B.onerror=B.onabort=B.ontimeout=B.onreadystatechange=null,"abort"===z?B.abort():"error"===z?"number"!=typeof B.status?R(0,"error"):R(B.status,B.statusText):R(Mi[B.status]||B.status,B.statusText,"text"!==(B.responseType||"text")||"string"!=typeof B.responseText?{binary:B.response}:{text:B.responseText},B.getAllResponseHeaders()))}},B.onload=h(),y=B.onerror=B.ontimeout=h("error"),void 0!==B.onabort?B.onabort=y:B.onreadystatechange=function(){4===B.readyState&&Ue.setTimeout(function(){h&&y()})},h=h("abort");try{B.send(c.hasContent&&c.data||null)}catch(z){if(h)throw z}},abort:function(){h&&h()}}}),T.ajaxPrefilter(function(c){c.crossDomain&&(c.contents.script=!1)}),T.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(c){return T.globalEval(c),c}}}),T.ajaxPrefilter("script",function(c){void 0===c.cache&&(c.cache=!1),c.crossDomain&&(c.type="GET")}),T.ajaxTransport("script",function(c){var h,y;if(c.crossDomain||c.scriptAttrs)return{send:function(S,R){h=T("<script>").attr(c.scriptAttrs||{}).prop({charset:c.scriptCharset,src:c.url}).on("load error",y=function(D){h.remove(),y=null,D&&R("error"===D.type?404:200,D.type)}),ye.head.appendChild(h[0])},abort:function(){y&&y()}}});var c,Qr=[],Gr=/(=)\?(?=&|$)|\?\?/;T.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var c=Qr.pop()||T.expando+"_"+Ya.guid++;return this[c]=!0,c}}),T.ajaxPrefilter("json jsonp",function(c,h,y){var S,R,D,B=!1!==c.jsonp&&(Gr.test(c.url)?"url":"string"==typeof c.data&&0===(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&Gr.test(c.data)&&"data");if(B||"jsonp"===c.dataTypes[0])return S=c.jsonpCallback=Dt(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,B?c[B]=c[B].replace(Gr,"$1"+S):!1!==c.jsonp&&(c.url+=(ta.test(c.url)?"&":"?")+c.jsonp+"="+S),c.converters["script json"]=function(){return D||T.error(S+" was not called"),D[0]},c.dataTypes[0]="json",R=Ue[S],Ue[S]=function(){D=arguments},y.always(function(){void 0===R?T(Ue).removeProp(S):Ue[S]=R,c[S]&&(c.jsonpCallback=h.jsonpCallback,Qr.push(S)),D&&Dt(R)&&R(D[0]),D=R=void 0}),"script"}),ut.createHTMLDocument=((c=ye.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===c.childNodes.length),T.parseHTML=function(c,h,y){return"string"!=typeof c?[]:("boolean"==typeof h&&(y=h,h=!1),h||(ut.createHTMLDocument?((S=(h=ye.implementation.createHTMLDocument("")).createElement("base")).href=ye.location.href,h.head.appendChild(S)):h=ye),D=!y&&[],(R=O.exec(c))?[h.createElement(R[1])]:(R=Oi([c],h,D),D&&D.length&&T(D).remove(),T.merge([],R.childNodes)));var S,R,D},T.fn.load=function(c,h,y){var S,R,D,B=this,z=c.indexOf(" ");return z>-1&&(S=bn(c.slice(z)),c=c.slice(0,z)),Dt(h)?(y=h,h=void 0):h&&"object"==typeof h&&(R="POST"),B.length>0&&T.ajax({url:c,type:R||"GET",dataType:"html",data:h}).done(function(V){D=arguments,B.html(S?T("<div>").append(T.parseHTML(V)).find(S):V)}).always(y&&function(V,k){B.each(function(){y.apply(this,D||[V.responseText,k,V])})}),this},T.expr.pseudos.animated=function(c){return T.grep(T.timers,function(h){return c===h.elem}).length},T.offset={setOffset:function(c,h,y){var S,R,D,B,z,V,he=T.css(c,"position"),Te=T(c),ae={};"static"===he&&(c.style.position="relative"),z=Te.offset(),D=T.css(c,"top"),V=T.css(c,"left"),("absolute"===he||"fixed"===he)&&(D+V).indexOf("auto")>-1?(B=(S=Te.position()).top,R=S.left):(B=parseFloat(D)||0,R=parseFloat(V)||0),Dt(h)&&(h=h.call(c,y,T.extend({},z))),null!=h.top&&(ae.top=h.top-z.top+B),null!=h.left&&(ae.left=h.left-z.left+R),"using"in h?h.using.call(c,ae):Te.css(ae)}},T.fn.extend({offset:function(c){if(arguments.length)return void 0===c?this:this.each(function(R){T.offset.setOffset(this,c,R)});var h,y,S=this[0];return S?S.getClientRects().length?{top:(h=S.getBoundingClientRect()).top+(y=S.ownerDocument.defaultView).pageYOffset,left:h.left+y.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var c,h,y,S=this[0],R={top:0,left:0};if("fixed"===T.css(S,"position"))h=S.getBoundingClientRect();else{for(h=this.offset(),y=S.ownerDocument,c=S.offsetParent||y.documentElement;c&&(c===y.body||c===y.documentElement)&&"static"===T.css(c,"position");)c=c.parentNode;c&&c!==S&&1===c.nodeType&&((R=T(c).offset()).top+=T.css(c,"borderTopWidth",!0),R.left+=T.css(c,"borderLeftWidth",!0))}return{top:h.top-R.top-T.css(S,"marginTop",!0),left:h.left-R.left-T.css(S,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var c=this.offsetParent;c&&"static"===T.css(c,"position");)c=c.offsetParent;return c||sr})}}),T.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(c,h){var y="pageYOffset"===h;T.fn[c]=function(S){return vn(this,function(R,D,B){var z;if(zt(R)?z=R:9===R.nodeType&&(z=R.defaultView),void 0===B)return z?z[h]:R[D];z?z.scrollTo(y?z.pageXOffset:B,y?B:z.pageYOffset):R[D]=B},c,S,arguments.length)}}),T.each(["top","left"],function(c,h){T.cssHooks[h]=$n(ut.pixelPosition,function(y,S){if(S)return S=Pr(y,h),co.test(S)?T(y).position()[h]+"px":S})}),T.each({Height:"height",Width:"width"},function(c,h){T.each({padding:"inner"+c,content:h,"":"outer"+c},function(y,S){T.fn[S]=function(R,D){var B=arguments.length&&(y||"boolean"!=typeof R),z=y||(!0===R||!0===D?"margin":"border");return vn(this,function(V,k,he){var Te;return zt(V)?0===S.indexOf("outer")?V["inner"+c]:V.document.documentElement["client"+c]:9===V.nodeType?(Te=V.documentElement,Math.max(V.body["scroll"+c],Te["scroll"+c],V.body["offset"+c],Te["offset"+c],Te["client"+c])):void 0===he?T.css(V,k,z):T.style(V,k,he,z)},h,B?R:void 0,B)}})}),T.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(c,h){T.fn[h]=function(y){return this.on(h,y)}}),T.fn.extend({bind:function(c,h,y){return this.on(c,null,h,y)},unbind:function(c,h){return this.off(c,null,h)},delegate:function(c,h,y,S){return this.on(h,c,y,S)},undelegate:function(c,h,y){return 1===arguments.length?this.off(c,"**"):this.off(h,c||"**",y)},hover:function(c,h){return this.on("mouseenter",c).on("mouseleave",h||c)}}),T.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(c,h){T.fn[h]=function(y,S){return arguments.length>0?this.on(h,null,y,S):this.trigger(h)}});var ii=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;T.proxy=function(c,h){var y,S,R;if("string"==typeof h&&(y=c[h],h=c,c=y),Dt(c))return S=kn.call(arguments,2),R=function(){return c.apply(h||this,S.concat(kn.call(arguments)))},R.guid=c.guid=c.guid||T.guid++,R},T.holdReady=function(c){c?T.readyWait++:T.ready(!0)},T.isArray=Array.isArray,T.parseJSON=JSON.parse,T.nodeName=Ke,T.isFunction=Dt,T.isWindow=zt,T.camelCase=br,T.type=qt,T.now=Date.now,T.isNumeric=function(c){var h=T.type(c);return("number"===h||"string"===h)&&!isNaN(c-parseFloat(c))},T.trim=function(c){return null==c?"":(c+"").replace(ii,"$1")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return T});var Sa=Ue.jQuery,Xa=Ue.$;return T.noConflict=function(c){return Ue.$===T&&(Ue.$=Xa),c&&Ue.jQuery===T&&(Ue.jQuery=Sa),T},typeof jn>"u"&&(Ue.jQuery=Ue.$=T),T}),function(Ue,jn){"object"==typeof exports&&typeof module<"u"?jn(exports,require("jquery")):"function"==typeof define&&define.amd?define(["exports","jquery"],jn):jn((Ue=typeof globalThis<"u"?globalThis:Ue||self).bootstrap={},Ue.jQuery)}(this,function(Ue,jn){"use strict";function zn(N){return N&&"object"==typeof N&&"default"in N?N:{default:N}}var p=zn(jn);function kn(N,L){for(var I=0;I<L.length;I++){var _=L[I];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(N,_.key,_)}}function Jn(N,L,I){return L&&kn(N.prototype,L),I&&kn(N,I),Object.defineProperty(N,"prototype",{writable:!1}),N}function Jt(){return Jt=Object.assign?Object.assign.bind():function(N){for(var L=1;L<arguments.length;L++){var I=arguments[L];for(var _ in I)Object.prototype.hasOwnProperty.call(I,_)&&(N[_]=I[_])}return N},Jt.apply(this,arguments)}function Io(N,L){return(Io=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_,x){return _.__proto__=x,_})(N,L)}var Xo="transitionend";function Dt(N){var L=this,I=!1;return p.default(this).one(ye.TRANSITION_END,function(){I=!0}),setTimeout(function(){I||ye.triggerTransitionEnd(L)},N),this}var ye={TRANSITION_END:"bsTransitionEnd",getUID:function(L){do{L+=~~(1e6*Math.random())}while(document.getElementById(L));return L},getSelectorFromElement:function(L){var I=L.getAttribute("data-target");if(!I||"#"===I){var _=L.getAttribute("href");I=_&&"#"!==_?_.trim():""}try{return document.querySelector(I)?I:null}catch{return null}},getTransitionDurationFromElement:function(L){if(!L)return 0;var I=p.default(L).css("transition-duration"),_=p.default(L).css("transition-delay"),x=parseFloat(I),F=parseFloat(_);return x||F?(I=I.split(",")[0],_=_.split(",")[0],1e3*(parseFloat(I)+parseFloat(_))):0},reflow:function(L){return L.offsetHeight},triggerTransitionEnd:function(L){p.default(L).trigger(Xo)},supportsTransitionEnd:function(){return!0},isElement:function(L){return(L[0]||L).nodeType},typeCheckConfig:function(L,I,_){for(var x in _)if(Object.prototype.hasOwnProperty.call(_,x)){var F=_[x],W=I[x],Z=W&&ye.isElement(W)?"element":null===(N=W)||typeof N>"u"?""+N:{}.toString.call(N).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(F).test(Z))throw new Error(L.toUpperCase()+': Option "'+x+'" provided type "'+Z+'" but expected type "'+F+'".')}var N},findShadowRoot:function(L){if(!document.documentElement.attachShadow)return null;if("function"==typeof L.getRootNode){var I=L.getRootNode();return I instanceof ShadowRoot?I:null}return L instanceof ShadowRoot?L:L.parentNode?ye.findShadowRoot(L.parentNode):null},jQueryDetection:function(){if(typeof p.default>"u")throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var L=p.default.fn.jquery.split(" ")[0].split(".");if(L[0]<2&&L[1]<9||1===L[0]&&9===L[1]&&L[2]<1||L[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}};ye.jQueryDetection(),function zt(){p.default.fn.emulateTransitionEnd=Dt,p.default.event.special[ye.TRANSITION_END]=function ut(){return{bindType:Xo,delegateType:Xo,handle:function(L){if(p.default(L.target).is(this))return L.handleObj.handler.apply(this,arguments)}}}()}();var Tr="alert",qt="bs.alert",Ne="."+qt,T=p.default.fn[Tr],Ki="close"+Ne,Ae="closed"+Ne,At="click"+Ne+".data-api",Re=function(){function N(I){this._element=I}var L=N.prototype;return L.close=function(_){var x=this._element;_&&(x=this._getRootElement(_)),this._triggerCloseEvent(x).isDefaultPrevented()||this._removeElement(x)},L.dispose=function(){p.default.removeData(this._element,qt),this._element=null},L._getRootElement=function(_){var x=ye.getSelectorFromElement(_),F=!1;return x&&(F=document.querySelector(x)),F||(F=p.default(_).closest(".alert")[0]),F},L._triggerCloseEvent=function(_){var x=p.default.Event(Ki);return p.default(_).trigger(x),x},L._removeElement=function(_){var x=this;if(p.default(_).removeClass("show"),p.default(_).hasClass("fade")){var F=ye.getTransitionDurationFromElement(_);p.default(_).one(ye.TRANSITION_END,function(W){return x._destroyElement(_,W)}).emulateTransitionEnd(F)}else this._destroyElement(_)},L._destroyElement=function(_){p.default(_).detach().trigger(Ae).remove()},N._jQueryInterface=function(_){return this.each(function(){var x=p.default(this),F=x.data(qt);F||(F=new N(this),x.data(qt,F)),"close"===_&&F[_](this)})},N._handleDismiss=function(_){return function(x){x&&x.preventDefault(),_.close(this)}},Jn(N,null,[{key:"VERSION",get:function(){return"4.6.2"}}]),N}();p.default(document).on(At,'[data-dismiss="alert"]',Re._handleDismiss(new Re)),p.default.fn[Tr]=Re._jQueryInterface,p.default.fn[Tr].Constructor=Re,p.default.fn[Tr].noConflict=function(){return p.default.fn[Tr]=T,Re._jQueryInterface};var so="button",No="bs.button",wr="."+No,Ut=".data-api",tn=p.default.fn[so],O="active",Yi="click"+wr+Ut,ma="focus"+wr+Ut+" blur"+wr+Ut,Bt="load"+wr+Ut,Zt='[data-toggle^="button"]',qn='input:not([type="hidden"])',yn=function(){function N(I){this._element=I,this.shouldAvoidTriggerChange=!1}var L=N.prototype;return L.toggle=function(){var _=!0,x=!0,F=p.default(this._element).closest('[data-toggle="buttons"]')[0];if(F){var W=this._element.querySelector(qn);if(W){if("radio"===W.type)if(W.checked&&this._element.classList.contains(O))_=!1;else{var Z=F.querySelector(".active");Z&&p.default(Z).removeClass(O)}_&&(("checkbox"===W.type||"radio"===W.type)&&(W.checked=!this._element.classList.contains(O)),this.shouldAvoidTriggerChange||p.default(W).trigger("change")),W.focus(),x=!1}}this._element.hasAttribute("disabled")||this._element.classList.contains("disabled")||(x&&this._element.setAttribute("aria-pressed",!this._element.classList.contains(O)),_&&p.default(this._element).toggleClass(O))},L.dispose=function(){p.default.removeData(this._element,No),this._element=null},N._jQueryInterface=function(_,x){return this.each(function(){var F=p.default(this),W=F.data(No);W||(W=new N(this),F.data(No,W)),W.shouldAvoidTriggerChange=x,"toggle"===_&&W[_]()})},Jn(N,null,[{key:"VERSION",get:function(){return"4.6.2"}}]),N}();p.default(document).on(Yi,Zt,function(N){var L=N.target,I=L;if(p.default(L).hasClass("btn")||(L=p.default(L).closest(".btn")[0]),!L||L.hasAttribute("disabled")||L.classList.contains("disabled"))N.preventDefault();else{var _=L.querySelector(qn);if(_&&(_.hasAttribute("disabled")||_.classList.contains("disabled")))return void N.preventDefault();("INPUT"===I.tagName||"LABEL"!==L.tagName)&&yn._jQueryInterface.call(p.default(L),"toggle","INPUT"===I.tagName)}}).on(ma,Zt,function(N){var L=p.default(N.target).closest(".btn")[0];p.default(L).toggleClass("focus",/^focus(in)?$/.test(N.type))}),p.default(window).on(Bt,function(){for(var N=[].slice.call(document.querySelectorAll('[data-toggle="buttons"] .btn')),L=0,I=N.length;L<I;L++){var _=N[L],x=_.querySelector(qn);x.checked||x.hasAttribute("checked")?_.classList.add(O):_.classList.remove(O)}for(var F=0,W=(N=[].slice.call(document.querySelectorAll('[data-toggle="button"]'))).length;F<W;F++){var Z=N[F];"true"===Z.getAttribute("aria-pressed")?Z.classList.add(O):Z.classList.remove(O)}}),p.default.fn[so]=yn._jQueryInterface,p.default.fn[so].Constructor=yn,p.default.fn[so].noConflict=function(){return p.default.fn[so]=tn,yn._jQueryInterface};var Ir="carousel",vn="bs.carousel",wn="."+vn,vr=".data-api",jo=p.default.fn[Ir],En="active",sr="next",Ao="prev",Ni="slide"+wn,Ai="slid"+wn,Ua="keydown"+wn,Pt="mouseenter"+wn,nt="mouseleave"+wn,$o="touchstart"+wn,Va="touchmove"+wn,Nr="touchend"+wn,Kn="pointerdown"+wn,xi="pointerup"+wn,ga="dragstart"+wn,Oi="load"+wn+vr,Gi="click"+wn+vr,Nn=".active.carousel-item",ba={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},Cn={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},un={TOUCH:"touch",PEN:"pen"},zr=function(){function N(I,_){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(_),this._element=I,this._indicatorsElement=this._element.querySelector(".carousel-indicators"),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=!(!window.PointerEvent&&!window.MSPointerEvent),this._addEventListeners()}var L=N.prototype;return L.next=function(){this._isSliding||this._slide(sr)},L.nextWhenVisible=function(){var _=p.default(this._element);!document.hidden&&_.is(":visible")&&"hidden"!==_.css("visibility")&&this.next()},L.prev=function(){this._isSliding||this._slide(Ao)},L.pause=function(_){_||(this._isPaused=!0),this._element.querySelector(".carousel-item-next, .carousel-item-prev")&&(ye.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},L.cycle=function(_){_||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},L.to=function(_){var x=this;this._activeElement=this._element.querySelector(Nn);var F=this._getItemIndex(this._activeElement);if(!(_>this._items.length-1||_<0)){if(this._isSliding)return void p.default(this._element).one(Ai,function(){return x.to(_)});if(F===_)return this.pause(),void this.cycle();this._slide(_>F?sr:Ao,this._items[_])}},L.dispose=function(){p.default(this._element).off(wn),p.default.removeData(this._element,vn),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},L._getConfig=function(_){return _=Jt({},ba,_),ye.typeCheckConfig(Ir,_,Cn),_},L._handleSwipe=function(){var _=Math.abs(this.touchDeltaX);if(!(_<=40)){var x=_/this.touchDeltaX;this.touchDeltaX=0,x>0&&this.prev(),x<0&&this.next()}},L._addEventListeners=function(){var _=this;this._config.keyboard&&p.default(this._element).on(Ua,function(x){return _._keydown(x)}),"hover"===this._config.pause&&p.default(this._element).on(Pt,function(x){return _.pause(x)}).on(nt,function(x){return _.cycle(x)}),this._config.touch&&this._addTouchEventListeners()},L._addTouchEventListeners=function(){var _=this;if(this._touchSupported){var x=function(ie){_._pointerEvent&&un[ie.originalEvent.pointerType.toUpperCase()]?_.touchStartX=ie.originalEvent.clientX:_._pointerEvent||(_.touchStartX=ie.originalEvent.touches[0].clientX)},W=function(ie){_._pointerEvent&&un[ie.originalEvent.pointerType.toUpperCase()]&&(_.touchDeltaX=ie.originalEvent.clientX-_.touchStartX),_._handleSwipe(),"hover"===_._config.pause&&(_.pause(),_.touchTimeout&&clearTimeout(_.touchTimeout),_.touchTimeout=setTimeout(function(xe){return _.cycle(xe)},500+_._config.interval))};p.default(this._element.querySelectorAll(".carousel-item img")).on(ga,function(Z){return Z.preventDefault()}),this._pointerEvent?(p.default(this._element).on(Kn,function(Z){return x(Z)}),p.default(this._element).on(xi,function(Z){return W(Z)}),this._element.classList.add("pointer-event")):(p.default(this._element).on($o,function(Z){return x(Z)}),p.default(this._element).on(Va,function(Z){var ie;_.touchDeltaX=(ie=Z).originalEvent.touches&&ie.originalEvent.touches.length>1?0:ie.originalEvent.touches[0].clientX-_.touchStartX}),p.default(this._element).on(Nr,function(Z){return W(Z)}))}},L._keydown=function(_){if(!/input|textarea/i.test(_.target.tagName))switch(_.which){case 37:_.preventDefault(),this.prev();break;case 39:_.preventDefault(),this.next()}},L._getItemIndex=function(_){return this._items=_&&_.parentNode?[].slice.call(_.parentNode.querySelectorAll(".carousel-item")):[],this._items.indexOf(_)},L._getItemByDirection=function(_,x){var F=_===sr,W=_===Ao,Z=this._getItemIndex(x);if((W&&0===Z||F&&Z===this._items.length-1)&&!this._config.wrap)return x;var je=(Z+(_===Ao?-1:1))%this._items.length;return-1===je?this._items[this._items.length-1]:this._items[je]},L._triggerSlideEvent=function(_,x){var F=this._getItemIndex(_),W=this._getItemIndex(this._element.querySelector(Nn)),Z=p.default.Event(Ni,{relatedTarget:_,direction:x,from:W,to:F});return p.default(this._element).trigger(Z),Z},L._setActiveIndicatorElement=function(_){if(this._indicatorsElement){var x=[].slice.call(this._indicatorsElement.querySelectorAll(".active"));p.default(x).removeClass(En);var F=this._indicatorsElement.children[this._getItemIndex(_)];F&&p.default(F).addClass(En)}},L._updateInterval=function(){var _=this._activeElement||this._element.querySelector(Nn);if(_){var x=parseInt(_.getAttribute("data-interval"),10);x?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=x):this._config.interval=this._config.defaultInterval||this._config.interval}},L._slide=function(_,x){var je,mt,bt,F=this,W=this._element.querySelector(Nn),Z=this._getItemIndex(W),ie=x||W&&this._getItemByDirection(_,W),xe=this._getItemIndex(ie),Ve=!!this._interval;if(_===sr?(je="carousel-item-left",mt="carousel-item-next",bt="left"):(je="carousel-item-right",mt="carousel-item-prev",bt="right"),ie&&p.default(ie).hasClass(En))this._isSliding=!1;else if(!this._triggerSlideEvent(ie,bt).isDefaultPrevented()&&W&&ie){this._isSliding=!0,Ve&&this.pause(),this._setActiveIndicatorElement(ie),this._activeElement=ie;var Yt=p.default.Event(Ai,{relatedTarget:ie,direction:bt,from:Z,to:xe});if(p.default(this._element).hasClass("slide")){p.default(ie).addClass(mt),ye.reflow(ie),p.default(W).addClass(je),p.default(ie).addClass(je);var ko=ye.getTransitionDurationFromElement(W);p.default(W).one(ye.TRANSITION_END,function(){p.default(ie).removeClass(je+" "+mt).addClass(En),p.default(W).removeClass(En+" "+mt+" "+je),F._isSliding=!1,setTimeout(function(){return p.default(F._element).trigger(Yt)},0)}).emulateTransitionEnd(ko)}else p.default(W).removeClass(En),p.default(ie).addClass(En),this._isSliding=!1,p.default(this._element).trigger(Yt);Ve&&this.cycle()}},N._jQueryInterface=function(_){return this.each(function(){var x=p.default(this).data(vn),F=Jt({},ba,p.default(this).data());"object"==typeof _&&(F=Jt({},F,_));var W="string"==typeof _?_:F.slide;if(x||(x=new N(this,F),p.default(this).data(vn,x)),"number"==typeof _)x.to(_);else if("string"==typeof W){if(typeof x[W]>"u")throw new TypeError('No method named "'+W+'"');x[W]()}else F.interval&&F.ride&&(x.pause(),x.cycle())})},N._dataApiClickHandler=function(_){var x=ye.getSelectorFromElement(this);if(x){var F=p.default(x)[0];if(F&&p.default(F).hasClass("carousel")){var W=Jt({},p.default(F).data(),p.default(this).data()),Z=this.getAttribute("data-slide-to");Z&&(W.interval=!1),N._jQueryInterface.call(p.default(F),W),Z&&p.default(F).data(vn).to(Z),_.preventDefault()}}},Jn(N,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return ba}}]),N}();p.default(document).on(Gi,"[data-slide], [data-slide-to]",zr._dataApiClickHandler),p.default(window).on(Oi,function(){for(var N=[].slice.call(document.querySelectorAll('[data-ride="carousel"]')),L=0,I=N.length;L<I;L++){var _=p.default(N[L]);zr._jQueryInterface.call(_,_.data())}}),p.default.fn[Ir]=zr._jQueryInterface,p.default.fn[Ir].Constructor=zr,p.default.fn[Ir].noConflict=function(){return p.default.fn[Ir]=jo,zr._jQueryInterface};var Hn="collapse",co="bs.collapse",Uo="."+co,ri=p.default.fn[Hn],uo="show",Pr="collapse",$n="collapsing",Vo="collapsed",Wa="show"+Uo,ya="shown"+Uo,Es="hide"+Uo,Cs="hidden"+Uo,Ji="click"+Uo+".data-api",Ri='[data-toggle="collapse"]',Zi={toggle:!0,parent:""},An={toggle:"boolean",parent:"(string|element)"},xr=function(){function N(I,_){this._isTransitioning=!1,this._element=I,this._config=this._getConfig(_),this._triggerArray=[].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#'+I.id+'"],[data-toggle="collapse"][data-target="#'+I.id+'"]'));for(var x=[].slice.call(document.querySelectorAll(Ri)),F=0,W=x.length;F<W;F++){var Z=x[F],ie=ye.getSelectorFromElement(Z),xe=[].slice.call(document.querySelectorAll(ie)).filter(function(Ve){return Ve===I});null!==ie&&xe.length>0&&(this._selector=ie,this._triggerArray.push(Z))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var L=N.prototype;return L.toggle=function(){p.default(this._element).hasClass(uo)?this.hide():this.show()},L.show=function(){var x,F,_=this;if(!(this._isTransitioning||p.default(this._element).hasClass(uo)||(this._parent&&0===(x=[].slice.call(this._parent.querySelectorAll(".show, .collapsing")).filter(function(mt){return"string"==typeof _._config.parent?mt.getAttribute("data-parent")===_._config.parent:mt.classList.contains(Pr)})).length&&(x=null),x&&(F=p.default(x).not(this._selector).data(co),F&&F._isTransitioning)))){var W=p.default.Event(Wa);if(p.default(this._element).trigger(W),!W.isDefaultPrevented()){x&&(N._jQueryInterface.call(p.default(x).not(this._selector),"hide"),F||p.default(x).data(co,null));var Z=this._getDimension();p.default(this._element).removeClass(Pr).addClass($n),this._element.style[Z]=0,this._triggerArray.length&&p.default(this._triggerArray).removeClass(Vo).attr("aria-expanded",!0),this.setTransitioning(!0);var Ve="scroll"+(Z[0].toUpperCase()+Z.slice(1)),je=ye.getTransitionDurationFromElement(this._element);p.default(this._element).one(ye.TRANSITION_END,function(){p.default(_._element).removeClass($n).addClass(Pr+" "+uo),_._element.style[Z]="",_.setTransitioning(!1),p.default(_._element).trigger(ya)}).emulateTransitionEnd(je),this._element.style[Z]=this._element[Ve]+"px"}}},L.hide=function(){var _=this;if(!this._isTransitioning&&p.default(this._element).hasClass(uo)){var x=p.default.Event(Es);if(p.default(this._element).trigger(x),!x.isDefaultPrevented()){var F=this._getDimension();this._element.style[F]=this._element.getBoundingClientRect()[F]+"px",ye.reflow(this._element),p.default(this._element).addClass($n).removeClass(Pr+" "+uo);var W=this._triggerArray.length;if(W>0)for(var Z=0;Z<W;Z++){var ie=this._triggerArray[Z],xe=ye.getSelectorFromElement(ie);null!==xe&&(p.default([].slice.call(document.querySelectorAll(xe))).hasClass(uo)||p.default(ie).addClass(Vo).attr("aria-expanded",!1))}this.setTransitioning(!0),this._element.style[F]="";var mt=ye.getTransitionDurationFromElement(this._element);p.default(this._element).one(ye.TRANSITION_END,function(){_.setTransitioning(!1),p.default(_._element).removeClass($n).addClass(Pr).trigger(Cs)}).emulateTransitionEnd(mt)}}},L.setTransitioning=function(_){this._isTransitioning=_},L.dispose=function(){p.default.removeData(this._element,co),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},L._getConfig=function(_){return(_=Jt({},Zi,_)).toggle=!!_.toggle,ye.typeCheckConfig(Hn,_,An),_},L._getDimension=function(){return p.default(this._element).hasClass("width")?"width":"height"},L._getParent=function(){var x,_=this;ye.isElement(this._config.parent)?(x=this._config.parent,typeof this._config.parent.jquery<"u"&&(x=this._config.parent[0])):x=document.querySelector(this._config.parent);var W=[].slice.call(x.querySelectorAll('[data-toggle="collapse"][data-parent="'+this._config.parent+'"]'));return p.default(W).each(function(Z,ie){_._addAriaAndCollapsedClass(N._getTargetFromElement(ie),[ie])}),x},L._addAriaAndCollapsedClass=function(_,x){var F=p.default(_).hasClass(uo);x.length&&p.default(x).toggleClass(Vo,!F).attr("aria-expanded",F)},N._getTargetFromElement=function(_){var x=ye.getSelectorFromElement(_);return x?document.querySelector(x):null},N._jQueryInterface=function(_){return this.each(function(){var x=p.default(this),F=x.data(co),W=Jt({},Zi,x.data(),"object"==typeof _&&_?_:{});if(!F&&W.toggle&&"string"==typeof _&&/show|hide/.test(_)&&(W.toggle=!1),F||(F=new N(this,W),x.data(co,F)),"string"==typeof _){if(typeof F[_]>"u")throw new TypeError('No method named "'+_+'"');F[_]()}})},Jn(N,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return Zi}}]),N}();p.default(document).on(Ji,Ri,function(N){"A"===N.currentTarget.tagName&&N.preventDefault();var L=p.default(this),I=ye.getSelectorFromElement(this),_=[].slice.call(document.querySelectorAll(I));p.default(_).each(function(){var x=p.default(this),W=x.data(co)?"toggle":L.data();xr._jQueryInterface.call(x,W)})}),p.default.fn[Hn]=xr._jQueryInterface,p.default.fn[Hn].Constructor=xr,p.default.fn[Hn].noConflict=function(){return p.default.fn[Hn]=ri,xr._jQueryInterface};var ho=typeof window<"u"&&typeof document<"u"&&typeof navigator<"u",zo=function(){for(var N=["Edge","Trident","Firefox"],L=0;L<N.length;L+=1)if(ho&&navigator.userAgent.indexOf(N[L])>=0)return 1;return 0}(),oi=ho&&window.Promise?function po(N){var L=!1;return function(){L||(L=!0,window.Promise.resolve().then(function(){L=!1,N()}))}}:function mo(N){var L=!1;return function(){L||(L=!0,setTimeout(function(){L=!1,N()},zo))}};function Ka(N){return N&&"[object Function]"==={}.toString.call(N)}function xo(N,L){if(1!==N.nodeType)return[];var _=N.ownerDocument.defaultView.getComputedStyle(N,null);return L?_[L]:_}function ea(N){return"HTML"===N.nodeName?N:N.parentNode||N.host}function er(N){if(!N)return document.body;switch(N.nodeName){case"HTML":case"BODY":return N.ownerDocument.body;case"#document":return N.body}var L=xo(N);return/(auto|scroll|overlay)/.test(L.overflow+L.overflowY+L.overflowX)?N:er(ea(N))}function dr(N){return N&&N.referenceNode?N.referenceNode:N}var Di=ho&&!(!window.MSInputMethodContext||!document.documentMode),qo=ho&&/MSIE 10/.test(navigator.userAgent);function Dn(N){return 11===N?Di:10===N?qo:Di||qo}function bn(N){if(!N)return document.documentElement;for(var L=Dn(10)?document.body:null,I=N.offsetParent||null;I===L&&N.nextElementSibling;)I=(N=N.nextElementSibling).offsetParent;var _=I&&I.nodeName;return _&&"BODY"!==_&&"HTML"!==_?-1!==["TH","TD","TABLE"].indexOf(I.nodeName)&&"static"===xo(I,"position")?bn(I):I:N?N.ownerDocument.documentElement:document.documentElement}function Li(N){return null!==N.parentNode?Li(N.parentNode):N}function Et(N,L){if(!(N&&N.nodeType&&L&&L.nodeType))return document.documentElement;var I=N.compareDocumentPosition(L)&Node.DOCUMENT_POSITION_FOLLOWING,_=I?N:L,x=I?L:N,F=document.createRange();F.setStart(_,0),F.setEnd(x,0);var W=F.commonAncestorContainer;if(N!==W&&L!==W||_.contains(x))return function Or(N){var L=N.nodeName;return"BODY"!==L&&("HTML"===L||bn(N.firstElementChild)===N)}(W)?W:bn(W);var Z=Li(N);return Z.host?Et(Z.host,L):Et(N,Li(L).host)}function cr(N){var I="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",_=N.nodeName;return"BODY"===_||"HTML"===_?(N.ownerDocument.scrollingElement||N.ownerDocument.documentElement)[I]:N[I]}function ta(N,L){var I="x"===L?"Left":"Top",_="Left"===I?"Right":"Bottom";return parseFloat(N["border"+I+"Width"])+parseFloat(N["border"+_+"Width"])}function Se(N,L,I,_){return Math.max(L["offset"+N],L["scroll"+N],I["client"+N],I["offset"+N],I["scroll"+N],Dn(10)?parseInt(I["offset"+N])+parseInt(_["margin"+("Height"===N?"Top":"Left")])+parseInt(_["margin"+("Height"===N?"Bottom":"Right")]):0)}function go(N){var L=N.body,I=N.documentElement,_=Dn(10)&&getComputedStyle(I);return{height:Se("Height",L,I,_),width:Se("Width",L,I,_)}}var Ln=function(){function N(L,I){for(var _=0;_<I.length;_++){var x=I[_];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(L,x.key,x)}}return function(L,I,_){return I&&N(L.prototype,I),_&&N(L,_),L}}(),Wr=function(N,L,I){return L in N?Object.defineProperty(N,L,{value:I,enumerable:!0,configurable:!0,writable:!0}):N[L]=I,N},Mr=Object.assign||function(N){for(var L=1;L<arguments.length;L++){var I=arguments[L];for(var _ in I)Object.prototype.hasOwnProperty.call(I,_)&&(N[_]=I[_])}return N};function Kr(N){return Mr({},N,{right:N.left+N.width,bottom:N.top+N.height})}function Ea(N){var L={};try{if(Dn(10)){L=N.getBoundingClientRect();var I=cr(N,"top"),_=cr(N,"left");L.top+=I,L.left+=_,L.bottom+=I,L.right+=_}else L=N.getBoundingClientRect()}catch{}var x={left:L.left,top:L.top,width:L.right-L.left,height:L.bottom-L.top},F="HTML"===N.nodeName?go(N.ownerDocument):{},ie=N.offsetWidth-(F.width||N.clientWidth||x.width),xe=N.offsetHeight-(F.height||N.clientHeight||x.height);if(ie||xe){var Ve=xo(N);ie-=ta(Ve,"x"),xe-=ta(Ve,"y"),x.width-=ie,x.height-=xe}return Kr(x)}function Qa(N,L){var I=arguments.length>2&&void 0!==arguments[2]&&arguments[2],_=Dn(10),x="HTML"===L.nodeName,F=Ea(N),W=Ea(L),Z=er(N),ie=xo(L),xe=parseFloat(ie.borderTopWidth),Ve=parseFloat(ie.borderLeftWidth);I&&x&&(W.top=Math.max(W.top,0),W.left=Math.max(W.left,0));var je=Kr({top:F.top-W.top-xe,left:F.left-W.left-Ve,width:F.width,height:F.height});if(je.marginTop=0,je.marginLeft=0,!_&&x){var mt=parseFloat(ie.marginTop),bt=parseFloat(ie.marginLeft);je.top-=xe-mt,je.bottom-=xe-mt,je.left-=Ve-bt,je.right-=Ve-bt,je.marginTop=mt,je.marginLeft=bt}return(_&&!I?L.contains(Z):L===Z&&"BODY"!==Z.nodeName)&&(je=function Ya(N,L){var I=arguments.length>2&&void 0!==arguments[2]&&arguments[2],_=cr(L,"top"),x=cr(L,"left"),F=I?-1:1;return N.top+=_*F,N.bottom+=_*F,N.left+=x*F,N.right+=x*F,N}(je,L)),je}function Ga(N){var L=N.nodeName;if("BODY"===L||"HTML"===L)return!1;if("fixed"===xo(N,"position"))return!0;var I=ea(N);return!!I&&Ga(I)}function na(N){if(!N||!N.parentElement||Dn())return document.documentElement;for(var L=N.parentElement;L&&"none"===xo(L,"transform");)L=L.parentElement;return L||document.documentElement}function Ii(N,L,I,_){var x=arguments.length>4&&void 0!==arguments[4]&&arguments[4],F={top:0,left:0},W=x?na(N):Et(N,dr(L));if("viewport"===_)F=function Nt(N){var L=arguments.length>1&&void 0!==arguments[1]&&arguments[1],I=N.ownerDocument.documentElement,_=Qa(N,I),x=Math.max(I.clientWidth,window.innerWidth||0),F=Math.max(I.clientHeight,window.innerHeight||0),W=L?0:cr(I),Z=L?0:cr(I,"left");return Kr({top:W-_.top+_.marginTop,left:Z-_.left+_.marginLeft,width:x,height:F})}(W,x);else{var Z=void 0;"scrollParent"===_?"BODY"===(Z=er(ea(L))).nodeName&&(Z=N.ownerDocument.documentElement):Z="window"===_?N.ownerDocument.documentElement:_;var ie=Qa(Z,W,x);if("HTML"!==Z.nodeName||Ga(W))F=ie;else{var xe=go(N.ownerDocument),Ve=xe.height,je=xe.width;F.top+=ie.top-ie.marginTop,F.bottom=Ve+ie.top,F.left+=ie.left-ie.marginLeft,F.right=je+ie.left}}var mt="number"==typeof(I=I||0);return F.left+=mt?I:I.left||0,F.top+=mt?I:I.top||0,F.right-=mt?I:I.right||0,F.bottom-=mt?I:I.bottom||0,F}function Un(N){return N.width*N.height}function In(N,L,I,_,x){var F=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===N.indexOf("auto"))return N;var W=Ii(I,_,F,x),Z={top:{width:W.width,height:L.top-W.top},right:{width:W.right-L.right,height:W.height},bottom:{width:W.width,height:W.bottom-L.bottom},left:{width:L.left-W.left,height:W.height}},ie=Object.keys(Z).map(function(mt){return Mr({key:mt},Z[mt],{area:Un(Z[mt])})}).sort(function(mt,bt){return bt.area-mt.area}),xe=ie.filter(function(mt){return mt.width>=I.clientWidth&&mt.height>=I.clientHeight}),Ve=xe.length>0?xe[0].key:ie[0].key,je=N.split("-")[1];return Ve+(je?"-"+je:"")}function Pi(N,L,I){var _=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Qa(I,_?na(L):Et(L,dr(I)),_)}function Wo(N){var I=N.ownerDocument.defaultView.getComputedStyle(N),_=parseFloat(I.marginTop||0)+parseFloat(I.marginBottom||0),x=parseFloat(I.marginLeft||0)+parseFloat(I.marginRight||0);return{width:N.offsetWidth+x,height:N.offsetHeight+_}}function Oo(N){var L={left:"right",right:"left",bottom:"top",top:"bottom"};return N.replace(/left|right|bottom|top/g,function(I){return L[I]})}function Ca(N,L,I){I=I.split("-")[0];var _=Wo(N),x={width:_.width,height:_.height},F=-1!==["right","left"].indexOf(I),W=F?"top":"left",Z=F?"left":"top",ie=F?"height":"width",xe=F?"width":"height";return x[W]=L[W]+L[ie]/2-_[ie]/2,x[Z]=I===Z?L[Z]-_[xe]:L[Oo(Z)],x}function on(N,L){return Array.prototype.find?N.find(L):N.filter(L)[0]}function Yn(N,L,I){var _=void 0===I?N:N.slice(0,function Yr(N,L,I){if(Array.prototype.findIndex)return N.findIndex(function(x){return x[L]===I});var _=on(N,function(x){return x[L]===I});return N.indexOf(_)}(N,"name",I));return _.forEach(function(x){x.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var F=x.function||x.fn;x.enabled&&Ka(F)&&(L.offsets.popper=Kr(L.offsets.popper),L.offsets.reference=Kr(L.offsets.reference),L=F(L,x))}),L}function Br(){if(!this.state.isDestroyed){var N={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};N.offsets.reference=Pi(this.state,this.popper,this.reference,this.options.positionFixed),N.placement=In(this.options.placement,N.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),N.originalPlacement=N.placement,N.positionFixed=this.options.positionFixed,N.offsets.popper=Ca(this.popper,N.offsets.reference,N.placement),N.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",N=Yn(this.modifiers,N),this.state.isCreated?this.options.onUpdate(N):(this.state.isCreated=!0,this.options.onCreate(N))}}function Mi(N,L){return N.some(function(I){return I.enabled&&I.name===L})}function nn(N){for(var L=[!1,"ms","Webkit","Moz","O"],I=N.charAt(0).toUpperCase()+N.slice(1),_=0;_<L.length;_++){var x=L[_],F=x?""+x+I:N;if(typeof document.body.style[F]<"u")return F}return null}function Qr(){return this.state.isDestroyed=!0,Mi(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[nn("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function Gr(N){var L=N.ownerDocument;return L?L.defaultView:window}function ii(N,L,I,_){var x="BODY"===N.nodeName,F=x?N.ownerDocument.defaultView:N;F.addEventListener(L,I,{passive:!0}),x||ii(er(F.parentNode),L,I,_),_.push(F)}function Sa(N,L,I,_){I.updateBound=_,Gr(N).addEventListener("resize",I.updateBound,{passive:!0});var x=er(N);return ii(x,"scroll",I.updateBound,I.scrollParents),I.scrollElement=x,I.eventsEnabled=!0,I}function Xa(){this.state.eventsEnabled||(this.state=Sa(this.reference,0,this.state,this.scheduleUpdate))}function h(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=function c(N,L){return Gr(N).removeEventListener("resize",L.updateBound),L.scrollParents.forEach(function(I){I.removeEventListener("scroll",L.updateBound)}),L.updateBound=null,L.scrollParents=[],L.scrollElement=null,L.eventsEnabled=!1,L}(this.reference,this.state))}function y(N){return""!==N&&!isNaN(parseFloat(N))&&isFinite(N)}function S(N,L){Object.keys(L).forEach(function(I){var _="";-1!==["width","height","top","right","bottom","left"].indexOf(I)&&y(L[I])&&(_="px"),N.style[I]=L[I]+_})}var V=ho&&/Firefox/i.test(navigator.userAgent);function he(N,L,I){var _=on(N,function(Z){return Z.name===L}),x=!!_&&N.some(function(Z){return Z.name===I&&Z.enabled&&Z.order<_.order});if(!x){var F="`"+L+"`";console.warn("`"+I+"` modifier is required by "+F+" modifier in order to work, be sure to include it before "+F+"!")}return x}var ke=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Fe=ke.slice(3);function Ot(N){var L=arguments.length>1&&void 0!==arguments[1]&&arguments[1],I=Fe.indexOf(N),_=Fe.slice(I+1).concat(Fe.slice(0,I));return L?_.reverse():_}var ur={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function Lt(N){var L=N.placement,I=L.split("-")[0],_=L.split("-")[1];if(_){var x=N.offsets,F=x.reference,W=x.popper,Z=-1!==["bottom","top"].indexOf(I),ie=Z?"left":"top",xe=Z?"width":"height",Ve={start:Wr({},ie,F[ie]),end:Wr({},ie,F[ie]+F[xe]-W[xe])};N.offsets.popper=Mr({},W,Ve[_])}return N}},offset:{order:200,enabled:!0,fn:function jt(N,L){var ie,I=L.offset,x=N.offsets,F=x.popper,W=x.reference,Z=N.placement.split("-")[0];return ie=y(+I)?[+I,0]:function yr(N,L,I,_){var x=[0,0],F=-1!==["right","left"].indexOf(_),W=N.split(/(\+|\-)/).map(function(Ve){return Ve.trim()}),Z=W.indexOf(on(W,function(Ve){return-1!==Ve.search(/,|\s/)}));W[Z]&&-1===W[Z].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var ie=/\s*,\s*|\s+/,xe=-1!==Z?[W.slice(0,Z).concat([W[Z].split(ie)[0]]),[W[Z].split(ie)[1]].concat(W.slice(Z+1))]:[W];return xe=xe.map(function(Ve,je){var mt=(1===je?!F:F)?"height":"width",bt=!1;return Ve.reduce(function(_t,Yt){return""===_t[_t.length-1]&&-1!==["+","-"].indexOf(Yt)?(_t[_t.length-1]=Yt,bt=!0,_t):bt?(_t[_t.length-1]+=Yt,bt=!1,_t):_t.concat(Yt)},[]).map(function(_t){return function en(N,L,I,_){var x=N.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),F=+x[1],W=x[2];return F?0===W.indexOf("%")?Kr("%p"===W?I:_)[L]/100*F:"vh"===W||"vw"===W?("vh"===W?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*F:F:N}(_t,mt,L,I)})}),xe.forEach(function(Ve,je){Ve.forEach(function(mt,bt){y(mt)&&(x[je]+=mt*("-"===Ve[bt-1]?-1:1))})}),x}(I,F,W,Z),"left"===Z?(F.top+=ie[0],F.left-=ie[1]):"right"===Z?(F.top+=ie[0],F.left+=ie[1]):"top"===Z?(F.left+=ie[0],F.top-=ie[1]):"bottom"===Z&&(F.left+=ie[0],F.top+=ie[1]),N.popper=F,N},offset:0},preventOverflow:{order:300,enabled:!0,fn:function Pn(N,L){var I=L.boundariesElement||bn(N.instance.popper);N.instance.reference===I&&(I=bn(I));var _=nn("transform"),x=N.instance.popper.style,F=x.top,W=x.left,Z=x[_];x.top="",x.left="",x[_]="";var ie=Ii(N.instance.popper,N.instance.reference,L.padding,I,N.positionFixed);x.top=F,x.left=W,x[_]=Z,L.boundaries=ie;var Ve=N.offsets.popper,je={primary:function(bt){var _t=Ve[bt];return Ve[bt]<ie[bt]&&!L.escapeWithReference&&(_t=Math.max(Ve[bt],ie[bt])),Wr({},bt,_t)},secondary:function(bt){var _t="right"===bt?"left":"top",Yt=Ve[_t];return Ve[bt]>ie[bt]&&!L.escapeWithReference&&(Yt=Math.min(Ve[_t],ie[bt]-("right"===bt?Ve.width:Ve.height))),Wr({},_t,Yt)}};return L.priority.forEach(function(mt){var bt=-1!==["left","top"].indexOf(mt)?"primary":"secondary";Ve=Mr({},Ve,je[bt](mt))}),N.offsets.popper=Ve,N},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function rn(N){var L=N.offsets,I=L.popper,_=L.reference,x=N.placement.split("-")[0],F=Math.floor,W=-1!==["top","bottom"].indexOf(x),Z=W?"right":"bottom",ie=W?"left":"top",xe=W?"width":"height";return I[Z]<F(_[ie])&&(N.offsets.popper[ie]=F(_[ie])-I[xe]),I[ie]>F(_[Z])&&(N.offsets.popper[ie]=F(_[Z])),N}},arrow:{order:500,enabled:!0,fn:function Te(N,L){var I;if(!he(N.instance.modifiers,"arrow","keepTogether"))return N;var _=L.element;if("string"==typeof _){if(!(_=N.instance.popper.querySelector(_)))return N}else if(!N.instance.popper.contains(_))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),N;var x=N.placement.split("-")[0],F=N.offsets,W=F.popper,Z=F.reference,ie=-1!==["left","right"].indexOf(x),xe=ie?"height":"width",Ve=ie?"Top":"Left",je=Ve.toLowerCase(),mt=ie?"left":"top",bt=ie?"bottom":"right",_t=Wo(_)[xe];Z[bt]-_t<W[je]&&(N.offsets.popper[je]-=W[je]-(Z[bt]-_t)),Z[je]+_t>W[bt]&&(N.offsets.popper[je]+=Z[je]+_t-W[bt]),N.offsets.popper=Kr(N.offsets.popper);var Yt=Z[je]+Z[xe]/2-_t/2,ko=xo(N.instance.popper),jr=parseFloat(ko["margin"+Ve]),Dr=parseFloat(ko["border"+Ve+"Width"]),us=Yt-N.offsets.popper[je]-jr-Dr;return us=Math.max(Math.min(W[xe]-_t,us),0),N.arrowElement=_,N.offsets.arrow=(Wr(I={},je,Math.round(us)),Wr(I,mt,""),I),N},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function an(N,L){if(Mi(N.instance.modifiers,"inner")||N.flipped&&N.placement===N.originalPlacement)return N;var I=Ii(N.instance.popper,N.instance.reference,L.padding,L.boundariesElement,N.positionFixed),_=N.placement.split("-")[0],x=Oo(_),F=N.placement.split("-")[1]||"",W=[];switch(L.behavior){case"flip":W=[_,x];break;case"clockwise":W=Ot(_);break;case"counterclockwise":W=Ot(_,!0);break;default:W=L.behavior}return W.forEach(function(Z,ie){if(_!==Z||W.length===ie+1)return N;_=N.placement.split("-")[0],x=Oo(_);var xe=N.offsets.popper,Ve=N.offsets.reference,je=Math.floor,mt="left"===_&&je(xe.right)>je(Ve.left)||"right"===_&&je(xe.left)<je(Ve.right)||"top"===_&&je(xe.bottom)>je(Ve.top)||"bottom"===_&&je(xe.top)<je(Ve.bottom),bt=je(xe.left)<je(I.left),_t=je(xe.right)>je(I.right),Yt=je(xe.top)<je(I.top),ko=je(xe.bottom)>je(I.bottom),jr="left"===_&&bt||"right"===_&&_t||"top"===_&&Yt||"bottom"===_&&ko,Dr=-1!==["top","bottom"].indexOf(_),su=!!L.flipVariations&&(Dr&&"start"===F&&bt||Dr&&"end"===F&&_t||!Dr&&"start"===F&&Yt||!Dr&&"end"===F&&ko)||!!L.flipVariationsByContent&&(Dr&&"start"===F&&_t||Dr&&"end"===F&&bt||!Dr&&"start"===F&&ko||!Dr&&"end"===F&&Yt);(mt||jr||su)&&(N.flipped=!0,(mt||jr)&&(_=W[ie+1]),su&&(F=function ae(N){return"end"===N?"start":"start"===N?"end":N}(F)),N.placement=_+(F?"-"+F:""),N.offsets.popper=Mr({},N.offsets.popper,Ca(N.instance.popper,N.offsets.reference,N.placement)),N=Yn(N.instance.modifiers,N,"flip"))}),N},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function Bi(N){var L=N.placement,I=L.split("-")[0],_=N.offsets,x=_.popper,F=_.reference,W=-1!==["left","right"].indexOf(I),Z=-1===["top","left"].indexOf(I);return x[W?"left":"top"]=F[I]-(Z?x[W?"width":"height"]:0),N.placement=Oo(L),N.offsets.popper=Kr(x),N}},hide:{order:800,enabled:!0,fn:function ln(N){if(!he(N.instance.modifiers,"hide","preventOverflow"))return N;var L=N.offsets.reference,I=on(N.instance.modifiers,function(_){return"preventOverflow"===_.name}).boundaries;if(L.bottom<I.top||L.left>I.right||L.top>I.bottom||L.right<I.left){if(!0===N.hide)return N;N.hide=!0,N.attributes["x-out-of-boundaries"]=""}else{if(!1===N.hide)return N;N.hide=!1,N.attributes["x-out-of-boundaries"]=!1}return N}},computeStyle:{order:850,enabled:!0,fn:function k(N,L){var I=L.x,_=L.y,x=N.offsets.popper,F=on(N.instance.modifiers,function(us){return"applyStyle"===us.name}).gpuAcceleration;void 0!==F&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var _t,Yt,W=void 0!==F?F:L.gpuAcceleration,Z=bn(N.instance.popper),ie=Ea(Z),xe={position:x.position},Ve=function z(N,L){var I=N.offsets,_=I.popper,F=Math.round,W=Math.floor,Z=function(jr){return jr},ie=F(I.reference.width),xe=F(_.width),Ve=-1!==["left","right"].indexOf(N.placement),je=-1!==N.placement.indexOf("-"),_t=L?Ve||je||ie%2==xe%2?F:W:Z,Yt=L?F:Z;return{left:_t(ie%2==1&&xe%2==1&&!je&&L?_.left-1:_.left),top:Yt(_.top),bottom:Yt(_.bottom),right:_t(_.right)}}(N,window.devicePixelRatio<2||!V),je="bottom"===I?"top":"bottom",mt="right"===_?"left":"right",bt=nn("transform");if(Yt="bottom"===je?"HTML"===Z.nodeName?-Z.clientHeight+Ve.bottom:-ie.height+Ve.bottom:Ve.top,_t="right"===mt?"HTML"===Z.nodeName?-Z.clientWidth+Ve.right:-ie.width+Ve.right:Ve.left,W&&bt)xe[bt]="translate3d("+_t+"px, "+Yt+"px, 0)",xe[je]=0,xe[mt]=0,xe.willChange="transform";else{var jr="right"===mt?-1:1;xe[je]=Yt*("bottom"===je?-1:1),xe[mt]=_t*jr,xe.willChange=je+", "+mt}return N.attributes=Mr({},{"x-placement":N.placement},N.attributes),N.styles=Mr({},xe,N.styles),N.arrowStyles=Mr({},N.offsets.arrow,N.arrowStyles),N},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function D(N){return S(N.instance.popper,N.styles),function R(N,L){Object.keys(L).forEach(function(I){!1!==L[I]?N.setAttribute(I,L[I]):N.removeAttribute(I)})}(N.instance.popper,N.attributes),N.arrowElement&&Object.keys(N.arrowStyles).length&&S(N.arrowElement,N.arrowStyles),N},onLoad:function B(N,L,I,_,x){var F=Pi(x,L,N,I.positionFixed),W=In(I.placement,F,L,N,I.modifiers.flip.boundariesElement,I.modifiers.flip.padding);return L.setAttribute("x-placement",W),S(L,{position:I.positionFixed?"fixed":"absolute"}),I},gpuAcceleration:void 0}}},Xr=function(){function N(L,I){var _=this,x=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(function(N,L){if(!(N instanceof L))throw new TypeError("Cannot call a class as a function")})(this,N),this.scheduleUpdate=function(){return requestAnimationFrame(_.update)},this.update=oi(this.update.bind(this)),this.options=Mr({},N.Defaults,x),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=L&&L.jquery?L[0]:L,this.popper=I&&I.jquery?I[0]:I,this.options.modifiers={},Object.keys(Mr({},N.Defaults.modifiers,x.modifiers)).forEach(function(W){_.options.modifiers[W]=Mr({},N.Defaults.modifiers[W]||{},x.modifiers?x.modifiers[W]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(W){return Mr({name:W},_.options.modifiers[W])}).sort(function(W,Z){return W.order-Z.order}),this.modifiers.forEach(function(W){W.enabled&&Ka(W.onLoad)&&W.onLoad(_.reference,_.popper,_.options,W,_.state)}),this.update();var F=this.options.eventsEnabled;F&&this.enableEventListeners(),this.state.eventsEnabled=F}return Ln(N,[{key:"update",value:function(){return Br.call(this)}},{key:"destroy",value:function(){return Qr.call(this)}},{key:"enableEventListeners",value:function(){return Xa.call(this)}},{key:"disableEventListeners",value:function(){return h.call(this)}}]),N}();Xr.Utils=(typeof window<"u"?window:global).PopperUtils,Xr.placements=ke,Xr.Defaults=ur;var Qn=Xr,tr="dropdown",Sn="bs.dropdown",Jr="."+Sn,xn=".data-api",Zr=p.default.fn[tr],Fr=new RegExp("38|40|27"),oa="disabled",fr="show",vo="dropdown-menu-right",Ko="hide"+Jr,ji="hidden"+Jr,bo="show"+Jr,nr="shown"+Jr,Za="click"+Jr,Ro="click"+Jr+xn,Hi="keydown"+Jr+xn,ia="keyup"+Jr+xn,Vn='[data-toggle="dropdown"]',_o=".dropdown-menu",ze={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic",popperConfig:null},It={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string",popperConfig:"(null|object)"},pt=function(){function N(I,_){this._element=I,this._popper=null,this._config=this._getConfig(_),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var L=N.prototype;return L.toggle=function(){if(!this._element.disabled&&!p.default(this._element).hasClass(oa)){var _=p.default(this._menu).hasClass(fr);N._clearMenus(),!_&&this.show(!0)}},L.show=function(_){if(void 0===_&&(_=!1),!(this._element.disabled||p.default(this._element).hasClass(oa)||p.default(this._menu).hasClass(fr))){var x={relatedTarget:this._element},F=p.default.Event(bo,x),W=N._getParentFromElement(this._element);if(p.default(W).trigger(F),!F.isDefaultPrevented()){if(!this._inNavbar&&_){if(typeof Qn>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");var Z=this._element;"parent"===this._config.reference?Z=W:ye.isElement(this._config.reference)&&(Z=this._config.reference,typeof this._config.reference.jquery<"u"&&(Z=this._config.reference[0])),"scrollParent"!==this._config.boundary&&p.default(W).addClass("position-static"),this._popper=new Qn(Z,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===p.default(W).closest(".navbar-nav").length&&p.default(document.body).children().on("mouseover",null,p.default.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),p.default(this._menu).toggleClass(fr),p.default(W).toggleClass(fr).trigger(p.default.Event(nr,x))}}},L.hide=function(){if(!this._element.disabled&&!p.default(this._element).hasClass(oa)&&p.default(this._menu).hasClass(fr)){var _={relatedTarget:this._element},x=p.default.Event(Ko,_),F=N._getParentFromElement(this._element);p.default(F).trigger(x),!x.isDefaultPrevented()&&(this._popper&&this._popper.destroy(),p.default(this._menu).toggleClass(fr),p.default(F).toggleClass(fr).trigger(p.default.Event(ji,_)))}},L.dispose=function(){p.default.removeData(this._element,Sn),p.default(this._element).off(Jr),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)},L.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},L._addEventListeners=function(){var _=this;p.default(this._element).on(Za,function(x){x.preventDefault(),x.stopPropagation(),_.toggle()})},L._getConfig=function(_){return _=Jt({},this.constructor.Default,p.default(this._element).data(),_),ye.typeCheckConfig(tr,_,this.constructor.DefaultType),_},L._getMenuElement=function(){if(!this._menu){var _=N._getParentFromElement(this._element);_&&(this._menu=_.querySelector(_o))}return this._menu},L._getPlacement=function(){var _=p.default(this._element.parentNode),x="bottom-start";return _.hasClass("dropup")?x=p.default(this._menu).hasClass(vo)?"top-end":"top-start":_.hasClass("dropright")?x="right-start":_.hasClass("dropleft")?x="left-start":p.default(this._menu).hasClass(vo)&&(x="bottom-end"),x},L._detectNavbar=function(){return p.default(this._element).closest(".navbar").length>0},L._getOffset=function(){var _=this,x={};return"function"==typeof this._config.offset?x.fn=function(F){return F.offsets=Jt({},F.offsets,_._config.offset(F.offsets,_._element)),F}:x.offset=this._config.offset,x},L._getPopperConfig=function(){var _={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(_.modifiers.applyStyle={enabled:!1}),Jt({},_,this._config.popperConfig)},N._jQueryInterface=function(_){return this.each(function(){var x=p.default(this).data(Sn);if(x||(x=new N(this,"object"==typeof _?_:null),p.default(this).data(Sn,x)),"string"==typeof _){if(typeof x[_]>"u")throw new TypeError('No method named "'+_+'"');x[_]()}})},N._clearMenus=function(_){if(!_||3!==_.which&&("keyup"!==_.type||9===_.which))for(var x=[].slice.call(document.querySelectorAll(Vn)),F=0,W=x.length;F<W;F++){var Z=N._getParentFromElement(x[F]),ie=p.default(x[F]).data(Sn),xe={relatedTarget:x[F]};if(_&&"click"===_.type&&(xe.clickEvent=_),ie){var Ve=ie._menu;if(p.default(Z).hasClass(fr)&&!(_&&("click"===_.type&&/input|textarea/i.test(_.target.tagName)||"keyup"===_.type&&9===_.which)&&p.default.contains(Z,_.target))){var je=p.default.Event(Ko,xe);p.default(Z).trigger(je),!je.isDefaultPrevented()&&("ontouchstart"in document.documentElement&&p.default(document.body).children().off("mouseover",null,p.default.noop),x[F].setAttribute("aria-expanded","false"),ie._popper&&ie._popper.destroy(),p.default(Ve).removeClass(fr),p.default(Z).removeClass(fr).trigger(p.default.Event(ji,xe)))}}}},N._getParentFromElement=function(_){var x,F=ye.getSelectorFromElement(_);return F&&(x=document.querySelector(F)),x||_.parentNode},N._dataApiKeydownHandler=function(_){if(!(/input|textarea/i.test(_.target.tagName)?32===_.which||27!==_.which&&(40!==_.which&&38!==_.which||p.default(_.target).closest(_o).length):!Fr.test(_.which))&&!this.disabled&&!p.default(this).hasClass(oa)){var x=N._getParentFromElement(this),F=p.default(x).hasClass(fr);if(F||27!==_.which){if(_.preventDefault(),_.stopPropagation(),!F||27===_.which||32===_.which)return 27===_.which&&p.default(x.querySelector(Vn)).trigger("focus"),void p.default(this).trigger("click");var W=[].slice.call(x.querySelectorAll(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)")).filter(function(ie){return p.default(ie).is(":visible")});if(0!==W.length){var Z=W.indexOf(_.target);38===_.which&&Z>0&&Z--,40===_.which&&Z<W.length-1&&Z++,Z<0&&(Z=0),W[Z].focus()}}}},Jn(N,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return ze}},{key:"DefaultType",get:function(){return It}}]),N}();p.default(document).on(Hi,Vn,pt._dataApiKeydownHandler).on(Hi,_o,pt._dataApiKeydownHandler).on(Ro+" "+ia,pt._clearMenus).on(Ro,Vn,function(N){N.preventDefault(),N.stopPropagation(),pt._jQueryInterface.call(p.default(this),"toggle")}).on(Ro,".dropdown form",function(N){N.stopPropagation()}),p.default.fn[tr]=pt._jQueryInterface,p.default.fn[tr].Constructor=pt,p.default.fn[tr].noConflict=function(){return p.default.fn[tr]=Zr,pt._jQueryInterface};var gt="modal",ft="bs.modal",Mt="."+ft,pe=p.default.fn[gt],le="modal-open",Ee="fade",De="show",vt="modal-static",Vt="hide"+Mt,Le="hidePrevented"+Mt,rr="hidden"+Mt,kr="show"+Mt,to="shown"+Mt,aa="focusin"+Mt,yd="resize"+Mt,sa="click.dismiss"+Mt,$i="keydown.dismiss"+Mt,$c="mouseup.dismiss"+Mt,Rl="mousedown.dismiss"+Mt,Ce="click"+Mt+".data-api",kl=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",dn=".sticky-top",Dl={backdrop:!0,keyboard:!0,focus:!0,show:!0},Yo={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},Wt=function(){function N(I,_){this._config=this._getConfig(_),this._element=I,this._dialog=I.querySelector(".modal-dialog"),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}var L=N.prototype;return L.toggle=function(_){return this._isShown?this.hide():this.show(_)},L.show=function(_){var x=this;if(!this._isShown&&!this._isTransitioning){var F=p.default.Event(kr,{relatedTarget:_});p.default(this._element).trigger(F),!F.isDefaultPrevented()&&(this._isShown=!0,p.default(this._element).hasClass(Ee)&&(this._isTransitioning=!0),this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),p.default(this._element).on(sa,'[data-dismiss="modal"]',function(W){return x.hide(W)}),p.default(this._dialog).on(Rl,function(){p.default(x._element).one($c,function(W){p.default(W.target).is(x._element)&&(x._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return x._showElement(_)}))}},L.hide=function(_){var x=this;if(_&&_.preventDefault(),this._isShown&&!this._isTransitioning){var F=p.default.Event(Vt);if(p.default(this._element).trigger(F),this._isShown&&!F.isDefaultPrevented()){this._isShown=!1;var W=p.default(this._element).hasClass(Ee);if(W&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),p.default(document).off(aa),p.default(this._element).removeClass(De),p.default(this._element).off(sa),p.default(this._dialog).off(Rl),W){var Z=ye.getTransitionDurationFromElement(this._element);p.default(this._element).one(ye.TRANSITION_END,function(ie){return x._hideModal(ie)}).emulateTransitionEnd(Z)}else this._hideModal()}}},L.dispose=function(){[window,this._element,this._dialog].forEach(function(_){return p.default(_).off(Mt)}),p.default(document).off(aa),p.default.removeData(this._element,ft),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},L.handleUpdate=function(){this._adjustDialog()},L._getConfig=function(_){return _=Jt({},Dl,_),ye.typeCheckConfig(gt,_,Yo),_},L._triggerBackdropTransition=function(){var _=this,x=p.default.Event(Le);if(p.default(this._element).trigger(x),!x.isDefaultPrevented()){var F=this._element.scrollHeight>document.documentElement.clientHeight;F||(this._element.style.overflowY="hidden"),this._element.classList.add(vt);var W=ye.getTransitionDurationFromElement(this._dialog);p.default(this._element).off(ye.TRANSITION_END),p.default(this._element).one(ye.TRANSITION_END,function(){_._element.classList.remove(vt),F||p.default(_._element).one(ye.TRANSITION_END,function(){_._element.style.overflowY=""}).emulateTransitionEnd(_._element,W)}).emulateTransitionEnd(W),this._element.focus()}},L._showElement=function(_){var x=this,F=p.default(this._element).hasClass(Ee),W=this._dialog?this._dialog.querySelector(".modal-body"):null;(!this._element.parentNode||this._element.parentNode.nodeType!==Node.ELEMENT_NODE)&&document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),p.default(this._dialog).hasClass("modal-dialog-scrollable")&&W?W.scrollTop=0:this._element.scrollTop=0,F&&ye.reflow(this._element),p.default(this._element).addClass(De),this._config.focus&&this._enforceFocus();var Z=p.default.Event(to,{relatedTarget:_}),ie=function(){x._config.focus&&x._element.focus(),x._isTransitioning=!1,p.default(x._element).trigger(Z)};if(F){var xe=ye.getTransitionDurationFromElement(this._dialog);p.default(this._dialog).one(ye.TRANSITION_END,ie).emulateTransitionEnd(xe)}else ie()},L._enforceFocus=function(){var _=this;p.default(document).off(aa).on(aa,function(x){document!==x.target&&_._element!==x.target&&0===p.default(_._element).has(x.target).length&&_._element.focus()})},L._setEscapeEvent=function(){var _=this;this._isShown?p.default(this._element).on($i,function(x){_._config.keyboard&&27===x.which?(x.preventDefault(),_.hide()):!_._config.keyboard&&27===x.which&&_._triggerBackdropTransition()}):this._isShown||p.default(this._element).off($i)},L._setResizeEvent=function(){var _=this;this._isShown?p.default(window).on(yd,function(x){return _.handleUpdate(x)}):p.default(window).off(yd)},L._hideModal=function(){var _=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._showBackdrop(function(){p.default(document.body).removeClass(le),_._resetAdjustments(),_._resetScrollbar(),p.default(_._element).trigger(rr)})},L._removeBackdrop=function(){this._backdrop&&(p.default(this._backdrop).remove(),this._backdrop=null)},L._showBackdrop=function(_){var x=this,F=p.default(this._element).hasClass(Ee)?Ee:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className="modal-backdrop",F&&this._backdrop.classList.add(F),p.default(this._backdrop).appendTo(document.body),p.default(this._element).on(sa,function(xe){x._ignoreBackdropClick?x._ignoreBackdropClick=!1:xe.target===xe.currentTarget&&("static"===x._config.backdrop?x._triggerBackdropTransition():x.hide())}),F&&ye.reflow(this._backdrop),p.default(this._backdrop).addClass(De),!_)return;if(!F)return void _();var W=ye.getTransitionDurationFromElement(this._backdrop);p.default(this._backdrop).one(ye.TRANSITION_END,_).emulateTransitionEnd(W)}else if(!this._isShown&&this._backdrop){p.default(this._backdrop).removeClass(De);var Z=function(){x._removeBackdrop(),_&&_()};if(p.default(this._element).hasClass(Ee)){var ie=ye.getTransitionDurationFromElement(this._backdrop);p.default(this._backdrop).one(ye.TRANSITION_END,Z).emulateTransitionEnd(ie)}else Z()}else _&&_()},L._adjustDialog=function(){var _=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&_&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!_&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},L._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},L._checkScrollbar=function(){var _=document.body.getBoundingClientRect();this._isBodyOverflowing=Math.round(_.left+_.right)<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},L._setScrollbar=function(){var _=this;if(this._isBodyOverflowing){var x=[].slice.call(document.querySelectorAll(kl)),F=[].slice.call(document.querySelectorAll(dn));p.default(x).each(function(ie,xe){var Ve=xe.style.paddingRight,je=p.default(xe).css("padding-right");p.default(xe).data("padding-right",Ve).css("padding-right",parseFloat(je)+_._scrollbarWidth+"px")}),p.default(F).each(function(ie,xe){var Ve=xe.style.marginRight,je=p.default(xe).css("margin-right");p.default(xe).data("margin-right",Ve).css("margin-right",parseFloat(je)-_._scrollbarWidth+"px")});var W=document.body.style.paddingRight,Z=p.default(document.body).css("padding-right");p.default(document.body).data("padding-right",W).css("padding-right",parseFloat(Z)+this._scrollbarWidth+"px")}p.default(document.body).addClass(le)},L._resetScrollbar=function(){var _=[].slice.call(document.querySelectorAll(kl));p.default(_).each(function(W,Z){var ie=p.default(Z).data("padding-right");p.default(Z).removeData("padding-right"),Z.style.paddingRight=ie||""});var x=[].slice.call(document.querySelectorAll(""+dn));p.default(x).each(function(W,Z){var ie=p.default(Z).data("margin-right");typeof ie<"u"&&p.default(Z).css("margin-right",ie).removeData("margin-right")});var F=p.default(document.body).data("padding-right");p.default(document.body).removeData("padding-right"),document.body.style.paddingRight=F||""},L._getScrollbarWidth=function(){var _=document.createElement("div");_.className="modal-scrollbar-measure",document.body.appendChild(_);var x=_.getBoundingClientRect().width-_.clientWidth;return document.body.removeChild(_),x},N._jQueryInterface=function(_,x){return this.each(function(){var F=p.default(this).data(ft),W=Jt({},Dl,p.default(this).data(),"object"==typeof _&&_?_:{});if(F||(F=new N(this,W),p.default(this).data(ft,F)),"string"==typeof _){if(typeof F[_]>"u")throw new TypeError('No method named "'+_+'"');F[_](x)}else W.show&&F.show(x)})},Jn(N,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return Dl}}]),N}();p.default(document).on(Ce,'[data-toggle="modal"]',function(N){var I,L=this,_=ye.getSelectorFromElement(this);_&&(I=document.querySelector(_));var x=p.default(I).data(ft)?"toggle":Jt({},p.default(I).data(),p.default(this).data());("A"===this.tagName||"AREA"===this.tagName)&&N.preventDefault();var F=p.default(I).one(kr,function(W){W.isDefaultPrevented()||F.one(rr,function(){p.default(L).is(":visible")&&L.focus()})});Wt._jQueryInterface.call(p.default(I),x,this)}),p.default.fn[gt]=Wt._jQueryInterface,p.default.fn[gt].Constructor=Wt,p.default.fn[gt].noConflict=function(){return p.default.fn[gt]=pe,Wt._jQueryInterface};var Ll=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],zf=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,Ed=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i;function ws(N,L,I){if(0===N.length)return N;if(I&&"function"==typeof I)return I(N);for(var x=(new window.DOMParser).parseFromString(N,"text/html"),F=Object.keys(L),W=[].slice.call(x.body.querySelectorAll("*")),Z=function(mt,bt){var _t=W[mt],Yt=_t.nodeName.toLowerCase();if(-1===F.indexOf(_t.nodeName.toLowerCase()))return _t.parentNode.removeChild(_t),"continue";var ko=[].slice.call(_t.attributes),jr=[].concat(L["*"]||[],L[Yt]||[]);ko.forEach(function(Dr){(function qf(N,L){var I=N.nodeName.toLowerCase();if(-1!==L.indexOf(I))return-1===Ll.indexOf(I)||!(!zf.test(N.nodeValue)&&!Ed.test(N.nodeValue));for(var _=L.filter(function(W){return W instanceof RegExp}),x=0,F=_.length;x<F;x++)if(_[x].test(I))return!0;return!1})(Dr,jr)||_t.removeAttribute(Dr.nodeName)})},ie=0,xe=W.length;ie<xe;ie++)Z(ie);return x.body.innerHTML}var hn="tooltip",Ns="bs.tooltip",yo="."+Ns,Uc=p.default.fn[hn],es="bs-tooltip",ts=new RegExp("(^|\\s)"+es+"\\S+","g"),Vc=["sanitize","whiteList","sanitizeFn"],ns="fade",la="show",Ys="show",Qo="hover",Bn="focus",Wf={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},As={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",customClass:"",sanitize:!0,sanitizeFn:null,whiteList:{"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},popperConfig:null},xs={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object",popperConfig:"(null|object)"},wa={HIDE:"hide"+yo,HIDDEN:"hidden"+yo,SHOW:"show"+yo,SHOWN:"shown"+yo,INSERTED:"inserted"+yo,CLICK:"click"+yo,FOCUSIN:"focusin"+yo,FOCUSOUT:"focusout"+yo,MOUSEENTER:"mouseenter"+yo,MOUSELEAVE:"mouseleave"+yo},pr=function(){function N(I,_){if(typeof Qn>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=I,this.config=this._getConfig(_),this.tip=null,this._setListeners()}var L=N.prototype;return L.enable=function(){this._isEnabled=!0},L.disable=function(){this._isEnabled=!1},L.toggleEnabled=function(){this._isEnabled=!this._isEnabled},L.toggle=function(_){if(this._isEnabled)if(_){var x=this.constructor.DATA_KEY,F=p.default(_.currentTarget).data(x);F||(F=new this.constructor(_.currentTarget,this._getDelegateConfig()),p.default(_.currentTarget).data(x,F)),F._activeTrigger.click=!F._activeTrigger.click,F._isWithActiveTrigger()?F._enter(null,F):F._leave(null,F)}else{if(p.default(this.getTipElement()).hasClass(la))return void this._leave(null,this);this._enter(null,this)}},L.dispose=function(){clearTimeout(this._timeout),p.default.removeData(this.element,this.constructor.DATA_KEY),p.default(this.element).off(this.constructor.EVENT_KEY),p.default(this.element).closest(".modal").off("hide.bs.modal",this._hideModalHandler),this.tip&&p.default(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},L.show=function(){var _=this;if("none"===p.default(this.element).css("display"))throw new Error("Please use show on visible elements");var x=p.default.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){p.default(this.element).trigger(x);var F=ye.findShadowRoot(this.element),W=p.default.contains(null!==F?F:this.element.ownerDocument.documentElement,this.element);if(x.isDefaultPrevented()||!W)return;var Z=this.getTipElement(),ie=ye.getUID(this.constructor.NAME);Z.setAttribute("id",ie),this.element.setAttribute("aria-describedby",ie),this.setContent(),this.config.animation&&p.default(Z).addClass(ns);var xe="function"==typeof this.config.placement?this.config.placement.call(this,Z,this.element):this.config.placement,Ve=this._getAttachment(xe);this.addAttachmentClass(Ve);var je=this._getContainer();p.default(Z).data(this.constructor.DATA_KEY,this),p.default.contains(this.element.ownerDocument.documentElement,this.tip)||p.default(Z).appendTo(je),p.default(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new Qn(this.element,Z,this._getPopperConfig(Ve)),p.default(Z).addClass(la),p.default(Z).addClass(this.config.customClass),"ontouchstart"in document.documentElement&&p.default(document.body).children().on("mouseover",null,p.default.noop);var mt=function(){_.config.animation&&_._fixTransition();var Yt=_._hoverState;_._hoverState=null,p.default(_.element).trigger(_.constructor.Event.SHOWN),"out"===Yt&&_._leave(null,_)};if(p.default(this.tip).hasClass(ns)){var bt=ye.getTransitionDurationFromElement(this.tip);p.default(this.tip).one(ye.TRANSITION_END,mt).emulateTransitionEnd(bt)}else mt()}},L.hide=function(_){var x=this,F=this.getTipElement(),W=p.default.Event(this.constructor.Event.HIDE),Z=function(){x._hoverState!==Ys&&F.parentNode&&F.parentNode.removeChild(F),x._cleanTipClass(),x.element.removeAttribute("aria-describedby"),p.default(x.element).trigger(x.constructor.Event.HIDDEN),null!==x._popper&&x._popper.destroy(),_&&_()};if(p.default(this.element).trigger(W),!W.isDefaultPrevented()){if(p.default(F).removeClass(la),"ontouchstart"in document.documentElement&&p.default(document.body).children().off("mouseover",null,p.default.noop),this._activeTrigger.click=!1,this._activeTrigger[Bn]=!1,this._activeTrigger[Qo]=!1,p.default(this.tip).hasClass(ns)){var ie=ye.getTransitionDurationFromElement(F);p.default(F).one(ye.TRANSITION_END,Z).emulateTransitionEnd(ie)}else Z();this._hoverState=""}},L.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},L.isWithContent=function(){return!!this.getTitle()},L.addAttachmentClass=function(_){p.default(this.getTipElement()).addClass(es+"-"+_)},L.getTipElement=function(){return this.tip=this.tip||p.default(this.config.template)[0],this.tip},L.setContent=function(){var _=this.getTipElement();this.setElementContent(p.default(_.querySelectorAll(".tooltip-inner")),this.getTitle()),p.default(_).removeClass(ns+" "+la)},L.setElementContent=function(_,x){"object"!=typeof x||!x.nodeType&&!x.jquery?this.config.html?(this.config.sanitize&&(x=ws(x,this.config.whiteList,this.config.sanitizeFn)),_.html(x)):_.text(x):this.config.html?p.default(x).parent().is(_)||_.empty().append(x):_.text(p.default(x).text())},L.getTitle=function(){var _=this.element.getAttribute("data-original-title");return _||(_="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),_},L._getPopperConfig=function(_){var x=this;return Jt({},{placement:_,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:".arrow"},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(Z){Z.originalPlacement!==Z.placement&&x._handlePopperPlacementChange(Z)},onUpdate:function(Z){return x._handlePopperPlacementChange(Z)}},this.config.popperConfig)},L._getOffset=function(){var _=this,x={};return"function"==typeof this.config.offset?x.fn=function(F){return F.offsets=Jt({},F.offsets,_.config.offset(F.offsets,_.element)),F}:x.offset=this.config.offset,x},L._getContainer=function(){return!1===this.config.container?document.body:ye.isElement(this.config.container)?p.default(this.config.container):p.default(document).find(this.config.container)},L._getAttachment=function(_){return Wf[_.toUpperCase()]},L._setListeners=function(){var _=this;this.config.trigger.split(" ").forEach(function(F){if("click"===F)p.default(_.element).on(_.constructor.Event.CLICK,_.config.selector,function(ie){return _.toggle(ie)});else if("manual"!==F){var W=F===Qo?_.constructor.Event.MOUSEENTER:_.constructor.Event.FOCUSIN,Z=F===Qo?_.constructor.Event.MOUSELEAVE:_.constructor.Event.FOCUSOUT;p.default(_.element).on(W,_.config.selector,function(ie){return _._enter(ie)}).on(Z,_.config.selector,function(ie){return _._leave(ie)})}}),this._hideModalHandler=function(){_.element&&_.hide()},p.default(this.element).closest(".modal").on("hide.bs.modal",this._hideModalHandler),this.config.selector?this.config=Jt({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},L._fixTitle=function(){var _=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==_)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},L._enter=function(_,x){var F=this.constructor.DATA_KEY;(x=x||p.default(_.currentTarget).data(F))||(x=new this.constructor(_.currentTarget,this._getDelegateConfig()),p.default(_.currentTarget).data(F,x)),_&&(x._activeTrigger["focusin"===_.type?Bn:Qo]=!0),p.default(x.getTipElement()).hasClass(la)||x._hoverState===Ys?x._hoverState=Ys:(clearTimeout(x._timeout),x._hoverState=Ys,x.config.delay&&x.config.delay.show?x._timeout=setTimeout(function(){x._hoverState===Ys&&x.show()},x.config.delay.show):x.show())},L._leave=function(_,x){var F=this.constructor.DATA_KEY;if((x=x||p.default(_.currentTarget).data(F))||(x=new this.constructor(_.currentTarget,this._getDelegateConfig()),p.default(_.currentTarget).data(F,x)),_&&(x._activeTrigger["focusout"===_.type?Bn:Qo]=!1),!x._isWithActiveTrigger()){if(clearTimeout(x._timeout),x._hoverState="out",!x.config.delay||!x.config.delay.hide)return void x.hide();x._timeout=setTimeout(function(){"out"===x._hoverState&&x.hide()},x.config.delay.hide)}},L._isWithActiveTrigger=function(){for(var _ in this._activeTrigger)if(this._activeTrigger[_])return!0;return!1},L._getConfig=function(_){var x=p.default(this.element).data();return Object.keys(x).forEach(function(F){-1!==Vc.indexOf(F)&&delete x[F]}),"number"==typeof(_=Jt({},this.constructor.Default,x,"object"==typeof _&&_?_:{})).delay&&(_.delay={show:_.delay,hide:_.delay}),"number"==typeof _.title&&(_.title=_.title.toString()),"number"==typeof _.content&&(_.content=_.content.toString()),ye.typeCheckConfig(hn,_,this.constructor.DefaultType),_.sanitize&&(_.template=ws(_.template,_.whiteList,_.sanitizeFn)),_},L._getDelegateConfig=function(){var _={};if(this.config)for(var x in this.config)this.constructor.Default[x]!==this.config[x]&&(_[x]=this.config[x]);return _},L._cleanTipClass=function(){var _=p.default(this.getTipElement()),x=_.attr("class").match(ts);null!==x&&x.length&&_.removeClass(x.join(""))},L._handlePopperPlacementChange=function(_){this.tip=_.instance.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(_.placement))},L._fixTransition=function(){var _=this.getTipElement(),x=this.config.animation;null===_.getAttribute("x-placement")&&(p.default(_).removeClass(ns),this.config.animation=!1,this.hide(),this.show(),this.config.animation=x)},N._jQueryInterface=function(_){return this.each(function(){var x=p.default(this),F=x.data(Ns),W="object"==typeof _&&_;if((F||!/dispose|hide/.test(_))&&(F||(F=new N(this,W),x.data(Ns,F)),"string"==typeof _)){if(typeof F[_]>"u")throw new TypeError('No method named "'+_+'"');F[_]()}})},Jn(N,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return As}},{key:"NAME",get:function(){return hn}},{key:"DATA_KEY",get:function(){return Ns}},{key:"Event",get:function(){return wa}},{key:"EVENT_KEY",get:function(){return yo}},{key:"DefaultType",get:function(){return xs}}]),N}();p.default.fn[hn]=pr._jQueryInterface,p.default.fn[hn].Constructor=pr,p.default.fn[hn].noConflict=function(){return p.default.fn[hn]=Uc,pr._jQueryInterface};var os="popover",Os="bs.popover",Co="."+Os,Ml=p.default.fn[os],Bl="bs-popover",zc=new RegExp("(^|\\s)"+Bl+"\\S+","g"),Gf=Jt({},pr.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),Wc=Jt({},pr.DefaultType,{content:"(string|element|function)"}),Xf={HIDE:"hide"+Co,HIDDEN:"hidden"+Co,SHOW:"show"+Co,SHOWN:"shown"+Co,INSERTED:"inserted"+Co,CLICK:"click"+Co,FOCUSIN:"focusin"+Co,FOCUSOUT:"focusout"+Co,MOUSEENTER:"mouseenter"+Co,MOUSELEAVE:"mouseleave"+Co},Fl=function(N){function L(){return N.apply(this,arguments)||this}!function ao(N,L){N.prototype=Object.create(L.prototype),N.prototype.constructor=N,Io(N,L)}(L,N);var I=L.prototype;return I.isWithContent=function(){return this.getTitle()||this._getContent()},I.addAttachmentClass=function(x){p.default(this.getTipElement()).addClass(Bl+"-"+x)},I.getTipElement=function(){return this.tip=this.tip||p.default(this.config.template)[0],this.tip},I.setContent=function(){var x=p.default(this.getTipElement());this.setElementContent(x.find(".popover-header"),this.getTitle());var F=this._getContent();"function"==typeof F&&(F=F.call(this.element)),this.setElementContent(x.find(".popover-body"),F),x.removeClass("fade show")},I._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},I._cleanTipClass=function(){var x=p.default(this.getTipElement()),F=x.attr("class").match(zc);null!==F&&F.length>0&&x.removeClass(F.join(""))},L._jQueryInterface=function(x){return this.each(function(){var F=p.default(this).data(Os),W="object"==typeof x?x:null;if((F||!/dispose|hide/.test(x))&&(F||(F=new L(this,W),p.default(this).data(Os,F)),"string"==typeof x)){if(typeof F[x]>"u")throw new TypeError('No method named "'+x+'"');F[x]()}})},Jn(L,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return Gf}},{key:"NAME",get:function(){return os}},{key:"DATA_KEY",get:function(){return Os}},{key:"Event",get:function(){return Xf}},{key:"EVENT_KEY",get:function(){return Co}},{key:"DefaultType",get:function(){return Wc}}]),L}(pr);p.default.fn[os]=Fl._jQueryInterface,p.default.fn[os].Constructor=Fl,p.default.fn[os].noConflict=function(){return p.default.fn[os]=Ml,Fl._jQueryInterface};var Cr="scrollspy",Gs="bs.scrollspy",jl="."+Gs,Jf=p.default.fn[Cr],Aa="active",Hl="activate"+jl,Zf="scroll"+jl,eh="load"+jl+".data-api",Yc="position",xa=".nav, .list-group",Xs=".nav-link",Gc=".list-group-item",Nd={offset:10,method:"auto",target:""},Jc={offset:"number",method:"string",target:"(string|element)"},Js=function(){function N(I,_){var x=this;this._element=I,this._scrollElement="BODY"===I.tagName?window:I,this._config=this._getConfig(_),this._selector=this._config.target+" "+Xs+","+this._config.target+" "+Gc+","+this._config.target+" .dropdown-item",this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,p.default(this._scrollElement).on(Zf,function(F){return x._process(F)}),this.refresh(),this._process()}var L=N.prototype;return L.refresh=function(){var _=this,F="auto"===this._config.method?this._scrollElement===this._scrollElement.window?"offset":Yc:this._config.method,W=F===Yc?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),[].slice.call(document.querySelectorAll(this._selector)).map(function(ie){var xe,Ve=ye.getSelectorFromElement(ie);if(Ve&&(xe=document.querySelector(Ve)),xe){var je=xe.getBoundingClientRect();if(je.width||je.height)return[p.default(xe)[F]().top+W,Ve]}return null}).filter(Boolean).sort(function(ie,xe){return ie[0]-xe[0]}).forEach(function(ie){_._offsets.push(ie[0]),_._targets.push(ie[1])})},L.dispose=function(){p.default.removeData(this._element,Gs),p.default(this._scrollElement).off(jl),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},L._getConfig=function(_){if("string"!=typeof(_=Jt({},Nd,"object"==typeof _&&_?_:{})).target&&ye.isElement(_.target)){var x=p.default(_.target).attr("id");x||(x=ye.getUID(Cr),p.default(_.target).attr("id",x)),_.target="#"+x}return ye.typeCheckConfig(Cr,_,Jc),_},L._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},L._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},L._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},L._process=function(){var _=this._getScrollTop()+this._config.offset,x=this._getScrollHeight(),F=this._config.offset+x-this._getOffsetHeight();if(this._scrollHeight!==x&&this.refresh(),_>=F){var W=this._targets[this._targets.length-1];this._activeTarget!==W&&this._activate(W)}else{if(this._activeTarget&&_<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var Z=this._offsets.length;Z--;)this._activeTarget!==this._targets[Z]&&_>=this._offsets[Z]&&(typeof this._offsets[Z+1]>"u"||_<this._offsets[Z+1])&&this._activate(this._targets[Z])}},L._activate=function(_){this._activeTarget=_,this._clear();var x=this._selector.split(",").map(function(W){return W+'[data-target="'+_+'"],'+W+'[href="'+_+'"]'}),F=p.default([].slice.call(document.querySelectorAll(x.join(","))));F.hasClass("dropdown-item")?(F.closest(".dropdown").find(".dropdown-toggle").addClass(Aa),F.addClass(Aa)):(F.addClass(Aa),F.parents(xa).prev(Xs+", "+Gc).addClass(Aa),F.parents(xa).prev(".nav-item").children(Xs).addClass(Aa)),p.default(this._scrollElement).trigger(Hl,{relatedTarget:_})},L._clear=function(){[].slice.call(document.querySelectorAll(this._selector)).filter(function(_){return _.classList.contains(Aa)}).forEach(function(_){return _.classList.remove(Aa)})},N._jQueryInterface=function(_){return this.each(function(){var x=p.default(this).data(Gs);if(x||(x=new N(this,"object"==typeof _&&_),p.default(this).data(Gs,x)),"string"==typeof _){if(typeof x[_]>"u")throw new TypeError('No method named "'+_+'"');x[_]()}})},Jn(N,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return Nd}}]),N}();p.default(window).on(eh,function(){for(var N=[].slice.call(document.querySelectorAll('[data-spy="scroll"]')),I=N.length;I--;){var _=p.default(N[I]);Js._jQueryInterface.call(_,_.data())}}),p.default.fn[Cr]=Js._jQueryInterface,p.default.fn[Cr].Constructor=Js,p.default.fn[Cr].noConflict=function(){return p.default.fn[Cr]=Jf,Js._jQueryInterface};var is="tab",Rs="bs.tab",as="."+Rs,ss=p.default.fn[is],ls="active",Zc="hide"+as,eu="hidden"+as,tu="show"+as,nu="shown"+as,Rd="click"+as+".data-api",Zs=".active",ru="> li > .active",el=function(){function N(I){this._element=I}var L=N.prototype;return L.show=function(){var _=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&p.default(this._element).hasClass(ls)||p.default(this._element).hasClass("disabled")||this._element.hasAttribute("disabled"))){var x,F,W=p.default(this._element).closest(".nav, .list-group")[0],Z=ye.getSelectorFromElement(this._element);if(W){var ie="UL"===W.nodeName||"OL"===W.nodeName?ru:Zs;F=(F=p.default.makeArray(p.default(W).find(ie)))[F.length-1]}var xe=p.default.Event(Zc,{relatedTarget:this._element}),Ve=p.default.Event(tu,{relatedTarget:F});if(F&&p.default(F).trigger(xe),p.default(this._element).trigger(Ve),!Ve.isDefaultPrevented()&&!xe.isDefaultPrevented()){Z&&(x=document.querySelector(Z)),this._activate(this._element,W);var je=function(){var bt=p.default.Event(eu,{relatedTarget:_._element}),_t=p.default.Event(nu,{relatedTarget:F});p.default(F).trigger(bt),p.default(_._element).trigger(_t)};x?this._activate(x,x.parentNode,je):je()}}},L.dispose=function(){p.default.removeData(this._element,Rs),this._element=null},L._activate=function(_,x,F){var W=this,ie=(!x||"UL"!==x.nodeName&&"OL"!==x.nodeName?p.default(x).children(Zs):p.default(x).find(ru))[0],xe=F&&ie&&p.default(ie).hasClass("fade"),Ve=function(){return W._transitionComplete(_,ie,F)};if(ie&&xe){var je=ye.getTransitionDurationFromElement(ie);p.default(ie).removeClass("show").one(ye.TRANSITION_END,Ve).emulateTransitionEnd(je)}else Ve()},L._transitionComplete=function(_,x,F){if(x){p.default(x).removeClass(ls);var W=p.default(x.parentNode).find("> .dropdown-menu .active")[0];W&&p.default(W).removeClass(ls),"tab"===x.getAttribute("role")&&x.setAttribute("aria-selected",!1)}p.default(_).addClass(ls),"tab"===_.getAttribute("role")&&_.setAttribute("aria-selected",!0),ye.reflow(_),_.classList.contains("fade")&&_.classList.add("show");var Z=_.parentNode;if(Z&&"LI"===Z.nodeName&&(Z=Z.parentNode),Z&&p.default(Z).hasClass("dropdown-menu")){var ie=p.default(_).closest(".dropdown")[0];if(ie){var xe=[].slice.call(ie.querySelectorAll(".dropdown-toggle"));p.default(xe).addClass(ls)}_.setAttribute("aria-expanded",!0)}F&&F()},N._jQueryInterface=function(_){return this.each(function(){var x=p.default(this),F=x.data(Rs);if(F||(F=new N(this),x.data(Rs,F)),"string"==typeof _){if(typeof F[_]>"u")throw new TypeError('No method named "'+_+'"');F[_]()}})},Jn(N,null,[{key:"VERSION",get:function(){return"4.6.2"}}]),N}();p.default(document).on(Rd,'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',function(N){N.preventDefault(),el._jQueryInterface.call(p.default(this),"show")}),p.default.fn[is]=el._jQueryInterface,p.default.fn[is].Constructor=el,p.default.fn[is].noConflict=function(){return p.default.fn[is]=ss,el._jQueryInterface};var cs="toast",tl="bs.toast",ks="."+tl,Dd=p.default.fn[cs],Ds="show",nl="showing",Ls="click.dismiss"+ks,li="hide"+ks,Ld="hidden"+ks,ou="show"+ks,iu="shown"+ks,Vl={animation:!0,autohide:!0,delay:500},Ra={animation:"boolean",autohide:"boolean",delay:"number"},Is=function(){function N(I,_){this._element=I,this._config=this._getConfig(_),this._timeout=null,this._setListeners()}var L=N.prototype;return L.show=function(){var _=this,x=p.default.Event(ou);if(p.default(this._element).trigger(x),!x.isDefaultPrevented()){this._clearTimeout(),this._config.animation&&this._element.classList.add("fade");var F=function(){_._element.classList.remove(nl),_._element.classList.add(Ds),p.default(_._element).trigger(iu),_._config.autohide&&(_._timeout=setTimeout(function(){_.hide()},_._config.delay))};if(this._element.classList.remove("hide"),ye.reflow(this._element),this._element.classList.add(nl),this._config.animation){var W=ye.getTransitionDurationFromElement(this._element);p.default(this._element).one(ye.TRANSITION_END,F).emulateTransitionEnd(W)}else F()}},L.hide=function(){if(this._element.classList.contains(Ds)){var _=p.default.Event(li);p.default(this._element).trigger(_),!_.isDefaultPrevented()&&this._close()}},L.dispose=function(){this._clearTimeout(),this._element.classList.contains(Ds)&&this._element.classList.remove(Ds),p.default(this._element).off(Ls),p.default.removeData(this._element,tl),this._element=null,this._config=null},L._getConfig=function(_){return _=Jt({},Vl,p.default(this._element).data(),"object"==typeof _&&_?_:{}),ye.typeCheckConfig(cs,_,this.constructor.DefaultType),_},L._setListeners=function(){var _=this;p.default(this._element).on(Ls,'[data-dismiss="toast"]',function(){return _.hide()})},L._close=function(){var _=this,x=function(){_._element.classList.add("hide"),p.default(_._element).trigger(Ld)};if(this._element.classList.remove(Ds),this._config.animation){var F=ye.getTransitionDurationFromElement(this._element);p.default(this._element).one(ye.TRANSITION_END,x).emulateTransitionEnd(F)}else x()},L._clearTimeout=function(){clearTimeout(this._timeout),this._timeout=null},N._jQueryInterface=function(_){return this.each(function(){var x=p.default(this),F=x.data(tl);if(F||(F=new N(this,"object"==typeof _&&_),x.data(tl,F)),"string"==typeof _){if(typeof F[_]>"u")throw new TypeError('No method named "'+_+'"');F[_](this)}})},Jn(N,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"DefaultType",get:function(){return Ra}},{key:"Default",get:function(){return Vl}}]),N}();p.default.fn[cs]=Is._jQueryInterface,p.default.fn[cs].Constructor=Is,p.default.fn[cs].noConflict=function(){return p.default.fn[cs]=Dd,Is._jQueryInterface},Ue.Alert=Re,Ue.Button=yn,Ue.Carousel=zr,Ue.Collapse=xr,Ue.Dropdown=pt,Ue.Modal=Wt,Ue.Popover=Fl,Ue.Scrollspy=Js,Ue.Tab=el,Ue.Toast=Is,Ue.Tooltip=pr,Ue.Util=ye,Object.defineProperty(Ue,"__esModule",{value:!0})}),function(Ue,jn){"object"==typeof exports&&typeof module<"u"?jn(exports,require("jquery")):"function"==typeof define&&define.amd?define(["exports","jquery"],jn):jn((Ue=typeof globalThis<"u"?globalThis:Ue||self).adminlte={},Ue.jQuery)}(this,function(Ue,jn){"use strict";function zn(pe){return pe&&"object"==typeof pe&&"default"in pe?pe:{default:pe}}var p=zn(jn),kn="CardRefresh",Jn="lte.cardrefresh",Jt="."+Jn,ao=p.default.fn[kn],Io="loaded"+Jt,Xo="overlay.added"+Jt,Si="overlay.removed"+Jt,ut='[data-card-widget="card-refresh"]',Dt={source:"",sourceSelector:"",params:{},trigger:ut,content:".card-body",loadInContent:!0,loadOnInit:!0,loadErrorTemplate:!0,responseType:"",overlayTemplate:'<div class="overlay"><i class="fas fa-2x fa-sync-alt fa-spin"></i></div>',errorTemplate:'<span class="text-danger"></span>',onLoadStart:function(){},onLoadDone:function(be){return be},onLoadFail:function(be,ve,j){}},zt=function(){function pe(ve,j){if(this._element=ve,this._parent=ve.parents(".card").first(),this._settings=p.default.extend({},Dt,j),this._overlay=p.default(this._settings.overlayTemplate),ve.hasClass("card")&&(this._parent=ve),""===this._settings.source)throw new Error("Source url was not defined. Please specify a url in your CardRefresh source option.")}var be=pe.prototype;return be.load=function(){var j=this;this._addOverlay(),this._settings.onLoadStart.call(p.default(this)),p.default.get(this._settings.source,this._settings.params,function(X){j._settings.loadInContent&&(""!==j._settings.sourceSelector&&(X=p.default(X).find(j._settings.sourceSelector).html()),j._parent.find(j._settings.content).html(X)),j._settings.onLoadDone.call(p.default(j),X),j._removeOverlay()},""!==this._settings.responseType&&this._settings.responseType).fail(function(X,le,Ee){if(j._removeOverlay(),j._settings.loadErrorTemplate){var De=p.default(j._settings.errorTemplate).text(Ee);j._parent.find(j._settings.content).empty().append(De)}j._settings.onLoadFail.call(p.default(j),X,le,Ee)}),p.default(this._element).trigger(p.default.Event(Io))},be._addOverlay=function(){this._parent.append(this._overlay),p.default(this._element).trigger(p.default.Event(Xo))},be._removeOverlay=function(){this._parent.find(this._overlay).remove(),p.default(this._element).trigger(p.default.Event(Si))},be._init=function(){var j=this;p.default(this).find(this._settings.trigger).on("click",function(){j.load()}),this._settings.loadOnInit&&this.load()},pe._jQueryInterface=function(j){var X=p.default(this).data(Jn),le=p.default.extend({},Dt,p.default(this).data());X||(X=new pe(p.default(this),le),p.default(this).data(Jn,"string"==typeof j?X:j)),"string"==typeof j&&/load/.test(j)?X[j]():X._init(p.default(this))},pe}();p.default(document).on("click",ut,function(pe){pe&&pe.preventDefault(),zt._jQueryInterface.call(p.default(this),"load")}),p.default(function(){p.default(ut).each(function(){zt._jQueryInterface.call(p.default(this))})}),p.default.fn[kn]=zt._jQueryInterface,p.default.fn[kn].Constructor=zt,p.default.fn[kn].noConflict=function(){return p.default.fn[kn]=ao,zt._jQueryInterface};var ye="CardWidget",Tr="lte.cardwidget",sn="."+Tr,qt=p.default.fn[ye],Ne="expanded"+sn,Ft="collapsed"+sn,T="maximized"+sn,Po="minimized"+sn,Ke="removed"+sn,Ki="collapsed-card",Ae="collapsing-card",At="expanding-card",Mo="was-collapsed",Re="maximized-card",so='[data-card-widget="remove"]',Vr='[data-card-widget="collapse"]',No='[data-card-widget="maximize"]',Ut=".card-header",tn=".card-body",O=".card-footer",wi={animationSpeed:"normal",collapseTrigger:Vr,removeTrigger:so,maximizeTrigger:No,collapseIcon:"fa-minus",expandIcon:"fa-plus",maximizeIcon:"fa-expand",minimizeIcon:"fa-compress"},Bo=function(){function pe(ve,j){this._element=ve,this._parent=ve.parents(".card").first(),ve.hasClass("card")&&(this._parent=ve),this._settings=p.default.extend({},wi,j)}var be=pe.prototype;return be.collapse=function(){var j=this;this._parent.addClass(Ae).children(tn+", "+O).slideUp(this._settings.animationSpeed,function(){j._parent.addClass(Ki).removeClass(Ae)}),this._parent.find("> "+Ut+" "+this._settings.collapseTrigger+" ."+this._settings.collapseIcon).addClass(this._settings.expandIcon).removeClass(this._settings.collapseIcon),this._element.trigger(p.default.Event(Ft),this._parent)},be.expand=function(){var j=this;this._parent.addClass(At).children(tn+", "+O).slideDown(this._settings.animationSpeed,function(){j._parent.removeClass(Ki).removeClass(At)}),this._parent.find("> "+Ut+" "+this._settings.collapseTrigger+" ."+this._settings.expandIcon).addClass(this._settings.collapseIcon).removeClass(this._settings.expandIcon),this._element.trigger(p.default.Event(Ne),this._parent)},be.remove=function(){this._parent.slideUp(),this._element.trigger(p.default.Event(Ke),this._parent)},be.toggle=function(){this._parent.hasClass(Ki)?this.expand():this.collapse()},be.maximize=function(){this._parent.find(this._settings.maximizeTrigger+" ."+this._settings.maximizeIcon).addClass(this._settings.minimizeIcon).removeClass(this._settings.maximizeIcon),this._parent.css({height:this._parent.height(),width:this._parent.width(),transition:"all .15s"}).delay(150).queue(function(){var j=p.default(this);j.addClass(Re),p.default("html").addClass(Re),j.hasClass(Ki)&&j.addClass(Mo),j.dequeue()}),this._element.trigger(p.default.Event(T),this._parent)},be.minimize=function(){this._parent.find(this._settings.maximizeTrigger+" ."+this._settings.minimizeIcon).addClass(this._settings.maximizeIcon).removeClass(this._settings.minimizeIcon),this._parent.css("cssText","height: "+this._parent[0].style.height+" !important; width: "+this._parent[0].style.width+" !important; transition: all .15s;").delay(10).queue(function(){var j=p.default(this);j.removeClass(Re),p.default("html").removeClass(Re),j.css({height:"inherit",width:"inherit"}),j.hasClass(Mo)&&j.removeClass(Mo),j.dequeue()}),this._element.trigger(p.default.Event(Po),this._parent)},be.toggleMaximize=function(){this._parent.hasClass(Re)?this.minimize():this.maximize()},be._init=function(j){var X=this;this._parent=j,p.default(this).find(this._settings.collapseTrigger).click(function(){X.toggle()}),p.default(this).find(this._settings.maximizeTrigger).click(function(){X.toggleMaximize()}),p.default(this).find(this._settings.removeTrigger).click(function(){X.remove()})},pe._jQueryInterface=function(j){var X=p.default(this).data(Tr),le=p.default.extend({},wi,p.default(this).data());X||(X=new pe(p.default(this),le),p.default(this).data(Tr,"string"==typeof j?X:j)),"string"==typeof j&&/collapse|expand|remove|toggle|maximize|minimize|toggleMaximize/.test(j)?X[j]():"object"==typeof j&&X._init(p.default(this))},pe}();p.default(document).on("click",Vr,function(pe){pe&&pe.preventDefault(),Bo._jQueryInterface.call(p.default(this),"toggle")}),p.default(document).on("click",so,function(pe){pe&&pe.preventDefault(),Bo._jQueryInterface.call(p.default(this),"remove")}),p.default(document).on("click",No,function(pe){pe&&pe.preventDefault(),Bo._jQueryInterface.call(p.default(this),"toggleMaximize")}),p.default.fn[ye]=Bo._jQueryInterface,p.default.fn[ye].Constructor=Bo,p.default.fn[ye].noConflict=function(){return p.default.fn[ye]=qt,Bo._jQueryInterface};var Yi="ControlSidebar",ma="lte.controlsidebar",Bt="."+ma,Zt=p.default.fn[Yi],wt="collapsed"+Bt,de="collapsed-done"+Bt,_s="expanded"+Bt,qn=".control-sidebar",tt=".control-sidebar-content",Fo='[data-widget="control-sidebar"]',yn=".main-header",Ir=".main-footer",Gt="control-sidebar-animate",vn="control-sidebar-open",wn="control-sidebar-slide-open",vr="layout-fixed",Zn={controlsidebarSlide:!0,scrollbarTheme:"os-theme-light",scrollbarAutoHide:"l",target:qn,animationSpeed:300},lo=function(){function pe(ve,j){this._element=ve,this._config=j}var be=pe.prototype;return be.collapse=function(){var j=this,X=p.default("body"),le=p.default("html");this._config.controlsidebarSlide?(le.addClass(Gt),X.removeClass(wn).delay(300).queue(function(){p.default(qn).hide(),le.removeClass(Gt),p.default(this).dequeue()})):X.removeClass(vn),p.default(this._element).trigger(p.default.Event(wt)),setTimeout(function(){p.default(j._element).trigger(p.default.Event(de))},this._config.animationSpeed)},be.show=function(j){void 0===j&&(j=!1);var X=p.default("body"),le=p.default("html");j&&p.default(qn).hide(),this._config.controlsidebarSlide?(le.addClass(Gt),p.default(this._config.target).show().delay(10).queue(function(){X.addClass(wn).delay(300).queue(function(){le.removeClass(Gt),p.default(this).dequeue()}),p.default(this).dequeue()})):X.addClass(vn),this._fixHeight(),this._fixScrollHeight(),p.default(this._element).trigger(p.default.Event(_s))},be.toggle=function(){var j=p.default("body"),le=!p.default(this._config.target).is(":visible"),Ee=j.hasClass(vn)||j.hasClass(wn),De=le&&(j.hasClass(vn)||j.hasClass(wn));le||De?this.show(le):Ee&&this.collapse()},be._init=function(){var j=this,X=p.default("body");X.hasClass(vn)||X.hasClass(wn)?(p.default(qn).not(this._config.target).hide(),p.default(this._config.target).css("display","block")):p.default(qn).hide(),this._fixHeight(),this._fixScrollHeight(),p.default(window).resize(function(){j._fixHeight(),j._fixScrollHeight()}),p.default(window).scroll(function(){var Ee=p.default("body");(Ee.hasClass(vn)||Ee.hasClass(wn))&&j._fixScrollHeight()})},be._isNavbarFixed=function(){var j=p.default("body");return j.hasClass("layout-navbar-fixed")||j.hasClass("layout-sm-navbar-fixed")||j.hasClass("layout-md-navbar-fixed")||j.hasClass("layout-lg-navbar-fixed")||j.hasClass("layout-xl-navbar-fixed")},be._isFooterFixed=function(){var j=p.default("body");return j.hasClass("layout-footer-fixed")||j.hasClass("layout-sm-footer-fixed")||j.hasClass("layout-md-footer-fixed")||j.hasClass("layout-lg-footer-fixed")||j.hasClass("layout-xl-footer-fixed")},be._fixScrollHeight=function(){var j=p.default("body"),X=p.default(this._config.target);if(j.hasClass(vr)){var le={scroll:p.default(document).height(),window:p.default(window).height(),header:p.default(yn).outerHeight(),footer:p.default(Ir).outerHeight()},Ee={bottom:Math.abs(le.window+p.default(window).scrollTop()-le.scroll),top:p.default(window).scrollTop()},De=this._isNavbarFixed()&&"fixed"===p.default(yn).css("position"),vt=this._isFooterFixed()&&"fixed"===p.default(Ir).css("position"),Vt=p.default(this._config.target+", "+this._config.target+" "+tt);if(0===Ee.top&&0===Ee.bottom)X.css({bottom:le.footer,top:le.header}),Vt.css("height",le.window-(le.header+le.footer));else if(Ee.bottom<=le.footer)if(!1===vt){var Le=le.header-Ee.top;X.css("bottom",le.footer-Ee.bottom).css("top",Le>=0?Le:0),Vt.css("height",le.window-(le.footer-Ee.bottom))}else X.css("bottom",le.footer);else Ee.top<=le.header?!1===De?(X.css("top",le.header-Ee.top),Vt.css("height",le.window-(le.header-Ee.top))):X.css("top",le.header):!1===De?(X.css("top",0),Vt.css("height",le.window)):X.css("top",le.header);vt&&De?(Vt.css("height","100%"),X.css("height","")):(vt||De)&&(Vt.css("height","100%"),Vt.css("height",""))}},be._fixHeight=function(){var j=p.default("body"),X=p.default(this._config.target+" "+tt);if(j.hasClass(vr)){var le_window=p.default(window).height(),le_header=p.default(yn).outerHeight(),le_footer=p.default(Ir).outerHeight(),Ee=le_window-le_header;this._isFooterFixed()&&"fixed"===p.default(Ir).css("position")&&(Ee=le_window-le_header-le_footer),X.css("height",Ee),typeof p.default.fn.overlayScrollbars<"u"&&X.overlayScrollbars({className:this._config.scrollbarTheme,sizeAutoCapable:!0,scrollbars:{autoHide:this._config.scrollbarAutoHide,clickScrolling:!0}})}else X.attr("style","")},pe._jQueryInterface=function(j){return this.each(function(){var X=p.default(this).data(ma),le=p.default.extend({},Zn,p.default(this).data());if(X||(X=new pe(this,le),p.default(this).data(ma,X)),"undefined"===X[j])throw new Error(j+" is not a function");X[j]()})},pe}();p.default(document).on("click",Fo,function(pe){pe.preventDefault(),lo._jQueryInterface.call(p.default(this),"toggle")}),p.default(document).ready(function(){lo._jQueryInterface.call(p.default(Fo),"_init")}),p.default.fn[Yi]=lo._jQueryInterface,p.default.fn[Yi].Constructor=lo,p.default.fn[Yi].noConflict=function(){return p.default.fn[Yi]=Zt,lo._jQueryInterface};var xt="DirectChat",sr="lte.directchat",$a=p.default.fn[xt],Qi="toggled."+sr,Pt=function(){function pe(ve){this._element=ve}return pe.prototype.toggle=function(){p.default(this._element).parents(".direct-chat").first().toggleClass("direct-chat-contacts-open"),p.default(this._element).trigger(p.default.Event(Qi))},pe._jQueryInterface=function(j){return this.each(function(){var X=p.default(this).data(sr);X||(X=new pe(p.default(this)),p.default(this).data(sr,X)),X[j]()})},pe}();p.default(document).on("click",'[data-widget="chat-pane-toggle"]',function(pe){pe&&pe.preventDefault(),Pt._jQueryInterface.call(p.default(this),"toggle")}),p.default.fn[xt]=Pt._jQueryInterface,p.default.fn[xt].Constructor=Pt,p.default.fn[xt].noConflict=function(){return p.default.fn[xt]=$a,Pt._jQueryInterface};var nt="Dropdown",$o="lte.dropdown",Va=p.default.fn[nt],Kn=".dropdown-menu",ga='[data-toggle="dropdown"]',ti={},Nn=function(){function pe(ve,j){this._config=j,this._element=ve}var be=pe.prototype;return be.toggleSubmenu=function(){this._element.siblings().show().toggleClass("show"),this._element.next().hasClass("show")||this._element.parents(Kn).first().find(".show").removeClass("show").hide(),this._element.parents("li.nav-item.dropdown.show").on("hidden.bs.dropdown",function(){p.default(".dropdown-submenu .show").removeClass("show").hide()})},be.fixPosition=function(){var j=p.default(".dropdown-menu.show");if(0!==j.length){j.hasClass("dropdown-menu-right")?j.css({left:"inherit",right:0}):j.css({left:0,right:"inherit"});var X=j.offset(),le=j.width(),Ee=p.default(window).width()-X.left;X.left<0?j.css({left:"inherit",right:X.left-5}):Ee<le&&j.css({left:"inherit",right:0})}},pe._jQueryInterface=function(j){return this.each(function(){var X=p.default(this).data($o),le=p.default.extend({},ti,p.default(this).data());X||(X=new pe(p.default(this),le),p.default(this).data($o,X)),("toggleSubmenu"===j||"fixPosition"===j)&&X[j]()})},pe}();p.default(Kn+" "+ga).on("click",function(pe){pe.preventDefault(),pe.stopPropagation(),Nn._jQueryInterface.call(p.default(this),"toggleSubmenu")}),p.default(".navbar "+ga).on("click",function(pe){pe.preventDefault(),!p.default(pe.target).parent().hasClass("dropdown-submenu")&&setTimeout(function(){Nn._jQueryInterface.call(p.default(this),"fixPosition")},1)}),p.default.fn[nt]=Nn._jQueryInterface,p.default.fn[nt].Constructor=Nn,p.default.fn[nt].noConflict=function(){return p.default.fn[nt]=Va,Nn._jQueryInterface};var Ar="ExpandableTable",ni="lte.expandableTable",va="."+ni,Xi=p.default.fn[Ar],ys="expanded"+va,za="collapsed"+va,Cn=".expandable-body",un='[data-widget="expandable-table"]',zr="aria-expanded",Hn=function(){function pe(ve,j){this._options=j,this._element=ve}var be=pe.prototype;return be.init=function(){p.default(un).each(function(j,X){var le=p.default(X).attr(zr),Ee=p.default(X).next(Cn).children().first().children();"true"===le?Ee.show():"false"===le&&(Ee.hide(),Ee.parent().parent().addClass("d-none"))})},be.toggleRow=function(){var j=this._element;"TR"!==j[0].nodeName&&"TR"!==(j=j.parent())[0].nodeName&&(j=j.parent());var le=j.attr(zr),Ee=j.next(Cn).children().first().children();Ee.stop(),"true"===le?(Ee.slideUp(500,function(){j.next(Cn).addClass("d-none")}),j.attr(zr,"false"),j.trigger(p.default.Event(za))):"false"===le&&(j.next(Cn).removeClass("d-none"),Ee.slideDown(500),j.attr(zr,"true"),j.trigger(p.default.Event(ys)))},pe._jQueryInterface=function(j){return this.each(function(){var X=p.default(this).data(ni);X||(X=new pe(p.default(this)),p.default(this).data(ni,X)),"string"==typeof j&&/init|toggleRow/.test(j)&&X[j]()})},pe}();p.default(".expandable-table").ready(function(){Hn._jQueryInterface.call(p.default(this),"init")}),p.default(document).on("click",un,function(){Hn._jQueryInterface.call(p.default(this),"toggleRow")}),p.default.fn[Ar]=Hn._jQueryInterface,p.default.fn[Ar].Constructor=Hn,p.default.fn[Ar].noConflict=function(){return p.default.fn[Ar]=Xi,Hn._jQueryInterface};var qr="Fullscreen",co="lte.fullscreen",Uo=p.default.fn[qr],lr='[data-widget="fullscreen"]',ri=lr+" i",Pr={minimizeIcon:"fa-compress-arrows-alt",maximizeIcon:"fa-expand-arrows-alt"},$n=function(){function pe(ve,j){this.element=ve,this.options=p.default.extend({},Pr,j)}var be=pe.prototype;return be.toggle=function(){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?this.windowed():this.fullscreen()},be.toggleIcon=function(){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?p.default(ri).removeClass(this.options.maximizeIcon).addClass(this.options.minimizeIcon):p.default(ri).removeClass(this.options.minimizeIcon).addClass(this.options.maximizeIcon)},be.fullscreen=function(){document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.webkitRequestFullscreen?document.documentElement.webkitRequestFullscreen():document.documentElement.msRequestFullscreen&&document.documentElement.msRequestFullscreen()},be.windowed=function(){document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},pe._jQueryInterface=function(j){var X=p.default(this).data(co);X||(X=p.default(this).data());var le=p.default.extend({},Pr,"object"==typeof j?j:X),Ee=new pe(p.default(this),le);p.default(this).data(co,"object"==typeof j?j:X),"string"==typeof j&&/toggle|toggleIcon|fullscreen|windowed/.test(j)?Ee[j]():Ee.init()},pe}();p.default(document).on("click",lr,function(){$n._jQueryInterface.call(p.default(this),"toggle")}),p.default(document).on("webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange",function(){$n._jQueryInterface.call(p.default(lr),"toggleIcon")}),p.default.fn[qr]=$n._jQueryInterface,p.default.fn[qr].Constructor=$n,p.default.fn[qr].noConflict=function(){return p.default.fn[qr]=Uo,$n._jQueryInterface};var Vo="IFrame",_a="lte.iframe",qa=p.default.fn[Vo],Wa='[data-widget="iframe"]',Ji='[data-widget="iframe-fullscreen"]',fo=".content-wrapper",Ri=fo+" iframe",Zi=fo+".iframe-mode .nav",An=fo+".iframe-mode .navbar-nav",xr=An+" .nav-item",ho=An+" .nav-link",zo=fo+".iframe-mode .tab-content",po=zo+" .tab-empty",mo=zo+" .tab-loading",ki=zo+" .tab-pane",oi=".main-sidebar .nav-item > a.nav-link",xo=".main-header .nav-item a.nav-link",ea=".main-header a.dropdown-item",er="iframe-mode",dr="iframe-mode-fullscreen",Di={onTabClick:function(be){return be},onTabChanged:function(be){return be},onTabCreated:function(be){return be},autoIframeMode:!0,autoItemActive:!0,autoShowNewTab:!0,autoDarkMode:!1,allowDuplicates:!1,allowReload:!0,loadingScreen:!0,useNavbarItems:!0,scrollOffset:40,scrollBehaviorSwap:!1,iconMaximize:"fa-expand",iconMinimize:"fa-compress"},qo=function(){function pe(ve,j){this._config=j,this._element=ve,this._init()}var be=pe.prototype;return be.onTabClick=function(j){this._config.onTabClick(j)},be.onTabChanged=function(j){this._config.onTabChanged(j)},be.onTabCreated=function(j){this._config.onTabCreated(j)},be.createTab=function(j,X,le,Ee){var De=this,vt="panel-"+le,Vt="tab-"+le;this._config.allowDuplicates&&(vt+="-"+Math.floor(1e3*Math.random()),Vt+="-"+Math.floor(1e3*Math.random()));var Le='<li class="nav-item" role="presentation"><a href="#" class="btn-iframe-close" data-widget="iframe-close" data-type="only-this"><i class="fas fa-times"></i></a><a class="nav-link" data-toggle="row" id="'+Vt+'" href="#'+vt+'" role="tab" aria-controls="'+vt+'" aria-selected="false">'+j+"</a></li>";p.default(An).append(unescape(escape(Le)));var rr='<div class="tab-pane fade" id="'+vt+'" role="tabpanel" aria-labelledby="'+Vt+'"><iframe src="'+X+'"></iframe></div>';if(p.default(zo).append(unescape(escape(rr))),Ee)if(this._config.loadingScreen){var kr=p.default(mo);kr.fadeIn(),p.default(vt+" iframe").ready(function(){"number"==typeof De._config.loadingScreen?(De.switchTab("#"+Vt),setTimeout(function(){kr.fadeOut()},De._config.loadingScreen)):(De.switchTab("#"+Vt),kr.fadeOut())})}else this.switchTab("#"+Vt);this.onTabCreated(p.default("#"+Vt))},be.openTabSidebar=function(j,X){void 0===X&&(X=this._config.autoShowNewTab);var le=p.default(j).clone();void 0===le.attr("href")&&(le=p.default(j).parent("a").clone()),le.find(".right, .search-path").remove();var Ee=le.find("p").text();""===Ee&&(Ee=le.text());var De=le.attr("href");if("#"!==De&&""!==De&&void 0!==De){var vt=unescape(De).replace("./","").replace(/["#&'./:=?[\]]/gi,"-").replace(/(--)/gi,""),Vt="tab-"+vt;if(!this._config.allowDuplicates&&p.default("#"+Vt).length>0)return this.switchTab("#"+Vt,this._config.allowReload);(!this._config.allowDuplicates&&0===p.default("#"+Vt).length||this._config.allowDuplicates)&&this.createTab(Ee,De,vt,X)}},be.switchTab=function(j,X){var le=this;void 0===X&&(X=!1);var Ee=p.default(j),De=Ee.attr("href");if(p.default(po).hide(),X){var vt=p.default(mo);this._config.loadingScreen?vt.show(0,function(){p.default(De+" iframe").attr("src",p.default(De+" iframe").attr("src")).ready(function(){le._config.loadingScreen&&("number"==typeof le._config.loadingScreen?setTimeout(function(){vt.fadeOut()},le._config.loadingScreen):vt.fadeOut())})}):p.default(De+" iframe").attr("src",p.default(De+" iframe").attr("src"))}p.default(An+" .active").tab("dispose").removeClass("active"),this._fixHeight(),Ee.tab("show"),Ee.parents("li").addClass("active"),this.onTabChanged(Ee),this._config.autoItemActive&&this._setItemActive(p.default(De+" iframe").attr("src"))},be.removeActiveTab=function(j,X){if("all"==j)p.default(xr).remove(),p.default(ki).remove(),p.default(po).show();else if("all-other"==j)p.default(xr+":not(.active)").remove(),p.default(ki+":not(.active)").remove();else if("only-this"==j){var le=p.default(X),Ee=le.parent(".nav-item"),De=Ee.parent(),vt=Ee.index(),Vt=le.siblings(".nav-link").attr("aria-controls");if(Ee.remove(),p.default("#"+Vt).remove(),p.default(zo).children().length==p.default(po+", "+mo).length)p.default(po).show();else{var Le=vt-1;this.switchTab(De.children().eq(Le).find("a.nav-link"))}}else{var rr=p.default(xr+".active"),kr=rr.parent(),to=rr.index();if(rr.remove(),p.default(ki+".active").remove(),p.default(zo).children().length==p.default(po+", "+mo).length)p.default(po).show();else{var aa=to-1;this.switchTab(kr.children().eq(aa).find("a.nav-link"))}}},be.toggleFullscreen=function(){p.default("body").hasClass(dr)?(p.default(Ji+" i").removeClass(this._config.iconMinimize).addClass(this._config.iconMaximize),p.default("body").removeClass(dr),p.default(po+", "+mo).height("100%"),p.default(fo).height("100%"),p.default(Ri).height("100%")):(p.default(Ji+" i").removeClass(this._config.iconMaximize).addClass(this._config.iconMinimize),p.default("body").addClass(dr)),p.default(window).trigger("resize"),this._fixHeight(!0)},be._init=function(){var j=p.default(zo).children().length>2;if(this._setupListeners(),this._fixHeight(!0),j){var X=p.default(""+ki).first();console.log(X);var le=X.attr("id").replace("panel-","");this.switchTab("#tab-"+le,!0)}},be._initFrameElement=function(){if(window.frameElement&&this._config.autoIframeMode){var j=p.default("body");j.addClass(er),this._config.autoDarkMode&&j.addClass("dark-mode")}},be._navScroll=function(j){var X=p.default(An).scrollLeft();p.default(An).animate({scrollLeft:X+j},250,"linear")},be._setupListeners=function(){var j=this;p.default(window).on("resize",function(){setTimeout(function(){j._fixHeight()},1)}),p.default(fo).hasClass(er)&&(p.default(document).on("click",oi+", .sidebar-search-results .list-group-item",function(Ee){Ee.preventDefault(),j.openTabSidebar(Ee.target)}),this._config.useNavbarItems&&p.default(document).on("click",xo+", "+ea,function(Ee){Ee.preventDefault(),j.openTabSidebar(Ee.target)})),p.default(document).on("click",ho,function(Ee){Ee.preventDefault(),j.onTabClick(Ee.target),j.switchTab(Ee.target)}),p.default(document).on("click",ho,function(Ee){Ee.preventDefault(),j.onTabClick(Ee.target),j.switchTab(Ee.target)}),p.default(document).on("click",'[data-widget="iframe-close"]',function(Ee){Ee.preventDefault();var De=Ee.target;"I"==De.nodeName&&(De=Ee.target.offsetParent),j.removeActiveTab(De.attributes["data-type"]?De.attributes["data-type"].nodeValue:null,De)}),p.default(document).on("click",Ji,function(Ee){Ee.preventDefault(),j.toggleFullscreen()});var X=!1,le=null;p.default(document).on("mousedown",'[data-widget="iframe-scrollleft"]',function(Ee){Ee.preventDefault(),clearInterval(le);var De=j._config.scrollOffset;j._config.scrollBehaviorSwap||(De=-De),X=!0,j._navScroll(De),le=setInterval(function(){j._navScroll(De)},250)}),p.default(document).on("mousedown",'[data-widget="iframe-scrollright"]',function(Ee){Ee.preventDefault(),clearInterval(le);var De=j._config.scrollOffset;j._config.scrollBehaviorSwap&&(De=-De),X=!0,j._navScroll(De),le=setInterval(function(){j._navScroll(De)},250)}),p.default(document).on("mouseup",function(){X&&(X=!1,clearInterval(le),le=null)})},be._setItemActive=function(j){p.default(oi+", "+ea).removeClass("active"),p.default(xo).parent().removeClass("active");var X=p.default(xo+'[href$="'+j+'"]'),le=p.default(ea+'[href$="'+j+'"]'),Ee=p.default(oi+'[href$="'+j+'"]');X.each(function(De,vt){p.default(vt).parent().addClass("active")}),le.each(function(De,vt){p.default(vt).addClass("active")}),Ee.each(function(De,vt){p.default(vt).addClass("active"),p.default(vt).parents(".nav-treeview").prevAll(".nav-link").addClass("active")})},be._fixHeight=function(j){if(void 0===j&&(j=!1),p.default("body").hasClass(dr)){var X=p.default(window).height(),le=p.default(Zi).outerHeight();p.default(po+", "+mo+", "+Ri).height(X-le),p.default(fo).height(X)}else{var Ee=parseFloat(p.default(fo).css("height")),De=p.default(Zi).outerHeight();1==j?setTimeout(function(){p.default(po+", "+mo).height(Ee-De)},50):p.default(Ri).height(Ee-De)}},pe._jQueryInterface=function(j){if(p.default(Wa).length>0){var X=p.default(this).data(_a);X||(X=p.default(this).data());var le=p.default.extend({},Di,"object"==typeof j?j:X);localStorage.setItem("AdminLTE:IFrame:Options",JSON.stringify(le));var Ee=new pe(p.default(this),le);p.default(this).data(_a,"object"==typeof j?j:X),"string"==typeof j&&/createTab|openTabSidebar|switchTab|removeActiveTab/.test(j)&&Ee[j]()}else new pe(p.default(this),JSON.parse(localStorage.getItem("AdminLTE:IFrame:Options")))._initFrameElement()},pe}();p.default(window).on("load",function(){qo._jQueryInterface.call(p.default(Wa))}),p.default.fn[Vo]=qo._jQueryInterface,p.default.fn[Vo].Constructor=qo,p.default.fn[Vo].noConflict=function(){return p.default.fn[Vo]=qa,qo._jQueryInterface};var Dn="Layout",bn="lte.layout",Or=p.default.fn[Dn],Li=".main-header",Et=".main-sidebar",cr=".main-sidebar .sidebar",go=".main-footer",Ea="sidebar-focused",Ii={scrollbarTheme:"os-theme-light",scrollbarAutoHide:"l",panelAutoHeight:!0,panelAutoHeightMode:"min-height",preloadDuration:200,loginRegisterAutoHeight:!0},Un=function(){function pe(ve,j){this._config=j,this._element=ve}var be=pe.prototype;return be.fixLayoutHeight=function(j){void 0===j&&(j=null);var X=p.default("body"),le=0;(X.hasClass("control-sidebar-slide-open")||X.hasClass("control-sidebar-open")||"control_sidebar"===j)&&(le=p.default(".control-sidebar-content").outerHeight());var Ee={window:p.default(window).height(),header:p.default(Li).length>0?p.default(Li).outerHeight():0,footer:p.default(go).length>0?p.default(go).outerHeight():0,sidebar:p.default(cr).length>0?p.default(cr).height():0,controlSidebar:le},De=this._max(Ee),vt=this._config.panelAutoHeight;!0===vt&&(vt=0);var Vt=p.default(".content-wrapper");!1!==vt&&(Vt.css(this._config.panelAutoHeightMode,De===Ee.controlSidebar?De+vt:De===Ee.window?De+vt-Ee.header-Ee.footer:De+vt-Ee.header),this._isFooterFixed()&&Vt.css(this._config.panelAutoHeightMode,parseFloat(Vt.css(this._config.panelAutoHeightMode))+Ee.footer)),X.hasClass("layout-fixed")&&(typeof p.default.fn.overlayScrollbars<"u"?p.default(cr).overlayScrollbars({className:this._config.scrollbarTheme,sizeAutoCapable:!0,scrollbars:{autoHide:this._config.scrollbarAutoHide,clickScrolling:!0}}):p.default(cr).css("overflow-y","auto"))},be.fixLoginRegisterHeight=function(){var j=p.default("body"),X=p.default(".login-box, .register-box");if(j.hasClass("iframe-mode"))j.css("height","100%"),p.default(".wrapper").css("height","100%"),p.default("html").css("height","100%");else if(0===X.length)j.css("height","auto"),p.default("html").css("height","auto");else{var le=X.height();j.css(this._config.panelAutoHeightMode)!==le&&j.css(this._config.panelAutoHeightMode,le)}},be._init=function(){var j=this;this.fixLayoutHeight(),!0===this._config.loginRegisterAutoHeight?this.fixLoginRegisterHeight():this._config.loginRegisterAutoHeight===parseInt(this._config.loginRegisterAutoHeight,10)&&setInterval(this.fixLoginRegisterHeight,this._config.loginRegisterAutoHeight),p.default(cr).on("collapsed.lte.treeview expanded.lte.treeview",function(){j.fixLayoutHeight()}),p.default(Et).on("mouseenter mouseleave",function(){p.default("body").hasClass("sidebar-collapse")&&j.fixLayoutHeight()}),p.default('[data-widget="pushmenu"]').on("collapsed.lte.pushmenu shown.lte.pushmenu",function(){setTimeout(function(){j.fixLayoutHeight()},300)}),p.default('[data-widget="control-sidebar"]').on("collapsed.lte.controlsidebar",function(){j.fixLayoutHeight()}).on("expanded.lte.controlsidebar",function(){j.fixLayoutHeight("control_sidebar")}),p.default(window).resize(function(){j.fixLayoutHeight()}),setTimeout(function(){p.default("body.hold-transition").removeClass("hold-transition")},50),setTimeout(function(){var X=p.default(".preloader");X&&(X.css("height",0),setTimeout(function(){X.children().hide()},200))},this._config.preloadDuration)},be._max=function(j){var X=0;return Object.keys(j).forEach(function(le){j[le]>X&&(X=j[le])}),X},be._isFooterFixed=function(){return"fixed"===p.default(go).css("position")},pe._jQueryInterface=function(j){return void 0===j&&(j=""),this.each(function(){var X=p.default(this).data(bn),le=p.default.extend({},Ii,p.default(this).data());X||(X=new pe(p.default(this),le),p.default(this).data(bn,X)),"init"===j||""===j?X._init():("fixLayoutHeight"===j||"fixLoginRegisterHeight"===j)&&X[j]()})},pe}();p.default(window).on("load",function(){Un._jQueryInterface.call(p.default("body"))}),p.default(cr+" a").on("focusin",function(){p.default(Et).addClass(Ea)}).on("focusout",function(){p.default(Et).removeClass(Ea)}),p.default.fn[Dn]=Un._jQueryInterface,p.default.fn[Dn].Constructor=Un,p.default.fn[Dn].noConflict=function(){return p.default.fn[Dn]=Or,Un._jQueryInterface};var In="PushMenu",Pi="lte.pushmenu",Wo="."+Pi,Oo=p.default.fn[In],Ca="collapsed"+Wo,on="collapsed-done"+Wo,Yr="shown"+Wo,Yn='[data-widget="pushmenu"]',Br="body",Qr="sidebar-collapse",Gr="sidebar-open",ii="sidebar-is-opening",Sa="sidebar-closed",Xa={autoCollapseSize:992,enableRemember:!1,noTransitionAfterReload:!0,animationSpeed:300},c=function(){function pe(ve,j){this._element=ve,this._options=p.default.extend({},Xa,j),0===p.default("#sidebar-overlay").length&&this._addOverlay(),this._init()}var be=pe.prototype;return be.expand=function(){var j=p.default(Br);this._options.autoCollapseSize&&p.default(window).width()<=this._options.autoCollapseSize&&j.addClass(Gr),j.addClass(ii).removeClass(Qr+" "+Sa).delay(50).queue(function(){j.removeClass(ii),p.default(this).dequeue()}),this._options.enableRemember&&localStorage.setItem("remember"+Wo,Gr),p.default(this._element).trigger(p.default.Event(Yr))},be.collapse=function(){var j=this,X=p.default(Br);this._options.autoCollapseSize&&p.default(window).width()<=this._options.autoCollapseSize&&X.removeClass(Gr).addClass(Sa),X.addClass(Qr),this._options.enableRemember&&localStorage.setItem("remember"+Wo,Qr),p.default(this._element).trigger(p.default.Event(Ca)),setTimeout(function(){p.default(j._element).trigger(p.default.Event(on))},this._options.animationSpeed)},be.toggle=function(){p.default(Br).hasClass(Qr)?this.expand():this.collapse()},be.autoCollapse=function(j){if(void 0===j&&(j=!1),this._options.autoCollapseSize){var X=p.default(Br);p.default(window).width()<=this._options.autoCollapseSize?X.hasClass(Gr)||this.collapse():!0===j&&(X.hasClass(Gr)?X.removeClass(Gr):X.hasClass(Sa)&&this.expand())}},be.remember=function(){if(this._options.enableRemember){var j=p.default("body");localStorage.getItem("remember"+Wo)===Qr?this._options.noTransitionAfterReload?j.addClass("hold-transition").addClass(Qr).delay(50).queue(function(){p.default(this).removeClass("hold-transition"),p.default(this).dequeue()}):j.addClass(Qr):this._options.noTransitionAfterReload?j.addClass("hold-transition").removeClass(Qr).delay(50).queue(function(){p.default(this).removeClass("hold-transition"),p.default(this).dequeue()}):j.removeClass(Qr)}},be._init=function(){var j=this;this.remember(),this.autoCollapse(),p.default(window).resize(function(){j.autoCollapse(!0)})},be._addOverlay=function(){var j=this,X=p.default("<div />",{id:"sidebar-overlay"});X.on("click",function(){j.collapse()}),p.default(".wrapper").append(X)},pe._jQueryInterface=function(j){return this.each(function(){var X=p.default(this).data(Pi),le=p.default.extend({},Xa,p.default(this).data());X||(X=new pe(this,le),p.default(this).data(Pi,X)),"string"==typeof j&&/collapse|expand|toggle/.test(j)&&X[j]()})},pe}();p.default(document).on("click",Yn,function(pe){pe.preventDefault();var be=pe.currentTarget;"pushmenu"!==p.default(be).data("widget")&&(be=p.default(be).closest(Yn)),c._jQueryInterface.call(p.default(be),"toggle")}),p.default(window).on("load",function(){c._jQueryInterface.call(p.default(Yn))}),p.default.fn[In]=c._jQueryInterface,p.default.fn[In].Constructor=c,p.default.fn[In].noConflict=function(){return p.default.fn[In]=Oo,c._jQueryInterface};var h="SidebarSearch",y="lte.sidebar-search",S=p.default.fn[h],R="sidebar-search-open",D="fa-search",B="fa-times",V="sidebar-search-results",k="list-group",he='[data-widget="sidebar-search"]',Fe=he+" .form-control",Ot=he+" .btn",Rt=Ot+" i",an="."+k,rn="."+V,en=rn+" ."+k,yr={arrowSign:"->",minLength:3,maxResults:7,highlightName:!0,highlightPath:!1,highlightClass:"text-light",notFoundText:"No element found!"},jt=[],Pn=function(){function pe(ve,j){this.element=ve,this.options=p.default.extend({},yr,j),this.items=[]}var be=pe.prototype;return be.init=function(){var j=this;0!==p.default(he).length&&(0===p.default(he).next(rn).length&&p.default(he).after(p.default("<div />",{class:V})),0===p.default(rn).children(an).length&&p.default(rn).append(p.default("<div />",{class:k})),this._addNotFound(),p.default(".main-sidebar .nav-sidebar").children().each(function(X,le){j._parseItem(le)}))},be.search=function(){var j=this,X=p.default(Fe).val().toLowerCase();if(X.length<this.options.minLength)return p.default(en).empty(),this._addNotFound(),void this.close();var le=jt.filter(function(De){return De.name.toLowerCase().includes(X)}),Ee=p.default(le.slice(0,this.options.maxResults));p.default(en).empty(),0===Ee.length?this._addNotFound():Ee.each(function(De,vt){p.default(en).append(j._renderItem(escape(vt.name),encodeURI(vt.link),vt.path))}),this.open()},be.open=function(){p.default(he).parent().addClass(R),p.default(Rt).removeClass(D).addClass(B)},be.close=function(){p.default(he).parent().removeClass(R),p.default(Rt).removeClass(B).addClass(D)},be.toggle=function(){p.default(he).parent().hasClass(R)?this.close():this.open()},be._parseItem=function(j,X){var le=this;if(void 0===X&&(X=[]),!p.default(j).hasClass("nav-header")){var Ee={},De=p.default(j).clone().find("> .nav-link"),vt=p.default(j).clone().find("> .nav-treeview"),Vt=De.attr("href"),Le=De.find("p").children().remove().end().text();if(Ee.name=this._trimText(Le),Ee.link=Vt,Ee.path=X,0===vt.length)jt.push(Ee);else{var rr=Ee.path.concat([Ee.name]);vt.children().each(function(kr,to){le._parseItem(to,rr)})}}},be._trimText=function(j){return jn.trim(j.replace(/(\r\n|\n|\r)/gm," "))},be._renderItem=function(j,X,le){var Ee=this;if(le=le.join(" "+this.options.arrowSign+" "),j=unescape(j),X=decodeURI(X),this.options.highlightName||this.options.highlightPath){var De=p.default(Fe).val().toLowerCase(),vt=new RegExp(De,"gi");this.options.highlightName&&(j=j.replace(vt,function(kr){return'<strong class="'+Ee.options.highlightClass+'">'+kr+"</strong>"})),this.options.highlightPath&&(le=le.replace(vt,function(kr){return'<strong class="'+Ee.options.highlightClass+'">'+kr+"</strong>"}))}var Vt=p.default("<a/>",{href:decodeURIComponent(X),class:"list-group-item"}),Le=p.default("<div/>",{class:"search-title"}).html(j),rr=p.default("<div/>",{class:"search-path"}).html(le);return Vt.append(Le).append(rr),Vt},be._addNotFound=function(){p.default(en).append(this._renderItem(this.options.notFoundText,"#",[]))},pe._jQueryInterface=function(j){var X=p.default(this).data(y);X||(X=p.default(this).data());var le=p.default.extend({},yr,"object"==typeof j?j:X),Ee=new pe(p.default(this),le);p.default(this).data(y,"object"==typeof j?j:X),"string"==typeof j&&/init|toggle|close|open|search/.test(j)?Ee[j]():Ee.init()},pe}();p.default(document).on("click",Ot,function(pe){pe.preventDefault(),Pn._jQueryInterface.call(p.default(he),"toggle")}),p.default(document).on("keyup",Fe,function(pe){return 38==pe.keyCode?(pe.preventDefault(),void p.default(en).children().last().focus()):40==pe.keyCode?(pe.preventDefault(),void p.default(en).children().first().focus()):void setTimeout(function(){Pn._jQueryInterface.call(p.default(he),"search")},100)}),p.default(document).on("keydown",en,function(pe){var be=p.default(":focus");38==pe.keyCode&&(pe.preventDefault(),be.is(":first-child")?be.siblings().last().focus():be.prev().focus()),40==pe.keyCode&&(pe.preventDefault(),be.is(":last-child")?be.siblings().first().focus():be.next().focus())}),p.default(window).on("load",function(){Pn._jQueryInterface.call(p.default(he),"init")}),p.default.fn[h]=Pn._jQueryInterface,p.default.fn[h].Constructor=Pn,p.default.fn[h].noConflict=function(){return p.default.fn[h]=S,Pn._jQueryInterface};var Lt="NavbarSearch",ln="lte.navbar-search",Bi=p.default.fn[Lt],fn='[data-widget="navbar-search"]',Xr=".form-control",Qn="navbar-search-open",tr={resetOnClose:!0,target:".navbar-search-block"},Er=function(){function pe(ve,j){this._element=ve,this._config=p.default.extend({},tr,j)}var be=pe.prototype;return be.open=function(){p.default(this._config.target).css("display","flex").hide().fadeIn().addClass(Qn),p.default(this._config.target+" "+Xr).focus()},be.close=function(){p.default(this._config.target).fadeOut().removeClass(Qn),this._config.resetOnClose&&p.default(this._config.target+" "+Xr).val("")},be.toggle=function(){p.default(this._config.target).hasClass(Qn)?this.close():this.open()},pe._jQueryInterface=function(j){return this.each(function(){var X=p.default(this).data(ln),le=p.default.extend({},tr,p.default(this).data());if(X||(X=new pe(this,le),p.default(this).data(ln,X)),!/toggle|close|open/.test(j))throw new Error("Undefined method "+j);X[j]()})},pe}();p.default(document).on("click",fn,function(pe){pe.preventDefault();var be=p.default(pe.currentTarget);"navbar-search"!==be.data("widget")&&(be=be.closest(fn)),Er._jQueryInterface.call(be,"toggle")}),p.default.fn[Lt]=Er._jQueryInterface,p.default.fn[Lt].Constructor=Er,p.default.fn[Lt].noConflict=function(){return p.default.fn[Lt]=Bi,Er._jQueryInterface};var Sn="Toasts",xn=".lte.toasts",Zr=p.default.fn[Sn],ra="init"+xn,Ja="created"+xn,Ts="removed"+xn,eo="topRight",vo="topLeft",si="bottomRight",Ko="bottomLeft",ji={position:eo,fixed:!0,autohide:!1,autoremove:!0,delay:1e3,fade:!0,icon:null,image:null,imageAlt:null,imageHeight:"25px",title:null,subtitle:null,close:!0,body:null,class:null},bo=function(){function pe(ve,j){this._config=j,this._prepareContainer(),p.default("body").trigger(p.default.Event(ra))}var be=pe.prototype;return be.create=function(){var j=p.default('<div class="toast" role="alert" aria-live="assertive" aria-atomic="true"/>');j.data("autohide",this._config.autohide),j.data("animation",this._config.fade),this._config.class&&j.addClass(this._config.class),this._config.delay&&500!=this._config.delay&&j.data("delay",this._config.delay);var X=p.default('<div class="toast-header">');if(null!=this._config.image){var le=p.default("<img />").addClass("rounded mr-2").attr("src",this._config.image).attr("alt",this._config.imageAlt);null!=this._config.imageHeight&&le.height(this._config.imageHeight).width("auto"),X.append(le)}if(null!=this._config.icon&&X.append(p.default("<i />").addClass("mr-2").addClass(this._config.icon)),null!=this._config.title&&X.append(p.default("<strong />").addClass("mr-auto").html(this._config.title)),null!=this._config.subtitle&&X.append(p.default("<small />").html(this._config.subtitle)),1==this._config.close){var Ee=p.default('<button data-dismiss="toast" />').attr("type","button").addClass("ml-2 mb-1 close").attr("aria-label","Close").append('<span aria-hidden="true">&times;</span>');null==this._config.title&&Ee.toggleClass("ml-2 ml-auto"),X.append(Ee)}j.append(X),null!=this._config.body&&j.append(p.default('<div class="toast-body" />').html(this._config.body)),p.default(this._getContainerId()).prepend(j);var De=p.default("body");De.trigger(p.default.Event(Ja)),j.toast("show"),this._config.autoremove&&j.on("hidden.bs.toast",function(){p.default(this).delay(200).remove(),De.trigger(p.default.Event(Ts))})},be._getContainerId=function(){return this._config.position==eo?"#toastsContainerTopRight":this._config.position==vo?"#toastsContainerTopLeft":this._config.position==si?"#toastsContainerBottomRight":this._config.position==Ko?"#toastsContainerBottomLeft":void 0},be._prepareContainer=function(){if(0===p.default(this._getContainerId()).length){var j=p.default("<div />").attr("id",this._getContainerId().replace("#",""));this._config.position==eo?j.addClass("toasts-top-right"):this._config.position==vo?j.addClass("toasts-top-left"):this._config.position==si?j.addClass("toasts-bottom-right"):this._config.position==Ko&&j.addClass("toasts-bottom-left"),p.default("body").append(j)}this._config.fixed?p.default(this._getContainerId()).addClass("fixed"):p.default(this._getContainerId()).removeClass("fixed")},pe._jQueryInterface=function(j,X){return this.each(function(){var le=p.default.extend({},ji,X),Ee=new pe(p.default(this),le);"create"===j&&Ee[j]()})},pe}();p.default.fn[Sn]=bo._jQueryInterface,p.default.fn[Sn].Constructor=bo,p.default.fn[Sn].noConflict=function(){return p.default.fn[Sn]=Zr,bo._jQueryInterface};var nr="TodoList",Za="lte.todolist",Ro=p.default.fn[nr],Vn={onCheck:function(be){return be},onUnCheck:function(be){return be}},hr=function(){function pe(ve,j){this._config=j,this._element=ve,this._init()}var be=pe.prototype;return be.toggle=function(j){j.parents("li").toggleClass("done"),p.default(j).prop("checked")?this.check(j):this.unCheck(p.default(j))},be.check=function(j){this._config.onCheck.call(j)},be.unCheck=function(j){this._config.onUnCheck.call(j)},be._init=function(){var j=this,X=this._element;X.find("input:checkbox:checked").parents("li").toggleClass("done"),X.on("change","input:checkbox",function(le){j.toggle(p.default(le.target))})},pe._jQueryInterface=function(j){return this.each(function(){var X=p.default(this).data(Za);X||(X=p.default(this).data());var le=p.default.extend({},Vn,"object"==typeof j?j:X),Ee=new pe(p.default(this),le);p.default(this).data(Za,"object"==typeof j?j:X),"init"===j&&Ee[j]()})},pe}();p.default(window).on("load",function(){hr._jQueryInterface.call(p.default('[data-widget="todo-list"]'))}),p.default.fn[nr]=hr._jQueryInterface,p.default.fn[nr].Constructor=hr,p.default.fn[nr].noConflict=function(){return p.default.fn[nr]=Ro,hr._jQueryInterface};var _o="Treeview",$="lte.treeview",te="."+$,se=p.default.fn[_o],fe="expanded"+te,ce="collapsed"+te,Be="load"+te,Ge=".nav-item",ze=".nav-treeview",It=".menu-open",pt='[data-widget="treeview"]',gt="menu-open",kt="menu-is-opening",Mt={trigger:pt+" .nav-link",animationSpeed:300,accordion:!0,expandSidebar:!1,sidebarButtonSelector:'[data-widget="pushmenu"]'},On=function(){function pe(ve,j){this._config=j,this._element=ve}var be=pe.prototype;return be.init=function(){p.default(""+Ge+It+" "+ze+It).css("display","block"),this._setupListeners()},be.expand=function(j,X){var le=this,Ee=p.default.Event(fe);if(this._config.accordion){var De=X.siblings(It).first(),vt=De.find(ze).first();this.collapse(vt,De)}X.addClass(kt),j.stop().slideDown(this._config.animationSpeed,function(){X.addClass(gt),p.default(le._element).trigger(Ee)}),this._config.expandSidebar&&this._expandSidebar()},be.collapse=function(j,X){var le=this,Ee=p.default.Event(ce);X.removeClass(kt+" "+gt),j.stop().slideUp(this._config.animationSpeed,function(){p.default(le._element).trigger(Ee),j.find(It+" > "+ze).slideUp(),j.find(It).removeClass(kt+" "+gt)})},be.toggle=function(j){var X=p.default(j.currentTarget),le=X.parent(),Ee=le.find("> "+ze);if(Ee.is(ze)||(le.is(Ge)||(Ee=le.parent().find("> "+ze)),Ee.is(ze))){j.preventDefault();var De=X.parents(Ge).first();De.hasClass(gt)?this.collapse(p.default(Ee),De):this.expand(p.default(Ee),De)}},be._setupListeners=function(){var j=this,X=void 0!==this._element.attr("id")?"#"+this._element.attr("id"):"";p.default(document).on("click",""+X+this._config.trigger,function(le){j.toggle(le)})},be._expandSidebar=function(){p.default("body").hasClass("sidebar-collapse")&&p.default(this._config.sidebarButtonSelector).PushMenu("expand")},pe._jQueryInterface=function(j){return this.each(function(){var X=p.default(this).data($),le=p.default.extend({},Mt,p.default(this).data());X||(X=new pe(p.default(this),le),p.default(this).data($,X)),"init"===j&&X[j]()})},pe}();p.default(window).on(Be,function(){p.default(pt).each(function(){On._jQueryInterface.call(p.default(this),"init")})}),p.default.fn[_o]=On._jQueryInterface,p.default.fn[_o].Constructor=On,p.default.fn[_o].noConflict=function(){return p.default.fn[_o]=se,On._jQueryInterface},Ue.CardRefresh=zt,Ue.CardWidget=Bo,Ue.ControlSidebar=lo,Ue.DirectChat=Pt,Ue.Dropdown=Nn,Ue.ExpandableTable=Hn,Ue.Fullscreen=$n,Ue.IFrame=qo,Ue.Layout=Un,Ue.NavbarSearch=Er,Ue.PushMenu=c,Ue.SidebarSearch=Pn,Ue.Toasts=bo,Ue.TodoList=hr,Ue.Treeview=On,Object.defineProperty(Ue,"__esModule",{value:!0})});